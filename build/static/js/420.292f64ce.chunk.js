"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[420],{5420:function(e,t,n){n.r(t),n.d(t,{default:function(){return vt}});var i=n(2791),r=n(7689),s=n(6015),a=n(1413),o=n(885),c=n(142),l=n(166),d=n(6582),p=n(1091),u=n(1713),x=n(184),h=function(){var e=(0,r.TH)().pathname,t=e.substring(1),n=[0===t.indexOf("cv/report"),0===t.indexOf("cv/settings")],h=i.useState((function(){return"/cv"===e?0:n.indexOf(!0)})),m=(0,o.Z)(h,2),v=m[0],f=m[1],Z=i.useCallback((function(e,t){f(t)}),[f]);return i.useEffect((function(){"/cv"===e&&f(0)}),[e,f]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(c.Z,{variant:"scrollable",value:v>=0?v:0,onChange:Z,children:[(0,x.jsx)(l.Z,(0,a.Z)({label:"Reports"},0===t.indexOf("cv/report")||"/cv"===e?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"report",sx:{textTransform:"initial"}})),(0,x.jsx)(l.Z,(0,a.Z)({label:"Settings"},0===t.indexOf("cv/settings")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"settings",sx:{textTransform:"initial"}}))]}),(0,x.jsx)(s.Z,{py:0===v?2:0,children:v<=0?(0,x.jsxs)(d.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,x.jsx)(p.Z,(0,a.Z)((0,a.Z)({},0!==t.indexOf("cv/report/options")&&0!==t.indexOf("cv/report/statuses")&&0!==t.indexOf("cv/report/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/cv/report"}),{},{children:"Data"})),(0,x.jsx)(p.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("cv/report/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/cv/report/statuses"}),{},{children:"Statuses"}))]}):(0,x.jsx)(i.Fragment,{})})]})};(h=i.memo(h)).defaultProps={};var m=h,v=function(e){e.children;return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{pr:2,children:(0,x.jsx)(m,{})}),(0,x.jsx)(r.j3,{})]})};(v=i.memo(v)).defaultProps={};var f=v,Z=n(148),j=n(4565),g=n(2419),y=n(2772),b=n(6601),k=n(5953),S=n(9823),C=n(2885),w=n(1131),I=n(9776),P=n(2982),R=n(6030),F=n(708),A=n(3811),L=n(5987),N=n(393),T=n(4307),D=n(2606),O=n(5702),E=n(4585),W=n(1251),q=n(6376),H=n(5812),J=["name","children"],z=function(e){var t,n,r,s=e.name,o=e.children,c=(0,L.Z)(e,J),l=(0,N.Ds)().enqueueSnackbar,d=(0,R.v9)((0,F.Z)(["loader","unmount","visible"])),p=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","loader"])),u=null!==(t=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","total"])))&&void 0!==t?t:0,h=null!==(n=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","page"])))&&void 0!==n?n:1,m=null!==(r=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","limit"])))&&void 0!==r?r:20,v=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","query"])),f=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","data"])),Z=i.useCallback((function(e,t){(0,y.P)("cvReportStatusList","loader",!0)(),(0,y.P)("cvReportStatusList","page",t)()}),[]),j=i.useCallback((function(e){(0,y.P)("cvReportStatusList","loader",!0)(),(0,y.P)("cvReportStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,T.i)({id:"cvReportStatusList",url:"https://api.cidiator.com/cv",path:"report-status",withAccessToken:!0,page:h,limit:m,query:v})(l)}),[d,l,h,m,v]),i.useEffect((function(){return function(){(0,D.K)("cvReportStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(W.Z,{visible:p||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),p||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(q.Z,(0,a.Z)((0,a.Z)({name:s},c),{},{children:o||(Array.isArray(f)?[].concat((0,P.Z)(1===h&&u<m?[]:[(0,x.jsx)(I.Z,{name:"select-".concat(s.toString(),"-search"),onSearch:g},"formSearch")]),(0,P.Z)(f),(0,P.Z)(1===h&&u<m?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(E.Z,{count:Math.ceil(u/m),page:h,onChange:Z})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(H.Z,{label:"Limit",size:"small",value:m,onChange:j})})]},"MuiPagination")])):(0,x.jsx)(O.Z,{children:(0,x.jsx)(W.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(z=i.memo(z)).defaultProps={name:"reportStatusId",multiple:!1,onChange:function(){}};var M=z,U=function(){var e=(0,r.s0)(),t=(0,r.TH)(),n=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","data"])),s=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)||{}}),[t]),a=i.useMemo((function(){return Array.isArray(n)?n.filter((function(e){return(s.reportStatusId||[]).includes(e.id)})).map((function(e){return{value:e.id,text:e.name}})):[]}),[s,n]),o=i.useCallback((function(t,n){(0,y.P)("cvReportList","loader",!0)(),n.length>0?s.reportStatusId=["$In"].concat((0,P.Z)(n.map((function(e){return e.value})))):delete s.reportStatusId;var i="",r=(0,b.Z)("query",window.location.search),a=(0,b.Z)("sort",window.location.search,!0);Object.keys(s).length>0&&(i+="?filter=".concat(JSON.stringify(s))),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),r&&(i+=i?"&query=".concat(r):"?query=".concat(r)),e(i)}),[e,s]),c=i.useCallback((function(t){(0,y.P)("cvReportList","loader",!0)(),delete s.reportStatusId;var n="",i=(0,b.Z)("query",window.location.search),r=(0,b.Z)("sort",window.location.search,!0);Object.keys(s).length>0&&(n+="?filter=".concat(JSON.stringify(s))),r&&"object"===typeof r&&Object.keys(r).length>0&&(n+=n?"&sort=".concat(JSON.stringify(r)):"?sort=".concat(JSON.stringify(r))),i&&(n+=n?"&query=".concat(i):"?query=".concat(i)),e(n)}),[s,e]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[a.length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(A.Z,{size:"small",color:"error",onClick:c,children:(0,x.jsx)(S.Z,{fontSize:"small"})})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M,{multiple:!0,label:"Status",name:"reportStatusId",onChange:o,value:a})})]})})};(U=i.memo(U)).defaultProps={};var Q=U,V=function(){var e=(0,r.s0)(),t=(0,r.TH)(),n=i.useState((function(){return!1})),c=(0,o.Z)(n,2),l=c[0],d=c[1],u=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)}),[t]),h=i.useMemo((function(){return(0,b.Z)("query",window.location.search)}),[]),m=i.useCallback((function(e){d((function(e){return!e}))}),[d]),v=i.useCallback((function(t){if(t!==((0,b.Z)("query",window.location.search)||"")){(0,y.P)("cvReportList","loader",!0)();var n="",i=(0,b.Z)("sort",window.location.search,!0);t.length>0&&(n="?query=".concat(t)),u&&"object"===typeof u&&Object.keys(u).length>0&&(n+=n?"&filter=".concat(JSON.stringify(u)):"?filter=".concat(JSON.stringify(u))),i&&"object"===typeof i&&Object.keys(i).length>0&&(n+=n?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(n)}}),[e,u]),f=i.useCallback((function(t){(0,y.P)("cvReportList","loader",!0)();var n="",i=(0,b.Z)("query",window.location.search)||"",r=(0,b.Z)("sort",window.location.search,!0);i.length>0&&(n="?query=".concat(i)),r&&"object"===typeof r&&Object.keys(r).length>0&&(n+=n?"&sort=".concat(JSON.stringify(r)):"?sort=".concat(JSON.stringify(r))),e(n)}),[e]);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(I.Z,{onSearch:v,defaultValue:h}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[l&&"object"===typeof u&&Object.keys(u).length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(p.Z,{disableElevation:!0,color:"error",startIcon:(0,x.jsx)(S.Z,{}),onClick:f,children:"Clear"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsxs)(p.Z,{disableElevation:!0,color:"primary",onClick:m,startIcon:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(C.Z,{sx:{display:l?"block":"none"}}),(0,x.jsx)(w.Z,{sx:{display:l?"none":"block"}})]}),children:[(0,x.jsx)(j.Z,{sx:{display:l?"block":"none"},children:"Collapse"}),(0,x.jsx)(j.Z,{sx:{display:l?"none":"block"},children:"Filters"})]})})]}),(0,x.jsx)(s.Z,{pb:l?2:0,sx:(0,a.Z)({position:"relative",overflow:"hidden"},l?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,x.jsx)(k.ZP,{container:!0,spacing:3,children:(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(Q,{})})})})]})};(V=i.memo(V)).defaultProps={};var K=V,_=n(6386),B=n(4432),Y=n(9827),$=n(9773),G=n(807),X=n(4390),ee=n(2898),te=n(4486),ne=n(3343),ie=n(1895),re=n(2399),se=n(9320),ae=n(5514),oe=n(4346),ce=n(7247),le=n(1286),de=n(3939),pe=n(6153),ue=["entityId","isDeleted","isNotDelete"],xe=function(e){var t=e.entityId,n=e.isDeleted,r=e.isNotDelete,s=(0,L.Z)(e,ue),o=(0,N.Ds)().enqueueSnackbar,c=i.useCallback((function(e){(0,ie.Q)()()}),[]),l=i.useCallback((function(e){(0,re.n)("cvReportDrop",{entityId:t})(),(0,ie.Q)()()}),[t]),d=i.useCallback((function(e){(0,se.U)({storeName:"cvReportList",entityId:t,url:"https://api.cidiator.com/cv",path:"report",withAccessToken:!0})(o),(0,ie.Q)()()}),[t,o]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(pe.Z,(0,a.Z)((0,a.Z)({},s),{},{children:[(0,x.jsxs)(O.Z,{component:u.Z,to:t,onClick:c,children:[(0,x.jsx)(ae.Z,{children:(0,x.jsx)(le.Z,{})}),(0,x.jsx)(oe.Z,{children:"Edit"})]}),n&&(0,x.jsxs)(O.Z,{onClick:d,children:[(0,x.jsx)(ae.Z,{children:(0,x.jsx)(de.Z,{})}),(0,x.jsx)(oe.Z,{children:"Restore"})]}),!r&&(0,x.jsxs)(O.Z,{onClick:l,children:[(0,x.jsx)(ae.Z,{children:(0,x.jsx)(ce.Z,{color:n?"error":"inherit"})}),(0,x.jsx)(oe.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(xe=i.memo(xe)).defaultProps={};var he=xe,me=n(9042),ve=function(e){var t,n,o,c=e.withAccessToken,l=e.storeName,d=e.url,p=e.path,h=(0,N.Ds)().enqueueSnackbar,m=(0,r.TH)(),v=(0,r.s0)(),f=(0,R.v9)((0,F.Z)(["loader","unmount","visible"])),Z=(0,R.v9)((0,F.Z)(["api","list",l,"loader"])),g=null!==(t=(0,R.v9)((0,F.Z)(["api","list",l,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,R.v9)((0,F.Z)(["api","list",l,"page"])))&&void 0!==n?n:1,S=null!==(o=(0,R.v9)((0,F.Z)(["api","list",l,"limit"])))&&void 0!==o?o:20,C=(0,R.v9)((0,F.Z)(["api","list",l,"data"])),w=(0,b.Z)("query",m.search),I=(0,b.Z)("select",m.search),P=(0,b.Z)("filter",m.search),L=(0,b.Z)("sort",m.search),O=i.useCallback((function(e,t){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"page",t)()}),[l]),E=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"limit",e.target.value)()}),[l]),q=i.useCallback((function(e){return function(t){(0,B.n)("cv-menu-report-context-".concat(e),t.target)()}}),[]),H=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),v((0,ne.z)("id",e))}),[v,l]),J=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),v((0,ne.z)("createdAt",e))}),[v,l]);return i.useEffect((function(){f||(0,T.i)((0,a.Z)((0,a.Z)((0,a.Z)({id:l,url:d,path:p,withAccessToken:c,page:k,limit:S,query:w},I?{select:JSON.parse(decodeURI(I))}:{}),P?{filter:JSON.parse(decodeURI(P))}:{}),L?{sort:JSON.parse(decodeURI(L))}:{}))(h)}),[l,c,d,p,f,k,S,w,I,P,L,h]),i.useEffect((function(){return function(){(0,D.K)(l)()}}),[l]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(W.Z,{visible:!Array.isArray(C)}),Array.isArray(C)?C.length>0?(0,x.jsxs)(te.Z,{withChangeLimit:!0,total:g,page:k,limit:S,length:C.length,onChange:O,onLimit:E,children:[(0,x.jsx)(Y.Z,{children:(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(ne.Z,{name:"id",onChange:H,children:(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,x.jsx)(X.Z,{children:(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"File url"})}),(0,x.jsx)(X.Z,{children:(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})}),(0,x.jsx)(X.Z,{children:(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,x.jsx)(ne.Z,{name:"createdAt",onChange:J,children:(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),Z||f?(0,x.jsxs)("tbody",{children:[(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,x.jsx)(W.Z,{visible:!0})})}),(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,x.jsx)($.Z,{children:C.map((function(e,t){return(0,x.jsxs)(G.Z,{children:[(0,x.jsx)(X.Z,{sx:{minWidth:"19%"},children:(0,x.jsx)(j.Z,{component:u.Z,to:"/cv/report/".concat(e.id),color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,x.jsx)(X.Z,{sx:{minWidth:"20%"},children:(0,x.jsx)(j.Z,{component:u.Z,to:"/cv/report/".concat(e.id),color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.file})}),(0,x.jsx)(X.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(j.Z,{component:"div",children:e.reportStatusId})}),(0,x.jsx)(X.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(j.Z,{component:"div",children:e.userId})}),(0,x.jsx)(X.Z,{sx:{width:"24%"},children:(0,me.Z)(e.createdAt)?(0,x.jsxs)(s.Z,{pb:1,children:[(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,x.jsx)(j.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,_.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{})}),(0,x.jsxs)(X.Z,{sx:{width:"1%"},children:[(0,x.jsx)(A.Z,{onClick:q(e.id),children:(0,x.jsx)(ee.Z,{})}),(0,x.jsx)(he,{id:"cv-menu-report-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,x.jsx)(s.Z,{py:6,display:"flex",justifyContent:"center",children:(0,x.jsx)(j.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,x.jsx)(i.Fragment,{})]})};(ve=i.memo(ve)).defaultProps={withAccessToken:!0,storeName:"cvReportList",url:"https://api.cidiator.com/cv",path:"report"};var fe=ve,Ze=n(4165),je=n(5861),ge=n(7054),ye=n(3960),be=n(9571),ke=n(872),Se=n(9923),Ce=["storeName","id"],we=function(e){var t=e.storeName,n=e.id,r=(0,L.Z)(e,Ce),s=(0,N.Ds)().enqueueSnackbar,o=(0,R.v9)((0,F.Z)(["dialog",n,"entityId"])),c=(0,R.v9)((0,F.Z)(["api","form",t,"loader"])),l=(0,R.v9)((0,F.Z)(["api","list",t,"loader"])),d=i.useCallback(function(){var e=(0,je.Z)((0,Ze.Z)().mark((function e(i){return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ge.R)({entityId:o,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/cv",path:"report"})(s);case 2:return e.next=4,(0,ye.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,o,s]),u=!0===c||!0===l;return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(Se.Z,(0,a.Z)((0,a.Z)({},r),{},{loader:u,maxWidth:"xs",id:n,title:"Delete report?",actions:(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(p.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,x.jsx)(ke.Z,{}),onClick:d,children:"OK"})}),children:(0,x.jsx)(be.Z,{children:"Are you sure you want to delete the current report? This operation is irreversible and may compromise data integrity."})}))})};(we=i.memo(we)).defaultProps={id:"cvReportDrop"};var Ie=we,Pe=function(){return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/report",text:"Reports"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{pb:2,children:(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"Report list"})}),(0,x.jsx)(s.Z,{pb:2,children:(0,x.jsx)(p.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/cv/report/0",children:"Create"})}),(0,x.jsx)(K,{}),(0,x.jsx)(fe,{storeName:"cvReportList"}),(0,x.jsx)(Ie,{storeName:"cvReportList"})]})};(Pe=i.memo(Pe)).defaultProps={};var Re=Pe,Fe=n(2619),Ae=n(5308),Le=n(9154),Ne=n(3329),Te=n(1814),De=n(7232),Oe=["name","children"],Ee=function(e){var t,n,r,s=e.name,o=e.children,c=(0,L.Z)(e,Oe),l=(0,N.Ds)().enqueueSnackbar,d=(0,R.v9)((0,F.Z)(["loader","unmount","visible"])),p=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","loader"])),u=null!==(t=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","total"])))&&void 0!==t?t:0,h=null!==(n=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","page"])))&&void 0!==n?n:1,m=null!==(r=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","limit"])))&&void 0!==r?r:20,v=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","query"])),f=(0,R.v9)((0,F.Z)(["api","list","cvReportStatusList","data"])),Z=i.useCallback((function(e,t){(0,y.P)("cvReportStatusList","loader",!0)(),(0,y.P)("cvReportStatusList","page",t)()}),[]),j=i.useCallback((function(e){(0,y.P)("cvReportStatusList","loader",!0)(),(0,y.P)("cvReportStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,T.i)({id:"cvReportStatusList",url:"https://api.cidiator.com/cv",path:"report-status",withAccessToken:!0,page:h,limit:m,query:v})(l)}),[d,l,h,m,v]),i.useEffect((function(){return function(){(0,D.K)("cvReportStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(W.Z,{visible:p||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),p||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(De.Z,(0,a.Z)((0,a.Z)({name:s},c),{},{children:o||(Array.isArray(f)?[].concat((0,P.Z)(1===h&&u<m?[]:[(0,x.jsx)(I.Z,{name:"select-".concat(s.toString(),"-search"),onSearch:g},"formSearch")]),(0,P.Z)(f.map((function(e){return(0,x.jsx)(O.Z,{value:e.id,children:e.name},e.id)}))),(0,P.Z)(1===h&&u<m?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(E.Z,{count:Math.ceil(u/m),page:h,onChange:Z})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(H.Z,{label:"Limit",size:"small",value:m,onChange:j})})]},"MuiPagination")])):(0,x.jsx)(O.Z,{children:(0,x.jsx)(W.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Ee=i.memo(Ee)).defaultProps={name:"reportStatusId",multiple:!1,onChange:function(){}};var We=Ee,qe=n(7399),He=n(4754),Je=n(9698),ze=n(4047),Me=n(2674),Ue=n(7753),Qe=n(3158),Ve=n(4188),Ke=function(){var e=(0,je.Z)((0,Ze.Z)().mark((function e(t){var n,i,r,s,a,o,c,l,d;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,i=t.enqueueSnackbar,r=t.navigate,e.prev=1,e.next=4,(0,Fe.F)(n,"loader",!0)();case 4:if(s=(0,Ue.Z)().getState().api.form[n],a=s.id,o=s.file,c=s.reportStatusId,l={},(0,Qe.Z)(a,!0)||(l.id="The value is in the wrong format."),(0,Qe.Z)(o)?(0,Ve.Z)(o)||(l.file="Cannot be empty."):l.file="The value is in the wrong format.",c&&"string"===typeof c||(l.reportStatusId="The value is in the wrong format."),!(Object.keys(l).length>0)){e.next=15;break}return e.next=12,(0,Fe.F)(n,"errors",l)();case 12:return e.next=14,(0,Fe.F)(n,"loader",!1)();case 14:return e.abrupt("return");case 15:"0"===n?(0,ze.Y)({entityId:n,url:"https://api.cidiator.com/cv",path:"report",withAccessToken:!0})(i,r):(0,Me.L)({entityId:n,url:"https://api.cidiator.com/cv",path:"report",withAccessToken:!0})(i),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),d=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,i(d,{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),_e=Ke,Be=function(){var e=(0,N.Ds)().enqueueSnackbar,t=(0,r.UO)().entityId,n=(0,r.s0)(),o=(0,R.v9)((0,F.Z)(["loader","unmount","visible"])),c=(0,R.v9)((0,F.Z)(["api","form",t,"loader"])),l=(0,R.v9)((0,F.Z)(["api","form",t,"id"])),d=(0,R.v9)((0,F.Z)(["api","form",t,"reportStatusId"])),u=(0,R.v9)((0,F.Z)(["api","form",t,"file"])),h=(0,R.v9)((0,F.Z)(["api","form",t,"contentId"])),m=(0,R.v9)((0,F.Z)(["api","form",h,"formId"])),v=(0,R.v9)((0,F.Z)(["api","form",t,"isDeleted"])),f=(0,R.v9)((0,F.Z)(["api","form",t,"errors","id"])),Z=(0,R.v9)((0,F.Z)(["api","form",t,"errors","reportStatusId"])),g=(0,R.v9)((0,F.Z)(["api","form",t,"errors","file"])),y=i.useCallback((function(i){i.preventDefault(),_e({gateway:"https://api.cidiator.com/cv",entityId:t,path:"report",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),b=i.useCallback((function(e){(0,Fe.F)(t,"id",e.target.value)()}),[t]),S=i.useCallback((function(e){(0,Fe.F)(t,"file",e.target.value)()}),[t]),C=i.useCallback((function(e,n){(0,Fe.F)(t,"reportStatusId",e.target.value)()}),[t]),w=i.useCallback((function(e){(0,re.n)("optionDrop",{entityId:t})()}),[t]),I=i.useCallback((function(){return{contentId:h}}),[h]),P=i.useCallback((function(){return{field:!0}}),[]),A=i.useCallback((function(){return[["fieldId","Field","20%",function(e,t){return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{pb:1,children:(0,x.jsx)(j.Z,{component:"div",variant:"h6",children:(t.field||{}).name||""})}),(0,x.jsx)(j.Z,{component:"div",variant:"caption",children:(t.field||{}).description||""})]})}],["value","Value","40%",function(e,t){return(0,x.jsx)(i.Fragment,{children:"data-type-type-file"===(t.field||{}).dataTypeId?(0,x.jsx)(i.Fragment,{children:function(){var n="";try{n=JSON.parse(t[e])}catch(o){}var r=0===n.src.indexOf("http")?n.src:n.src.includes("?accessToken=")?"".concat("https://files.cidiator.com").concat(n.src):"".concat("https://files.cidiator.com").concat(n.src,"?accessToken=").concat(localStorage.getItem("".concat("https://dev.cidiator.com","_accessToken")));return(0,x.jsx)("a",{target:"_blank",rel:"noreferrer",href:r,style:{display:"block"},children:(0,x.jsxs)(s.Z,{sx:(0,a.Z)({width:"100%",height:"100%"},c||"png"!==n.type&&"jpeg"!==n.type&&"jpg"!==n.type&&"svg"!==n.type&&"gif"!==n.type?{}:{backgroundColor:"#f7f7f7",backgroundImage:'url("'.concat("https://files.cidiator.com").concat(n.src,"?accessToken=").concat(localStorage.getItem("".concat("https://dev.cidiator.com","_accessToken")),'")'),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat","&:after":{content:'""',display:"block",paddingBottom:"100%"}}),children:["pdf"===n.type?(0,x.jsx)(Te.Z,{sx:{fontSize:"500%"}}):(0,x.jsx)(i.Fragment,{}),c?(0,x.jsx)(W.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"80px",maxWidth:"80px",minHeight:"80px",maxHeight:"80px"}}):(0,x.jsx)(i.Fragment,{})]})})}()}):(0,x.jsx)(j.Z,{component:"div",children:(t[e]||"").split("\n").map((function(e,t){return(0,x.jsx)(s.Z,{pb:1,children:e},t)}))})})}],["userId","User","20"],["createdAt","Create at","20%"]]}),[c]);return i.useEffect((function(){!o&&t&&"0"!==t&&(0,Ae.y)({entityId:t,url:"https://api.cidiator.com/cv",path:"report",withAccessToken:!0})(e,n)}),[o,t,e,n]),i.useEffect((function(){!o&&h&&"0"!==h&&(0,Ae.y)({entityId:h,url:"https://api.cidiator.com/forms",path:"content",withAccessToken:!0})(e)}),[o,h,e]),i.useEffect((function(){return function(){(0,Le.z)(t)()}}),[t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(W.Z,{visible:"undefined"===typeof c||o}),(0,x.jsxs)("form",{onSubmit:y,style:{display:"undefined"===typeof c||o?"none":"initial"},children:[(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(Je.default,{disabled:c,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:l||"",onChange:b,error:f})}),(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(Je.default,{disabled:c,required:!0,name:"file",label:"File url",placeholder:"For example: http://site.com/example.txt",value:u||"",onChange:S,error:g})}),(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(We,{disabled:c,label:"Report status",name:"reportStatusId",value:d||"",onChange:C,error:Z})}),h&&"string"===typeof h&&"0"!==h&&m?(0,x.jsx)(He.Z,{withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"content/field",storeName:"formsContentFieldRelation",filterOptions:I,relationOptions:P,columns:A,title:"Fields",description:"Fields of current form content.",children:(0,x.jsx)(qe.Z,{withAccessToken:!0,formId:m,entityId:h,url:"https://api.cidiator.com/forms",path:"content/field",pathCreate:"content/".concat(h,"/field"),storeName:"formsContentFieldRelation"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(p.Z,{disableElevation:!0,disabled:c,type:"submit",variant:"contained",color:"secondary",startIcon:c?(0,x.jsx)(W.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Ne.Z,{}),children:"Save"})}),t&&"string"===typeof t&&"0"!==t?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(p.Z,{disableElevation:!0,disabled:c,variant:"contained",color:"error",startIcon:(0,x.jsx)(ce.Z,{}),onClick:w,children:v?"Delete permanently":"Delete"})}):(0,x.jsx)(i.Fragment,{})]})]})]})};(Be=i.memo(Be)).defaultProps={};var Ye=Be,$e=function(){var e=(0,r.UO)().entityId,t=(0,R.v9)((0,F.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/report",text:"Reports"},{key:"/cv/report/".concat(e),text:"0"===e?"Create new report":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"0"===e?"Create new report":(0,x.jsxs)(i.Fragment,{children:["Edit report ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(Ye,{storeName:e}),(0,x.jsx)(Ie,{storeName:e})]})};($e=i.memo($e)).defaultProps={};var Ge=$e,Xe=n(2830),et=n(5789),tt=n(2481),nt=function(){return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/report",text:"Reports"},{key:"/cv/report/statuses",text:"Statuses"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(s.Z,{pb:2,children:[(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"Statuses"}),(0,x.jsx)(j.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Entity state."})]}),(0,x.jsx)(s.Z,{pb:2,children:(0,x.jsx)(p.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/cv/report/statuses/0",children:"Create"})}),(0,x.jsx)(Xe.Z,{storeName:"cvReportStatusesList"}),(0,x.jsx)(et.Z,{withAccessToken:!0,storeName:"cvReportStatusesList",url:"https://api.cidiator.com/cv",path:"report-status"}),(0,x.jsx)(tt.Z,{withAccessToken:!0,storeName:"cvReportStatusesList",url:"https://api.cidiator.com/cv",path:"report-status"})]})};(nt=i.memo(nt)).defaultProps={};var it=nt,rt=n(2714),st=function(){var e=(0,r.UO)().entityId,t=(0,R.v9)((0,F.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/report",text:"Reports"},{key:"/cv/report/statuses",text:"Statuses"},{key:"/cv/report/statuses/".concat(e),text:"0"===e?"Create new status":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{pb:2,children:(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"0"===e?"Add status":(0,x.jsxs)(i.Fragment,{children:["Edit status ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(rt.Z,{withAccessToken:!0,storeName:"cvReportStatusesList",url:"https://api.cidiator.com/cv",path:"report-status"}),(0,x.jsx)(tt.Z,{withAccessToken:!0,storeName:"cvReportStatusesList",url:"https://api.cidiator.com/cv",path:"report-status"})]})};(st=i.memo(st)).defaultProps={};var at=st,ot=n(4487),ct=n(4994),lt=n(2426),dt=function(){return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/settings",text:"Settings"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{pt:1,pb:2,children:(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"Settings list"})}),(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(p.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/cv/settings/0",children:"Create"})}),(0,x.jsx)(ot.Z,{storeName:"cvSettingsList"}),(0,x.jsx)(ct.Z,{withAccessToken:!0,storeName:"cvSettingsList",url:"https://api.cidiator.com/cv",path:"setting"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"cvSettingsList",url:"https://api.cidiator.com/cv",path:"setting"})]})};(dt=i.memo(dt)).defaultProps={};var pt=dt,ut=n(4988),xt=function(){var e=(0,r.UO)().entityId,t=(0,R.v9)((0,F.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,Z.Q)("app",[{key:"/",text:"..."},{key:"cv",text:"CV"},{key:"/cv/settings",text:"Settings"},{key:"/cv/settings/".concat(e),text:"0"===e?"Create new setting":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(s.Z,{py:2,children:(0,x.jsx)(j.Z,{component:"div",variant:"h5",children:"0"===e?"Add setting":(0,x.jsxs)(i.Fragment,{children:["Edit setting ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(ut.Z,{withAccessToken:!0,storeName:"cvSettingsList",url:"https://api.cidiator.com/cv",path:"setting"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"cvSettingsList",url:"https://api.cidiator.com/cv",path:"setting"})]})};(xt=i.memo(xt)).defaultProps={};var ht=xt,mt=function(){return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(r.Z5,{children:(0,x.jsxs)(r.AW,{path:"",element:(0,x.jsx)(f,{}),children:[(0,x.jsx)(r.AW,{index:!0,element:(0,x.jsx)(Re,{})}),(0,x.jsx)(r.AW,{path:":entityId",element:(0,x.jsx)(Ge,{})}),(0,x.jsx)(r.AW,{path:"report",element:(0,x.jsx)(Re,{})}),(0,x.jsx)(r.AW,{path:"report/:entityId",element:(0,x.jsx)(Ge,{})}),(0,x.jsx)(r.AW,{path:"report/statuses",element:(0,x.jsx)(it,{})}),(0,x.jsx)(r.AW,{path:"report/statuses/:entityId",element:(0,x.jsx)(at,{})}),(0,x.jsx)(r.AW,{path:"settings",element:(0,x.jsx)(pt,{})}),(0,x.jsx)(r.AW,{path:"settings/:entityId",element:(0,x.jsx)(ht,{})})]})})})};(mt=i.memo(mt)).defaultProps={};var vt=mt}}]);
//# sourceMappingURL=420.292f64ce.chunk.js.map