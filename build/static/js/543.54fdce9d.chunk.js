"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[543],{5543:function(e,t,n){n.r(t),n.d(t,{default:function(){return ai}});var i=n(2791),s=n(7689),r=n(6015),a=n(1413),o=n(885),c=n(142),l=n(166),d=n(6582),m=n(1091),u=n(1713),x=n(184),f=function(){var e=(0,s.TH)().pathname,t=e.substring(1),n=[0===t.indexOf("forms/form"),0===t.indexOf("forms/field"),0===t.indexOf("forms/content"),0===t.indexOf("forms/settings")],f=i.useState((function(){return"/forms"===e?0:n.indexOf(!0)})),p=(0,o.Z)(f,2),h=p[0],Z=p[1],j=i.useCallback((function(e,t){Z(t)}),[Z]);return i.useEffect((function(){"/forms"===e&&Z(0)}),[e,Z]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(c.Z,{variant:"scrollable",value:h>=0?h:0,onChange:j,children:[(0,x.jsx)(l.Z,(0,a.Z)({label:"Forms"},0===t.indexOf("forms/form")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"form",sx:{textTransform:"initial"}})),(0,x.jsx)(l.Z,(0,a.Z)({label:"Fields"},0===t.indexOf("forms/field")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"field",sx:{textTransform:"initial"}})),(0,x.jsx)(l.Z,(0,a.Z)({label:"Content"},0===t.indexOf("forms/content")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"content",sx:{textTransform:"initial"}})),(0,x.jsx)(l.Z,(0,a.Z)({label:"Settings"},0===t.indexOf("forms/settings")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:u.Z,to:"settings",sx:{textTransform:"initial"}}))]}),(0,x.jsx)(r.Z,{py:h<=2?2:0,children:h<=0?(0,x.jsxs)(d.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0!==t.indexOf("forms/form/options")&&0!==t.indexOf("forms/form/statuses")&&0!==t.indexOf("forms/form/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/form"}),{},{children:"Data"})),(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("forms/form/options")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/form/options"}),{},{children:"Options"})),(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("forms/form/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/form/statuses"}),{},{children:"Statuses"}))]}):1===h?(0,x.jsxs)(d.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0!==t.indexOf("forms/field/options")&&0!==t.indexOf("forms/field/statuses")&&0!==t.indexOf("forms/field/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/field"}),{},{children:"Data"})),(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("forms/field/options")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/field/options"}),{},{children:"Options"})),(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("forms/field/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/field/statuses"}),{},{children:"Statuses"}))]}):2===h?(0,x.jsxs)(d.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0!==t.indexOf("forms/content/options")&&0!==t.indexOf("forms/content/statuses")&&0!==t.indexOf("forms/content/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/content"}),{},{children:"Data"})),(0,x.jsx)(m.Z,(0,a.Z)((0,a.Z)({},0===t.indexOf("forms/content/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:u.Z,to:"/forms/content/statuses"}),{},{children:"Statuses"}))]}):(0,x.jsx)(i.Fragment,{})})]})};(f=i.memo(f)).defaultProps={};var p=f,h=function(e){e.children;return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pr:2,children:(0,x.jsx)(p,{})}),(0,x.jsx)(s.j3,{})]})};(h=i.memo(h)).defaultProps={};var Z=h,j=n(148),v=n(4565),g=n(2419),y=n(2772),b=n(6601),k=n(5953),S=n(9823),F=n(2885),C=n(1131),w=n(6192),I=n(1419),P=n(4096),L=n(2982),A=n(6030),D=n(708),N=n(3811),O=n(5987),T=n(393),E=n(4307),q=n(2606),W=n(5702),M=n(4585),H=n(1251),J=n(6376),z=n(5812),U=["name","children"],Q=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,U),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsContentStatusList","loader",!0)(),(0,y.P)("formsContentStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsContentStatusList","loader",!0)(),(0,y.P)("formsContentStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsContentStatusList",url:"https://api.cidiator.com/forms",path:"content-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsContentStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(J.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Q=i.memo(Q)).defaultProps={name:"contentStatusId",multiple:!1,onChange:function(){}};var R=Q,K=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=(0,A.v9)((0,D.Z)(["api","list","contentStatuses","data"])),r=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)||{}}),[t]),a=i.useMemo((function(){return Array.isArray(n)?n.filter((function(e){return(r.contentStatusId||[]).includes(e.id)})).map((function(e){return{value:e.id,text:e.name}})):[]}),[r,n]),o=i.useCallback((function(t,n){(0,y.P)("formsContentList","loader",!0)(),n.length>0?r.contentStatusId=["$In"].concat((0,L.Z)(n.map((function(e){return e.value})))):delete r.contentStatusId;var i="",s=(0,b.Z)("query",window.location.search),a=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(i+="?filter=".concat(JSON.stringify(r))),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),s&&(i+=i?"&query=".concat(s):"?query=".concat(s)),e(i)}),[e,r]),c=i.useCallback((function(t){(0,y.P)("formsContentList","loader",!0)(),delete r.contentStatusId;var n="",i=(0,b.Z)("query",window.location.search),s=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(n+="?filter=".concat(JSON.stringify(r))),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),i&&(n+=n?"&query=".concat(i):"?query=".concat(i)),e(n)}),[r,e]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[a.length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(N.Z,{size:"small",color:"error",onClick:c,children:(0,x.jsx)(S.Z,{fontSize:"small"})})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(R,{multiple:!0,label:"Status",name:"contentStatusId",onChange:o,value:a})})]})})};(K=i.memo(K)).defaultProps={};var Y=K,V=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=i.useState((function(){return!1})),c=(0,o.Z)(n,2),l=c[0],d=c[1],u=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)}),[t]),f=i.useMemo((function(){return(0,b.Z)("query",window.location.search)}),[]),p=i.useCallback((function(e){d((function(e){return!e}))}),[d]),h=i.useCallback((function(t){if(t!==((0,b.Z)("query",window.location.search)||"")){(0,y.P)("formsContentList","loader",!0)();var n="",i=(0,b.Z)("sort",window.location.search,!0);t.length>0&&(n="?query=".concat(t)),u&&"object"===typeof u&&Object.keys(u).length>0&&(n+=n?"&filter=".concat(JSON.stringify(u)):"?filter=".concat(JSON.stringify(u))),i&&"object"===typeof i&&Object.keys(i).length>0&&(n+=n?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(n)}}),[e,u]),Z=i.useCallback((function(t){(0,y.P)("formsContentList","loader",!0)();var n="",i=(0,b.Z)("query",window.location.search)||"",s=(0,b.Z)("sort",window.location.search,!0);i.length>0&&(n="?query=".concat(i)),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),e(n)}),[e]);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(w.Z,{onSearch:h,defaultValue:f}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[l&&"object"===typeof u&&Object.keys(u).length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,color:"error",startIcon:(0,x.jsx)(S.Z,{}),onClick:Z,children:"Clear"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsxs)(m.Z,{disableElevation:!0,color:"primary",onClick:p,startIcon:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(F.Z,{sx:{display:l?"block":"none"}}),(0,x.jsx)(C.Z,{sx:{display:l?"none":"block"}})]}),children:[(0,x.jsx)(v.Z,{sx:{display:l?"block":"none"},children:"Collapse"}),(0,x.jsx)(v.Z,{sx:{display:l?"none":"block"},children:"Filters"})]})})]}),(0,x.jsx)(r.Z,{pb:l?2:0,sx:(0,a.Z)({position:"relative",overflow:"hidden"},l?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,x.jsxs)(k.ZP,{container:!0,spacing:3,children:[(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(Y,{})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(I.Z,{storeName:"formsContentList"})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(P.Z,{storeName:"formsContentList"})})]})})]})};(V=i.memo(V)).defaultProps={};var B=V,$=n(6386),G=n(4432),X=n(9827),_=n(9773),ee=n(807),te=n(4390),ne=n(2898),ie=n(4486),se=n(3343),re=n(1895),ae=n(2399),oe=n(9320),ce=n(5514),le=n(4346),de=n(7247),me=n(1286),ue=n(3939),xe=n(6153),fe=["entityId","isDeleted","isNotDelete"],pe=function(e){var t=e.entityId,n=e.isDeleted,s=e.isNotDelete,r=(0,O.Z)(e,fe),o=(0,T.Ds)().enqueueSnackbar,c=i.useCallback((function(e){(0,re.Q)()()}),[]),l=i.useCallback((function(e){(0,ae.n)("formsContentDrop",{entityId:t})(),(0,re.Q)()()}),[t]),d=i.useCallback((function(e){(0,oe.U)({storeName:"formsContentList",entityId:t,url:"https://api.cidiator.com/forms",path:"content",withAccessToken:!0})(o),(0,re.Q)()()}),[t,o]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(xe.Z,(0,a.Z)((0,a.Z)({},r),{},{children:[(0,x.jsxs)(W.Z,{component:u.Z,to:t,onClick:c,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(me.Z,{})}),(0,x.jsx)(le.Z,{children:"Edit"})]}),n&&(0,x.jsxs)(W.Z,{onClick:d,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(ue.Z,{})}),(0,x.jsx)(le.Z,{children:"Restore"})]}),!s&&(0,x.jsxs)(W.Z,{onClick:l,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(de.Z,{color:n?"error":"inherit"})}),(0,x.jsx)(le.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(pe=i.memo(pe)).defaultProps={};var he=pe,Ze=n(9042),je=function(e){var t,n,o,c=e.withAccessToken,l=e.storeName,d=e.url,m=e.path,f=(0,T.Ds)().enqueueSnackbar,p=(0,s.TH)(),h=(0,s.s0)(),Z=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),j=(0,A.v9)((0,D.Z)(["api","list",l,"loader"])),g=null!==(t=(0,A.v9)((0,D.Z)(["api","list",l,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,A.v9)((0,D.Z)(["api","list",l,"page"])))&&void 0!==n?n:1,S=null!==(o=(0,A.v9)((0,D.Z)(["api","list",l,"limit"])))&&void 0!==o?o:20,F=(0,A.v9)((0,D.Z)(["api","list",l,"data"])),C=(0,b.Z)("query",p.search),w=(0,b.Z)("select",p.search),I=(0,b.Z)("filter",p.search),P=(0,b.Z)("sort",p.search),L=i.useCallback((function(e,t){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"page",t)()}),[l]),O=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"limit",e.target.value)()}),[l]),W=i.useCallback((function(e){return function(t){(0,G.n)("forms-menu-content-context-".concat(e),t.target)()}}),[]),M=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("id",e))}),[h,l]),J=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("createdAt",e))}),[h,l]);return i.useEffect((function(){Z||(0,E.i)((0,a.Z)((0,a.Z)((0,a.Z)({id:l,url:d,path:m,withAccessToken:c,page:k,limit:S,query:C},w?{select:JSON.parse(decodeURI(w))}:{}),I?{filter:JSON.parse(decodeURI(I))}:{}),P?{sort:JSON.parse(decodeURI(P))}:{}))(f)}),[l,c,d,m,Z,k,S,C,w,I,P,f]),i.useEffect((function(){return function(){(0,q.K)(l)()}}),[l]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:!Array.isArray(F)}),Array.isArray(F)?F.length>0?(0,x.jsxs)(ie.Z,{withChangeLimit:!0,total:g,page:k,limit:S,length:F.length,onChange:L,onLimit:O,children:[(0,x.jsx)(X.Z,{children:(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(se.Z,{name:"id",onChange:M,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,x.jsx)(se.Z,{name:"createdAt",onChange:J,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),j||Z?(0,x.jsxs)("tbody",{children:[(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,x.jsx)(H.Z,{visible:!0})})}),(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,x.jsx)(_.Z,{children:F.map((function(e,t){return(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:u.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,x.jsx)(te.Z,{sx:{minWidth:"28%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.formId})}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.contentStatusId})}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.userId})}),(0,x.jsxs)(te.Z,{sx:{width:"18%"},children:[(0,Ze.Z)(e.createdAt)?(0,x.jsxs)(r.Z,{pb:1,children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{}),(0,Ze.Z)(e.updatedAt)?(0,x.jsxs)(r.Z,{children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Updated at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.updatedAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{})]}),(0,x.jsxs)(te.Z,{sx:{width:"1%"},children:[(0,x.jsx)(N.Z,{onClick:W(e.id),children:(0,x.jsx)(ne.Z,{})}),(0,x.jsx)(he,{id:"forms-menu-content-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,x.jsx)(r.Z,{py:6,display:"flex",justifyContent:"center",children:(0,x.jsx)(v.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,x.jsx)(i.Fragment,{})]})};(je=i.memo(je)).defaultProps={withAccessToken:!0,storeName:"formsContentList",url:"https://api.cidiator.com/forms",path:"content"};var ve=je,ge=n(4165),ye=n(5861),be=n(7054),ke=n(3960),Se=n(9571),Fe=n(872),Ce=n(9923),we=["storeName","id"],Ie=function(e){var t=e.storeName,n=e.id,s=(0,O.Z)(e,we),r=(0,T.Ds)().enqueueSnackbar,o=(0,A.v9)((0,D.Z)(["dialog",n,"entityId"])),c=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),l=(0,A.v9)((0,D.Z)(["api","list",t,"loader"])),d=i.useCallback(function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(i){return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.R)({entityId:o,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"content"})(r);case 2:return e.next=4,(0,ke.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,o,r]),u=!0===c||!0===l;return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(Ce.Z,(0,a.Z)((0,a.Z)({},s),{},{loader:u,maxWidth:"xs",id:n,title:"Delete form content data?",actions:(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(m.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,x.jsx)(Fe.Z,{}),onClick:d,children:"OK"})}),children:(0,x.jsx)(Se.Z,{children:"Are you sure you want to delete the current form content data? This operation is irreversible and may compromise data integrity."})}))})};(Ie=i.memo(Ie)).defaultProps={id:"formsContentDrop"};var Pe=Ie,Le=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/content",text:"Form content"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Form content list"})}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/content/0",children:"Create"})}),(0,x.jsx)(B,{}),(0,x.jsx)(ve,{storeName:"formsContentList"}),(0,x.jsx)(Pe,{storeName:"formsContentList"})]})};(Le=i.memo(Le)).defaultProps={};var Ae=Le,De=n(2619),Ne=n(5308),Oe=n(9154),Te=n(3329),Ee=n(3663),qe=n(7232),We=["name","children"],Me=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,We),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsContentStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsContentStatusList","loader",!0)(),(0,y.P)("formsContentStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsContentStatusList","loader",!0)(),(0,y.P)("formsContentStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsContentStatusList",url:"https://api.cidiator.com/forms",path:"content-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsContentStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(qe.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z.map((function(e){return(0,x.jsx)(W.Z,{value:e.id,children:e.name},e.id)}))),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Me=i.memo(Me)).defaultProps={name:"contentStatusId",multiple:!1,onChange:function(){}};var He=Me,Je=["name","children"],ze=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,Je),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFormList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFormList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFormList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFormList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFormList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFormList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFormList","loader",!0)(),(0,y.P)("formsFormList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFormList","loader",!0)(),(0,y.P)("formsFormList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFormList",url:"https://api.cidiator.com/forms",path:"form",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFormList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(qe.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z.map((function(e){return(0,x.jsx)(W.Z,{value:e.id,children:e.name},e.id)}))),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Linit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(ze=i.memo(ze)).defaultProps={name:"formId",multiple:!1,onChange:function(){}};var Ue=ze,Qe=n(7399),Re=n(9698),Ke=n(43),Ye=n(4754),Ve=n(4047),Be=n(2674),$e=n(775),Ge=n(3158),Xe=n(4188),_e=n(7064),et=n(7133),tt=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,a,o,c,l,d,m;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,i=t.enqueueSnackbar,s=t.navigate,e.prev=1,e.next=4,(0,De.F)(n,"loader",!0)();case 4:if(r=(0,$e.Z)().getState().api.form[n],a=r.id,o=r.isNotDelete,c=r.contentStatusId,l=r.formId,d={},(0,Ge.Z)(a,!0)||(d.id="The value is in the wrong format."),(0,_e.Z)(o,!0)||(d.isNotDelete="The value is in the wrong format."),c&&"string"===typeof c||(d.contentStatusId="The value is in the wrong format."),(0,Xe.Z)(l)?(0,et.Z)(l)||(d.formId="Specified data type does not exist."):d.formId="Cannot be empty.",!(Object.keys(d).length>0)){e.next=16;break}return e.next=13,(0,De.F)(n,"errors",d)();case 13:return e.next=15,(0,De.F)(n,"loader",!1)();case 15:throw new Error("Check that the form is filled out correctly.");case 16:"0"===n?(0,Ve.Y)({entityId:n,url:"https://api.cidiator.com/forms",path:"content",withAccessToken:!0})(i,s):(0,Be.L)({entityId:n,url:"https://api.cidiator.com/forms",path:"content",withAccessToken:!0})(i),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,i(m,{variant:"error"});case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),nt=tt,it=function(){var e=(0,T.Ds)().enqueueSnackbar,t=(0,s.UO)().entityId,n=(0,s.s0)(),a=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),o=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),c=(0,A.v9)((0,D.Z)(["api","form",t,"id"])),l=(0,A.v9)((0,D.Z)(["api","form",t,"contentStatusId"])),d=(0,A.v9)((0,D.Z)(["api","form",t,"formId"])),u=(0,A.v9)((0,D.Z)(["api","form",t,"isNotDelete"])),f=(0,A.v9)((0,D.Z)(["api","form",t,"isDeleted"])),p=(0,A.v9)((0,D.Z)(["api","form",t,"errors","id"])),h=(0,A.v9)((0,D.Z)(["api","form",t,"errors","contentStatusId"])),Z=(0,A.v9)((0,D.Z)(["api","form",t,"errors","formId"])),j=(0,A.v9)((0,D.Z)(["api","form",t,"errors","isNotDelete"])),g=i.useCallback((function(i){i.preventDefault(),nt({gateway:"https://api.cidiator.com/forms",entityId:t,path:"content",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),y=i.useCallback((function(e){(0,De.F)(t,"id",e.target.value)()}),[t]),b=i.useCallback((function(e,n){(0,De.F)(t,"contentStatusId",e.target.value)()}),[t]),S=i.useCallback((function(e,n){(0,De.F)(t,"formId",e.target.value)()}),[t]),F=i.useCallback((function(e,n){(0,De.F)(t,"isNotDelete",n)()}),[t]),C=i.useCallback((function(e){(0,ae.n)("formsContentDrop",{entityId:t})()}),[t]),w=i.useCallback((function(){return{contentId:t}}),[t]),I=i.useCallback((function(){return{field:!0}}),[]),P=i.useCallback((function(){return[["fieldId","Field","20%",function(e,t){return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:1,children:(0,x.jsx)(v.Z,{component:"div",variant:"h6",children:(t.field||{}).name||""})}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",children:(t.field||{}).description||""})]})}],["value","Value","40%",function(e,t){return(0,x.jsx)(i.Fragment,{children:"data-type-type-file-upload"===(t.field||{}).dataTypeId?(0,x.jsx)(i.Fragment,{children:"string"===typeof t[e]&&t[e].length<=50?(0,x.jsx)(Ee.Z,{id:t[e]}):(0,x.jsx)(i.Fragment,{})}):(0,x.jsx)(v.Z,{component:"div",children:(t[e]||"").split("\n").map((function(e,t){return(0,x.jsx)(r.Z,{pb:1,children:e},t)}))})})}],["userId","User","20"],["createdAt","Create at","20%"]]}),[]);return i.useEffect((function(){!a&&t&&"0"!==t&&(0,Ne.y)({entityId:t,url:"https://api.cidiator.com/forms",path:"content",withAccessToken:!0})(e,n)}),[a,t,e,n]),i.useEffect((function(){return function(){(0,Oe.z)(t)()}}),[t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof o||a}),(0,x.jsxs)("form",{onSubmit:g,style:{display:"undefined"===typeof o||a?"none":"initial"},children:[(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:c||"",onChange:y,error:p})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(He,{disabled:o,label:"Status",name:"contentStatusId",value:l||"",onChange:b,error:h})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ue,{disabled:o,label:"Form",name:"formId",value:d||"",onChange:S,error:Z})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ke.default,{disabled:o,name:"isNotDelete",label:"Make entry undeletable",value:!!u,onChange:F,error:j})}),t&&"string"===typeof t&&"0"!==t&&d?(0,x.jsx)(Ye.Z,{withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"content/field",storeName:"formsContentFieldRelation",filterOptions:w,relationOptions:I,columns:P,title:"Fields",description:"Fields of current form content.",children:(0,x.jsx)(Qe.Z,{withAccessToken:!0,formId:d,entityId:t,url:"https://api.cidiator.com/forms",path:"content/field",pathCreate:"content/".concat(t,"/field"),storeName:"formsContentFieldRelation"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,type:"submit",variant:"contained",color:"secondary",startIcon:o?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})}),!u&&t&&"string"===typeof t&&"0"!==t?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,variant:"contained",color:"error",startIcon:(0,x.jsx)(de.Z,{}),onClick:C,children:f?"Delete permanently":"Delete"})}):(0,x.jsx)(i.Fragment,{})]})]})]})};(it=i.memo(it)).defaultProps={};var st=it,rt=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/content",text:"Form content"},{key:"/forms/content/".concat(e),text:"0"===e?"Create new content data":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Create new content data":(0,x.jsxs)(i.Fragment,{children:["Edit content data ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(st,{storeName:e}),(0,x.jsx)(Pe,{storeName:e})]})};(rt=i.memo(rt)).defaultProps={};var at=rt,ot=n(2830),ct=n(5789),lt=n(2481),dt=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/content",text:"Form content"},{key:"/forms/content/statuses",text:"Statuses"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.Z,{pb:2,children:[(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Statuses"}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Entity state."})]}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/content/statuses/0",children:"Create"})}),(0,x.jsx)(ot.Z,{storeName:"formsContentStatusesList"}),(0,x.jsx)(ct.Z,{withAccessToken:!0,storeName:"formsContentStatusesList",url:"https://api.cidiator.com/forms",path:"content-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsContentStatusesList",url:"https://api.cidiator.com/forms",path:"content-status"})]})};(dt=i.memo(dt)).defaultProps={};var mt=dt,ut=n(2714),xt=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/content",text:"Form content"},{key:"/forms/content/statuses",text:"Statuses"},{key:"/forms/content/statuses/".concat(e),text:"0"===e?"Create new status":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add status":(0,x.jsxs)(i.Fragment,{children:["Edit status ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(ut.Z,{withAccessToken:!0,storeName:"formsContentStatusesList",url:"https://api.cidiator.com/forms",path:"content-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsContentStatusesList",url:"https://api.cidiator.com/forms",path:"content-status"})]})};(xt=i.memo(xt)).defaultProps={};var ft=xt,pt=["name","children"],ht=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,pt),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFormStatusList","loader",!0)(),(0,y.P)("formsFormStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFormStatusList","loader",!0)(),(0,y.P)("formsFormStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFormStatusList",url:"https://api.cidiator.com/forms",path:"form-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFormStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(J.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(ht=i.memo(ht)).defaultProps={name:"formStatusId",multiple:!1,onChange:function(){}};var Zt=ht,jt=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","data"])),r=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)||{}}),[t]),a=i.useMemo((function(){return Array.isArray(n)?n.filter((function(e){return(r.formStatusId||[]).includes(e.id)})).map((function(e){return{value:e.id,text:e.name}})):[]}),[r,n]),o=i.useCallback((function(t,n){(0,y.P)("formsFormList","loader",!0)(),n.length>0?r.formStatusId=["$In"].concat((0,L.Z)(n.map((function(e){return e.value})))):delete r.formStatusId;var i="",s=(0,b.Z)("query",window.location.search),a=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(i+="?filter=".concat(JSON.stringify(r))),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),s&&(i+=i?"&query=".concat(s):"?query=".concat(s)),e(i)}),[e,r]),c=i.useCallback((function(t){(0,y.P)("formsFormList","loader",!0)(),delete r.formStatusId;var n="",i=(0,b.Z)("query",window.location.search),s=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(n+="?filter=".concat(JSON.stringify(r))),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),i&&(n+=n?"&query=".concat(i):"?query=".concat(i)),e(n)}),[r,e]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[a.length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(N.Z,{size:"small",color:"error",onClick:c,children:(0,x.jsx)(S.Z,{fontSize:"small"})})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(Zt,{multiple:!0,label:"Status",name:"formStatusId",onChange:o,value:a})})]})})};(jt=i.memo(jt)).defaultProps={};var vt=jt,gt=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=i.useState((function(){return!1})),c=(0,o.Z)(n,2),l=c[0],d=c[1],u=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)}),[t]),f=i.useMemo((function(){return(0,b.Z)("query",window.location.search)}),[]),p=i.useCallback((function(e){d((function(e){return!e}))}),[d]),h=i.useCallback((function(t){if(t!==((0,b.Z)("query",window.location.search)||"")){(0,y.P)("formsFormList","loader",!0)();var n="",i=(0,b.Z)("sort",window.location.search,!0);t.length>0&&(n="?query=".concat(t)),u&&"object"===typeof u&&Object.keys(u).length>0&&(n+=n?"&filter=".concat(JSON.stringify(u)):"?filter=".concat(JSON.stringify(u))),i&&"object"===typeof i&&Object.keys(i).length>0&&(n+=n?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(n)}}),[e,u]),Z=i.useCallback((function(t){(0,y.P)("formsFormList","loader",!0)();var n="",i=(0,b.Z)("query",window.location.search)||"",s=(0,b.Z)("sort",window.location.search,!0);i.length>0&&(n="?query=".concat(i)),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),e(n)}),[e]);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(w.Z,{onSearch:h,defaultValue:f}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[l&&"object"===typeof u&&Object.keys(u).length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,color:"error",startIcon:(0,x.jsx)(S.Z,{}),onClick:Z,children:"Clear"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsxs)(m.Z,{disableElevation:!0,color:"primary",onClick:p,startIcon:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(F.Z,{sx:{display:l?"block":"none"}}),(0,x.jsx)(C.Z,{sx:{display:l?"none":"block"}})]}),children:[(0,x.jsx)(v.Z,{sx:{display:l?"block":"none"},children:"Collapse"}),(0,x.jsx)(v.Z,{sx:{display:l?"none":"block"},children:"Filters"})]})})]}),(0,x.jsx)(r.Z,{pb:l?2:0,sx:(0,a.Z)({position:"relative",overflow:"hidden"},l?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,x.jsxs)(k.ZP,{container:!0,spacing:3,children:[(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(vt,{})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(I.Z,{storeName:"formsFormList"})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(P.Z,{storeName:"formsFormList"})})]})})]})};(gt=i.memo(gt)).defaultProps={};var yt=gt,bt=["entityId","isDeleted","isNotDelete"],kt=function(e){var t=e.entityId,n=e.isDeleted,s=e.isNotDelete,r=(0,O.Z)(e,bt),o=(0,T.Ds)().enqueueSnackbar,c=i.useCallback((function(e){(0,re.Q)()()}),[]),l=i.useCallback((function(e){(0,ae.n)("formsFormDrop",{entityId:t})(),(0,re.Q)()()}),[t]),d=i.useCallback((function(e){(0,oe.U)({storeName:"formsFormList",entityId:t,url:"https://api.cidiator.com/forms",path:"form",withAccessToken:!0})(o),(0,re.Q)()()}),[t,o]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(xe.Z,(0,a.Z)((0,a.Z)({},r),{},{children:[(0,x.jsxs)(W.Z,{component:u.Z,to:t,onClick:c,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(me.Z,{})}),(0,x.jsx)(le.Z,{children:"Edit"})]}),n&&(0,x.jsxs)(W.Z,{onClick:d,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(ue.Z,{})}),(0,x.jsx)(le.Z,{children:"Restore"})]}),!s&&(0,x.jsxs)(W.Z,{onClick:l,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(de.Z,{color:n?"error":"inherit"})}),(0,x.jsx)(le.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(kt=i.memo(kt)).defaultProps={};var St=kt,Ft=function(e){var t,n,o,c=e.withAccessToken,l=e.storeName,d=e.url,m=e.path,f=(0,T.Ds)().enqueueSnackbar,p=(0,s.TH)(),h=(0,s.s0)(),Z=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),j=(0,A.v9)((0,D.Z)(["api","list",l,"loader"])),g=null!==(t=(0,A.v9)((0,D.Z)(["api","list",l,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,A.v9)((0,D.Z)(["api","list",l,"page"])))&&void 0!==n?n:1,S=null!==(o=(0,A.v9)((0,D.Z)(["api","list",l,"limit"])))&&void 0!==o?o:20,F=(0,A.v9)((0,D.Z)(["api","list",l,"data"])),C=(0,b.Z)("query",p.search),w=(0,b.Z)("select",p.search),I=(0,b.Z)("filter",p.search),P=(0,b.Z)("sort",p.search),L=i.useCallback((function(e,t){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"page",t)()}),[l]),O=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"limit",e.target.value)()}),[l]),W=i.useCallback((function(e){return function(t){(0,G.n)("forms-menu-form-context-".concat(e),t.target)()}}),[]),M=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("id",e))}),[h,l]),J=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("createdAt",e))}),[h,l]);return i.useEffect((function(){Z||(0,E.i)((0,a.Z)((0,a.Z)((0,a.Z)({id:l,url:d,path:m,withAccessToken:c,page:k,limit:S,query:C},w?{select:JSON.parse(decodeURI(w))}:{}),I?{filter:JSON.parse(decodeURI(I))}:{}),P?{sort:JSON.parse(decodeURI(P))}:{}))(f)}),[l,c,d,m,Z,k,S,C,w,I,P,f]),i.useEffect((function(){return function(){(0,q.K)(l)()}}),[l]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:!Array.isArray(F)}),Array.isArray(F)?F.length>0?(0,x.jsxs)(ie.Z,{withChangeLimit:!0,total:g,page:k,limit:S,length:F.length,onChange:L,onLimit:O,children:[(0,x.jsx)(X.Z,{children:(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(se.Z,{name:"id",onChange:M,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,x.jsx)(se.Z,{name:"createdAt",onChange:J,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),j||Z?(0,x.jsxs)("tbody",{children:[(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,x.jsx)(H.Z,{visible:!0})})}),(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,x.jsx)(_.Z,{children:F.map((function(e,t){return(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:u.Z,to:"/forms/form/".concat(e.id),color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,x.jsxs)(te.Z,{sx:{minWidth:"28%"},children:[(0,x.jsx)(v.Z,{component:u.Z,to:"/forms/form/".concat(e.id),variant:"h6",color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.name}),(0,x.jsx)(v.Z,{component:"div",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.description})]}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.formStatusId})}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.userId})}),(0,x.jsxs)(te.Z,{sx:{width:"18%"},children:[(0,Ze.Z)(e.createdAt)?(0,x.jsxs)(r.Z,{pb:1,children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{}),(0,Ze.Z)(e.updatedAt)?(0,x.jsxs)(r.Z,{children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Updated at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.updatedAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{})]}),(0,x.jsxs)(te.Z,{sx:{width:"1%"},children:[(0,x.jsx)(N.Z,{onClick:W(e.id),children:(0,x.jsx)(ne.Z,{})}),(0,x.jsx)(St,{id:"forms-menu-form-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,x.jsx)(r.Z,{py:6,display:"flex",justifyContent:"center",children:(0,x.jsx)(v.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,x.jsx)(i.Fragment,{})]})};(Ft=i.memo(Ft)).defaultProps={withAccessToken:!0,storeName:"formsFormList",url:"https://api.cidiator.com/forms",path:"form"};var Ct=Ft,wt=["storeName","id"],It=function(e){var t=e.storeName,n=e.id,s=(0,O.Z)(e,wt),r=(0,T.Ds)().enqueueSnackbar,o=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),c=(0,A.v9)((0,D.Z)(["api","list",t,"loader"])),l=(0,A.v9)((0,D.Z)(["dialog",n,"entityId"])),d=i.useCallback(function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(i){return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.R)({entityId:l,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"form"})(r);case 2:return e.next=4,(0,ke.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,l,r]),u=!0===o||!0===c;return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(Ce.Z,(0,a.Z)((0,a.Z)({},s),{},{loader:u,maxWidth:"xs",id:n,title:"Delete form?",actions:(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(m.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,x.jsx)(Fe.Z,{}),onClick:d,children:"OK"})}),children:(0,x.jsx)(Se.Z,{children:"Are you sure you want to delete the current form? This operation is irreversible and may compromise data integrity."})}))})};(It=i.memo(It)).defaultProps={id:"formsFormDrop"};var Pt=It,Lt=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Forms list"})}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/form/0",children:"Create"})}),(0,x.jsx)(yt,{}),(0,x.jsx)(Ct,{storeName:"formsFormList"}),(0,x.jsx)(Pt,{storeName:"formsFormList"})]})};(Lt=i.memo(Lt)).defaultProps={};var At=Lt,Dt=["name","children"],Nt=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,Dt),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFormStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFormStatusList","loader",!0)(),(0,y.P)("formsFormStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFormStatusList","loader",!0)(),(0,y.P)("formsFormStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFormStatusList",url:"https://api.cidiator.com/forms",path:"form-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFormStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(qe.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z.map((function(e){return(0,x.jsx)(W.Z,{value:e.id,children:e.name},e.id)}))),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Nt=i.memo(Nt)).defaultProps={name:"formStatusId",multiple:!1,onChange:function(){}};var Ot=Nt,Tt=["name","children"],Et=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,Tt),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFieldList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFieldList","loader",!0)(),(0,y.P)("formsFieldList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFieldList","loader",!0)(),(0,y.P)("formsFieldList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFieldList",url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFieldList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(qe.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z.map((function(e){return(0,x.jsx)(W.Z,{value:e.id,children:e.name},e.id)}))),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Linit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Et=i.memo(Et)).defaultProps={name:"fieldId",multiple:!1,onChange:function(){}};var qt=Et,Wt=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,o,c,l,d,m;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enqueueSnackbar,i=t.storeName,t.entityId,s=t.withAccessToken,r=t.url,o=t.path,c=t.pathCreate,e.prev=1,e.next=4,(0,De.F)(i,"loader",!0)();case 4:return e.next=6,(0,y.P)(i,"loader",!0)();case 6:if(l=(0,$e.Z)().getState().api.form[i].fieldId,d={},(0,Ge.Z)(l,!0)?(0,Xe.Z)(l)||(d.fieldId="Cannot be empty."):d.fieldId="The value is in the wrong format.",!(Object.keys(d).length>0)){e.next=15;break}return e.next=12,(0,De.F)(i,"errors",d)();case 12:return e.next=14,(0,De.F)(i,"loader",!1)();case 14:throw new Error("Check that the form is filled out correctly.");case 15:(0,Ve.Y)({entityId:i,url:r,path:c,withAccessToken:s})(n,(0,ye.Z)((0,ge.Z)().mark((function e(){var t,n,s,r,o,c=arguments;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=t.split("/"),s=n[n.length-1],r=(0,a.Z)({},(0,$e.Z)().getState().api.form[s]||{}),(o=(0,L.Z)(((0,$e.Z)().getState().api.list[i]||{}).data)).push(r),e.next=8,(0,y.P)(i,"data",(0,L.Z)(o))();case 8:return e.next=10,(0,ke.Q)("".concat(i,"Item"))();case 10:return e.next=12,(0,y.P)(i,"loader",!1)();case 12:case"end":return e.stop()}}),e)})))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,n("".concat(m," - ").concat(o),{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),Mt=Wt,Ht=function(e){var t=e.entityId,n=e.storeName,s=e.withAccessToken,a=e.url,o=e.path,c=e.pathCreate,l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["api","form",n,"loader"])),u=(0,A.v9)((0,D.Z)(["api","form",n,"fieldId"])),f=(0,A.v9)((0,D.Z)(["api","form",n,"errors","fieldId"])),p=i.useCallback((function(e){e.preventDefault(),Mt({enqueueSnackbar:l,storeName:n,entityId:t,withAccessToken:s,url:a,path:o,pathCreate:c})}),[l,n,t,s,a,o,c]),h=i.useCallback((function(e){(0,De.F)(n,"fieldId",e.target.value)()}),[n]);return i.useEffect((function(){(0,Ne.y)({entityId:n})()}),[n]),i.useEffect((function(){return function(){(0,Oe.z)(n)()}}),[n]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof d}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(qt,{disabled:d,name:"fieldId",label:"Select field",value:u||"",onChange:h,error:f})}),(0,x.jsx)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:d,type:"submit",variant:"contained",color:"secondary",onClick:p,startIcon:d?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})})})]})};(Ht=i.memo(Ht)).defaultProps={};var Jt=Ht,zt=n(2162),Ut=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,a,o,c,l,d,m,u;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,i=t.enqueueSnackbar,s=t.navigate,e.prev=1,e.next=4,(0,De.F)(n,"loader",!0)();case 4:if(r=(0,$e.Z)().getState().api.form[n],a=r.id,o=r.name,c=r.description,l=r.isNotDelete,d=r.formStatusId,m={},(0,Ge.Z)(a,!0)||(m.id="The value is in the wrong format."),(0,Ge.Z)(o)?(0,Xe.Z)(o)||(m.name="Cannot be empty."):m.name="The value is in the wrong format.",(0,Ge.Z)(c,!0)||(m.description="The value is in the wrong format."),(0,_e.Z)(l,!0)||(m.isNotDelete="The value is in the wrong format."),d&&"string"===typeof d||(m.formStatusId="The value is in the wrong format."),!(Object.keys(m).length>0)){e.next=17;break}return e.next=14,(0,De.F)(n,"errors",m)();case 14:return e.next=16,(0,De.F)(n,"loader",!1)();case 16:throw new Error("Check that the form is filled out correctly.");case 17:"0"===n?(0,Ve.Y)({entityId:n,url:"https://api.cidiator.com/forms",path:"form",withAccessToken:!0})(i,s):(0,Be.L)({entityId:n,url:"https://api.cidiator.com/forms",path:"form",withAccessToken:!0})(i),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),u=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,i(u,{variant:"error"});case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),Qt=Ut,Rt=function(){var e=(0,T.Ds)().enqueueSnackbar,t=(0,s.UO)().entityId,n=(0,s.s0)(),a=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),o=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),c=(0,A.v9)((0,D.Z)(["api","form",t,"id"])),l=(0,A.v9)((0,D.Z)(["api","form",t,"name"])),d=(0,A.v9)((0,D.Z)(["api","form",t,"description"])),u=(0,A.v9)((0,D.Z)(["api","form",t,"formStatusId"])),f=(0,A.v9)((0,D.Z)(["api","form",t,"isNotDelete"])),p=(0,A.v9)((0,D.Z)(["api","form",t,"isDeleted"])),h=(0,A.v9)((0,D.Z)(["api","form",t,"errors","id"])),Z=(0,A.v9)((0,D.Z)(["api","form",t,"errors","name"])),j=(0,A.v9)((0,D.Z)(["api","form",t,"errors","description"])),v=(0,A.v9)((0,D.Z)(["api","form",t,"errors","formStatusId"])),g=(0,A.v9)((0,D.Z)(["api","form",t,"errors","isNotDelete"])),y=i.useCallback((function(i){i.preventDefault(),Qt({gateway:"https://api.cidiator.com/forms",entityId:t,path:"form",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),b=i.useCallback((function(e){(0,De.F)(t,"id",e.target.value)()}),[t]),S=i.useCallback((function(e){(0,De.F)(t,"name",e.target.value)()}),[t]),F=i.useCallback((function(e){(0,De.F)(t,"description",e.target.value)()}),[t]),C=i.useCallback((function(e,n){(0,De.F)(t,"formStatusId",e.target.value)()}),[t]),w=i.useCallback((function(e,n){(0,De.F)(t,"isNotDelete",n)()}),[t]),I=i.useCallback((function(e){(0,ae.n)("formsFormDrop",{entityId:t})()}),[t]),P=i.useCallback((function(){return{formId:t}}),[t]),L=i.useCallback((function(){return[["id","ID"],["fieldId","Field"],["userId","User"],["createdAt","Create at"]]}),[]);return i.useEffect((function(){!a&&t&&"0"!==t&&(0,Ne.y)({entityId:t,url:"https://api.cidiator.com/forms",path:"form",withAccessToken:!0})(e,n)}),[a,t,e,n]),i.useEffect((function(){return function(){(0,Oe.z)(t)()}}),[t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof o||a}),(0,x.jsxs)("form",{onSubmit:y,style:{display:"undefined"===typeof o||a?"none":"initial"},children:[(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:c||"",onChange:b,error:h})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,required:!0,name:"name",label:"Name",placeholder:"For example: Test option",value:l||"",onChange:S,error:Z})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,multiline:!0,rows:3,name:"description",label:"Description",value:d||"",onChange:F,error:j})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ot,{disabled:o,label:"Status",name:"formStatusId",value:u||"",onChange:C,error:v})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ke.default,{disabled:o,name:"isNotDelete",label:"Make entry undeletable",value:!!f,onChange:w,error:g})}),(0,x.jsx)(zt.Z,{withAccessToken:!0,entityId:t,url:"https://api.cidiator.com/forms",path:"form-option",pathEntity:"form"}),t&&"string"===typeof t&&"0"!==t?(0,x.jsx)(Ye.Z,{withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"form/field",storeName:"formsFormFieldRelation",filterOptions:P,columns:L,title:"Fields",description:"Fields of current form.",children:(0,x.jsx)(Jt,{withAccessToken:!0,entityId:t,url:"https://api.cidiator.com/forms",path:"form/field",pathCreate:"form/".concat(t,"/field"),storeName:"formsFormFieldRelation"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,type:"submit",variant:"contained",color:"secondary",startIcon:o?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})}),!f&&t&&"string"===typeof t&&"0"!==t?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,variant:"contained",color:"error",startIcon:(0,x.jsx)(de.Z,{}),onClick:I,children:p?"Delete permanently":"Delete"})}):(0,x.jsx)(i.Fragment,{})]})]})]})};(Rt=i.memo(Rt)).defaultProps={};var Kt=Rt,Yt=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/form/".concat(e),text:"0"===e?"Create new form":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Create new form":(0,x.jsxs)(i.Fragment,{children:["Edit form ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(Kt,{storeName:e}),(0,x.jsx)(Pt,{storeName:e})]})};(Yt=i.memo(Yt)).defaultProps={};var Vt=Yt,Bt=n(8389),$t=n(5851),Gt=n(2038),Xt=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/form/options",text:"Options"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.Z,{pb:2,children:[(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Options"}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Managing additional fields of the current entity."})]}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/form/options/0",children:"Create"})}),(0,x.jsx)(Bt.Z,{storeName:"formsFormOptionsList"}),(0,x.jsx)($t.Z,{withAccessToken:!0,storeName:"formsFormOptionsList",url:"https://api.cidiator.com/forms",path:"form-option"}),(0,x.jsx)(Gt.Z,{withAccessToken:!0,storeName:"formsFormOptionsList",url:"https://api.cidiator.com/forms",path:"form-option"})]})};(Xt=i.memo(Xt)).defaultProps={};var _t=Xt,en=n(479),tn=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,o,c,l,d,m;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enqueueSnackbar,i=t.storeName,t.entityId,s=t.withAccessToken,r=t.url,o=t.path,c=t.pathCreate,e.prev=1,e.next=4,(0,De.F)(i,"loader",!0)();case 4:return e.next=6,(0,y.P)(i,"loader",!0)();case 6:if(l=(0,$e.Z)().getState().api.form[i].formId,d={},(0,Ge.Z)(l,!0)?(0,Xe.Z)(l)||(d.formId="Cannot be empty."):d.formId="The value is in the wrong format.",!(Object.keys(d).length>0)){e.next=15;break}return e.next=12,(0,De.F)(i,"errors",d)();case 12:return e.next=14,(0,De.F)(i,"loader",!1)();case 14:throw new Error("Check that the form is filled out correctly.");case 15:(0,Ve.Y)({entityId:i,url:r,path:c,withAccessToken:s})(n,(0,ye.Z)((0,ge.Z)().mark((function e(){var t,n,s,r,o,c=arguments;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=t.split("/"),s=n[n.length-1],r=(0,a.Z)({},(0,$e.Z)().getState().api.form[s]||{}),(o=(0,L.Z)(((0,$e.Z)().getState().api.list[i]||{}).data)).push(r),e.next=8,(0,y.P)(i,"data",(0,L.Z)(o))();case 8:return e.next=10,(0,ke.Q)("".concat(i,"Item"))();case 10:return e.next=12,(0,y.P)(i,"loader",!1)();case 12:case"end":return e.stop()}}),e)})))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,n("".concat(m," - ").concat(o),{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),nn=tn,sn=function(e){var t=e.entityId,n=e.storeName,s=e.withAccessToken,a=e.url,o=e.path,c=e.pathCreate,l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["api","form",n,"loader"])),u=(0,A.v9)((0,D.Z)(["api","form",n,"formId"])),f=(0,A.v9)((0,D.Z)(["api","form",n,"errors","formId"])),p=i.useCallback((function(e){e.preventDefault(),nn({enqueueSnackbar:l,storeName:n,entityId:t,withAccessToken:s,url:a,path:o,pathCreate:c})}),[l,n,t,s,a,o,c]),h=i.useCallback((function(e){(0,De.F)(n,"formId",e.target.value)()}),[n]);return i.useEffect((function(){(0,Ne.y)({entityId:n})()}),[n]),i.useEffect((function(){return function(){(0,Oe.z)(n)()}}),[n]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof d}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ue,{disabled:d,name:"formId",label:"Select form",value:u||"",onChange:h,error:f})}),(0,x.jsx)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:d,type:"submit",variant:"contained",color:"secondary",onClick:p,startIcon:d?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})})})]})};(sn=i.memo(sn)).defaultProps={};var rn=sn,an=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/form/options",text:"Options"},{key:"/forms/form/options/".concat(e),text:"0"===e?"Create new option":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add option":(0,x.jsxs)(i.Fragment,{children:["Edit option ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(en.Z,{withAccessToken:!0,storeName:"formsFormOptionsList",url:"https://api.cidiator.com/forms",FormOptionComponent:rn,path:"form-option",pathRelation:"form/option",pathCreate:"form/".concat(e,"/option"),relationTitle:"Forms",relationDescription:"List of forms that will own the current option.",filterOptions:function(){return{formOptionId:e}},manyToManyColumns:function(){return[["formId","Form"],["createdAt","Create at"]]}}),(0,x.jsx)(Gt.Z,{withAccessToken:!0,storeName:"formsFormOptionsList",url:"https://api.cidiator.com/forms",path:"form-option"})]})};(an=i.memo(an)).defaultProps={};var on=an,cn=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/form/statuses",text:"Statuses"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.Z,{pb:2,children:[(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Statuses"}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Entity state."})]}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/form/statuses/0",children:"Create"})}),(0,x.jsx)(ot.Z,{storeName:"formsFormStatusesList"}),(0,x.jsx)(ct.Z,{withAccessToken:!0,storeName:"formsFormStatusesList",url:"https://api.cidiator.com/forms",path:"form-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsFormStatusesList",url:"https://api.cidiator.com/forms",path:"form-status"})]})};(cn=i.memo(cn)).defaultProps={};var ln=cn,dn=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/form/statuses",text:"Statuses"},{key:"/forms/form/statuses/".concat(e),text:"0"===e?"Create new status":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add status":(0,x.jsxs)(i.Fragment,{children:["Edit status ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(ut.Z,{withAccessToken:!0,storeName:"formsFormStatusesList",url:"https://api.cidiator.com/forms",path:"form-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsFormStatusesList",url:"https://api.cidiator.com/forms",path:"form-status"})]})};(dn=i.memo(dn)).defaultProps={};var mn=dn,un=["name","children"],xn=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,un),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFieldStatusList","loader",!0)(),(0,y.P)("formsFieldStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFieldStatusList","loader",!0)(),(0,y.P)("formsFieldStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFieldStatusList",url:"https://api.cidiator.com/forms",path:"field-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFieldStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(J.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(xn=i.memo(xn)).defaultProps={name:"fieldStatusId",multiple:!1,onChange:function(){}};var fn=xn,pn=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=(0,A.v9)((0,D.Z)(["api","list","fieldStatuses","data"])),r=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)||{}}),[t]),a=i.useMemo((function(){return Array.isArray(n)?n.filter((function(e){return(r.fieldStatusId||[]).includes(e.id)})).map((function(e){return{value:e.id,text:e.name}})):[]}),[r,n]),o=i.useCallback((function(t,n){(0,y.P)("formsFieldList","loader",!0)(),n.length>0?r.fieldStatusId=["$In"].concat((0,L.Z)(n.map((function(e){return e.value})))):delete r.fieldStatusId;var i="",s=(0,b.Z)("query",window.location.search),a=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(i+="?filter=".concat(JSON.stringify(r))),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),s&&(i+=i?"&query=".concat(s):"?query=".concat(s)),e(i)}),[e,r]),c=i.useCallback((function(t){(0,y.P)("formsFieldList","loader",!0)(),delete r.fieldStatusId;var n="",i=(0,b.Z)("query",window.location.search),s=(0,b.Z)("sort",window.location.search,!0);Object.keys(r).length>0&&(n+="?filter=".concat(JSON.stringify(r))),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),i&&(n+=n?"&query=".concat(i):"?query=".concat(i)),e(n)}),[r,e]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[a.length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(N.Z,{size:"small",color:"error",onClick:c,children:(0,x.jsx)(S.Z,{fontSize:"small"})})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(fn,{multiple:!0,label:"Status",name:"fieldStatusId",onChange:o,value:a})})]})})};(pn=i.memo(pn)).defaultProps={};var hn=pn,Zn=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=i.useState((function(){return!1})),c=(0,o.Z)(n,2),l=c[0],d=c[1],u=i.useMemo((function(){return(0,b.Z)("filter",t.search,!0)}),[t]),f=i.useMemo((function(){return(0,b.Z)("query",window.location.search)}),[]),p=i.useCallback((function(e){d((function(e){return!e}))}),[d]),h=i.useCallback((function(t){if(t!==((0,b.Z)("query",window.location.search)||"")){(0,y.P)("formsFieldList","loader",!0)();var n="",i=(0,b.Z)("sort",window.location.search,!0);t.length>0&&(n="?query=".concat(t)),u&&"object"===typeof u&&Object.keys(u).length>0&&(n+=n?"&filter=".concat(JSON.stringify(u)):"?filter=".concat(JSON.stringify(u))),i&&"object"===typeof i&&Object.keys(i).length>0&&(n+=n?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(n)}}),[e,u]),Z=i.useCallback((function(t){(0,y.P)("formsFieldList","loader",!0)();var n="",i=(0,b.Z)("query",window.location.search)||"",s=(0,b.Z)("sort",window.location.search,!0);i.length>0&&(n="?query=".concat(i)),s&&"object"===typeof s&&Object.keys(s).length>0&&(n+=n?"&sort=".concat(JSON.stringify(s)):"?sort=".concat(JSON.stringify(s))),e(n)}),[e]);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(w.Z,{onSearch:h,defaultValue:f}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[l&&"object"===typeof u&&Object.keys(u).length>0?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,color:"error",startIcon:(0,x.jsx)(S.Z,{}),onClick:Z,children:"Clear"})}):(0,x.jsx)(i.Fragment,{}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsxs)(m.Z,{disableElevation:!0,color:"primary",onClick:p,startIcon:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(F.Z,{sx:{display:l?"block":"none"}}),(0,x.jsx)(C.Z,{sx:{display:l?"none":"block"}})]}),children:[(0,x.jsx)(v.Z,{sx:{display:l?"block":"none"},children:"Collapse"}),(0,x.jsx)(v.Z,{sx:{display:l?"none":"block"},children:"Filters"})]})})]}),(0,x.jsx)(r.Z,{pb:l?2:0,sx:(0,a.Z)({position:"relative",overflow:"hidden"},l?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,x.jsxs)(k.ZP,{container:!0,spacing:3,children:[(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(hn,{})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(I.Z,{storeName:"formsFieldList"})}),(0,x.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,x.jsx)(P.Z,{storeName:"formsFieldList"})})]})})]})};(Zn=i.memo(Zn)).defaultProps={};var jn=Zn,vn=["entityId","isDeleted","isNotDelete"],gn=function(e){var t=e.entityId,n=e.isDeleted,s=e.isNotDelete,r=(0,O.Z)(e,vn),o=(0,T.Ds)().enqueueSnackbar,c=i.useCallback((function(e){(0,re.Q)()()}),[]),l=i.useCallback((function(e){(0,ae.n)("formsFieldDrop",{entityId:t})(),(0,re.Q)()()}),[t]),d=i.useCallback((function(e){(0,oe.U)({storeName:"formsFieldList",entityId:t,url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0})(o),(0,re.Q)()()}),[t,o]);return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(xe.Z,(0,a.Z)((0,a.Z)({},r),{},{children:[(0,x.jsxs)(W.Z,{component:u.Z,to:t,onClick:c,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(me.Z,{})}),(0,x.jsx)(le.Z,{children:"Edit"})]}),n&&(0,x.jsxs)(W.Z,{onClick:d,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(ue.Z,{})}),(0,x.jsx)(le.Z,{children:"Restore"})]}),!s&&(0,x.jsxs)(W.Z,{onClick:l,children:[(0,x.jsx)(ce.Z,{children:(0,x.jsx)(de.Z,{color:n?"error":"inherit"})}),(0,x.jsx)(le.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(gn=i.memo(gn)).defaultProps={};var yn=gn,bn=function(e){var t,n,o,c=e.withAccessToken,l=e.storeName,d=e.url,m=e.path,f=(0,T.Ds)().enqueueSnackbar,p=(0,s.TH)(),h=(0,s.s0)(),Z=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),j=(0,A.v9)((0,D.Z)(["api","list",l,"loader"])),g=null!==(t=(0,A.v9)((0,D.Z)(["api","list",l,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,A.v9)((0,D.Z)(["api","list",l,"page"])))&&void 0!==n?n:1,S=null!==(o=(0,A.v9)((0,D.Z)(["api","list",l,"limit"])))&&void 0!==o?o:20,F=(0,A.v9)((0,D.Z)(["api","list",l,"data"])),C=(0,b.Z)("query",p.search),w=(0,b.Z)("select",p.search),I=(0,b.Z)("filter",p.search),P=(0,b.Z)("sort",p.search),L=i.useCallback((function(e,t){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"page",t)()}),[l]),O=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),(0,y.P)(l,"limit",e.target.value)()}),[l]),W=i.useCallback((function(e){return function(t){(0,G.n)("forms-menu-field-context-".concat(e),t.target)()}}),[]),M=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("id",e))}),[h,l]),J=i.useCallback((function(e){(0,y.P)(l,"loader",!0)(),h((0,se.z)("createdAt",e))}),[h,l]);return i.useEffect((function(){Z||(0,E.i)((0,a.Z)((0,a.Z)((0,a.Z)({id:l,url:d,path:m,withAccessToken:c,page:k,limit:S,query:C},w?{select:JSON.parse(decodeURI(w))}:{}),I?{filter:JSON.parse(decodeURI(I))}:{}),P?{sort:JSON.parse(decodeURI(P))}:{}))(f)}),[l,c,d,m,Z,k,S,C,w,I,P,f]),i.useEffect((function(){return function(){(0,q.K)(l)()}}),[l]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:!Array.isArray(F)}),Array.isArray(F)?F.length>0?(0,x.jsxs)(ie.Z,{withChangeLimit:!0,total:g,page:k,limit:S,length:F.length,onChange:L,onLimit:O,children:[(0,x.jsx)(X.Z,{children:(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(se.Z,{name:"id",onChange:M,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})}),(0,x.jsx)(te.Z,{children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,x.jsx)(se.Z,{name:"createdAt",onChange:J,children:(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),j||Z?(0,x.jsxs)("tbody",{children:[(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,x.jsx)(H.Z,{visible:!0})})}),(0,x.jsx)("tr",{children:(0,x.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,x.jsx)(_.Z,{children:F.map((function(e,t){return(0,x.jsxs)(ee.Z,{children:[(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:u.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,x.jsxs)(te.Z,{sx:{minWidth:"28%"},children:[(0,x.jsx)(v.Z,{component:u.Z,to:e.id,variant:"h6",color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.name}),(0,x.jsx)(v.Z,{component:"div",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.description})]}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.fieldStatusId})}),(0,x.jsx)(te.Z,{sx:{minWidth:"18%"},children:(0,x.jsx)(v.Z,{component:"div",children:e.userId})}),(0,x.jsxs)(te.Z,{sx:{width:"18%"},children:[(0,Ze.Z)(e.createdAt)?(0,x.jsxs)(r.Z,{pb:1,children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{}),(0,Ze.Z)(e.updatedAt)?(0,x.jsxs)(r.Z,{children:[(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Updated at:"}),(0,x.jsx)(v.Z,{component:"div",children:(0,x.jsx)("b",{children:(0,$.Z)(new Date(e.updatedAt),"dd MMMM, hh:mm")})})]}):(0,x.jsx)(i.Fragment,{})]}),(0,x.jsxs)(te.Z,{sx:{width:"1%"},children:[(0,x.jsx)(N.Z,{onClick:W(e.id),children:(0,x.jsx)(ne.Z,{})}),(0,x.jsx)(yn,{id:"forms-menu-field-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,x.jsx)(r.Z,{py:6,display:"flex",justifyContent:"center",children:(0,x.jsx)(v.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,x.jsx)(i.Fragment,{})]})};(bn=i.memo(bn)).defaultProps={withAccessToken:!0,storeName:"formsFieldList",url:"https://api.cidiator.com/forms",path:"field"};var kn=bn,Sn=["storeName","id"],Fn=function(e){var t=e.storeName,n=e.id,s=(0,O.Z)(e,Sn),r=(0,T.Ds)().enqueueSnackbar,o=(0,A.v9)((0,D.Z)(["dialog",n,"entityId"])),c=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),l=(0,A.v9)((0,D.Z)(["api","list",t,"loader"])),d=i.useCallback(function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(i){return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.R)({entityId:o,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/forms",path:"field"})(r);case 2:return e.next=4,(0,ke.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,o,r]),u=!0===c||!0===l;return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(Ce.Z,(0,a.Z)((0,a.Z)({},s),{},{loader:u,maxWidth:"xs",id:n,title:"Delete field?",actions:(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(m.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,x.jsx)(Fe.Z,{}),onClick:d,children:"OK"})}),children:(0,x.jsx)(Se.Z,{children:"Are you sure you want to delete the current field? This operation is irreversible and may compromise data integrity."})}))})};(Fn=i.memo(Fn)).defaultProps={id:"formsFieldDrop"};var Cn=Fn,wn=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Fields list"})}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/field/0",children:"Create"})}),(0,x.jsx)(jn,{}),(0,x.jsx)(kn,{storeName:"formsFieldList"}),(0,x.jsx)(Cn,{storeName:"formsFieldList"})]})};(wn=i.memo(wn)).defaultProps={};var In=wn,Pn=["name","children"],Ln=function(e){var t,n,s,r=e.name,o=e.children,c=(0,O.Z)(e,Pn),l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),m=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","loader"])),u=null!==(t=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","total"])))&&void 0!==t?t:0,f=null!==(n=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","page"])))&&void 0!==n?n:1,p=null!==(s=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","limit"])))&&void 0!==s?s:20,h=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","query"])),Z=(0,A.v9)((0,D.Z)(["api","list","formsFieldStatusList","data"])),j=i.useCallback((function(e,t){(0,y.P)("formsFieldStatusList","loader",!0)(),(0,y.P)("formsFieldStatusList","page",t)()}),[]),v=i.useCallback((function(e){(0,y.P)("formsFieldStatusList","loader",!0)(),(0,y.P)("formsFieldStatusList","limit",e.target.value)()}),[]),g=i.useCallback((function(e){}),[]);return i.useEffect((function(){d||(0,E.i)({id:"formsFieldStatusList",url:"https://api.cidiator.com/forms",path:"field-status",withAccessToken:!0,page:f,limit:p,query:h})(l)}),[d,l,f,p,h]),i.useEffect((function(){return function(){(0,q.K)("formsFieldStatusList")()}}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:m||d,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),m||d?(0,x.jsx)(i.Fragment,{}):(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(qe.Z,(0,a.Z)((0,a.Z)({name:r},c),{},{children:o||(Array.isArray(Z)?[].concat((0,L.Z)(1===f&&u<p?[]:[(0,x.jsx)(w.Z,{name:"select-".concat(r.toString(),"-search"),onSearch:g},"formSearch")]),(0,L.Z)(Z.map((function(e){return(0,x.jsx)(W.Z,{value:e.id,children:e.name},e.id)}))),(0,L.Z)(1===f&&u<p?[]:[(0,x.jsxs)(k.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,x.jsx)(k.ZP,{item:!0,xs:!0,children:(0,x.jsx)(M.Z,{count:Math.ceil(u/p),page:f,onChange:j})}),(0,x.jsx)(k.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,x.jsx)(z.Z,{label:"Limit",size:"small",value:p,onChange:v})})]},"MuiPagination")])):(0,x.jsx)(W.Z,{children:(0,x.jsx)(H.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(Ln=i.memo(Ln)).defaultProps={name:"fieldStatusId",multiple:!1,onChange:function(){}};var An=Ln,Dn=n(5710),Nn=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,a,o,c,l,d,m,u,x,f;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,i=t.enqueueSnackbar,s=t.navigate,e.prev=1,e.next=4,(0,De.F)(n,"loader",!0)();case 4:if(r=(0,$e.Z)().getState().api.form[n],a=r.id,o=r.name,c=r.description,l=r.isRequired,d=r.isNotDelete,m=r.fieldStatusId,u=r.dataTypeId,x={},(0,Ge.Z)(a,!0)||(x.id="The value is in the wrong format."),(0,Ge.Z)(o)?(0,Xe.Z)(o)||(x.name="Cannot be empty."):x.name="The value is in the wrong format.",(0,Ge.Z)(c,!0)||(x.description="The value is in the wrong format."),(0,_e.Z)(l,!0)||(x.isRequired="The value is in the wrong format."),(0,_e.Z)(d,!0)||(x.isNotDelete="The value is in the wrong format."),m&&"string"===typeof m||(x.fieldStatusId="The value is in the wrong format."),(0,Xe.Z)(u)?(0,et.Z)(u)||(x.dataTypeId="Specified data type does not exist."):x.dataTypeId="Cannot be empty.",!(Object.keys(x).length>0)){e.next=19;break}return e.next=16,(0,De.F)(n,"errors",x)();case 16:return e.next=18,(0,De.F)(n,"loader",!1)();case 18:throw new Error("Check that the form is filled out correctly.");case 19:"0"===n?(0,Ve.Y)({entityId:n,url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0})(i,s):(0,Be.L)({entityId:n,url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0})(i),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),f=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,i(f,{variant:"error"});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),On=Nn,Tn=function(){var e=(0,T.Ds)().enqueueSnackbar,t=(0,s.UO)().entityId,n=(0,s.s0)(),a=(0,A.v9)((0,D.Z)(["loader","unmount","visible"])),o=(0,A.v9)((0,D.Z)(["api","form",t,"loader"])),c=(0,A.v9)((0,D.Z)(["api","form",t,"id"])),l=(0,A.v9)((0,D.Z)(["api","form",t,"name"])),d=(0,A.v9)((0,D.Z)(["api","form",t,"description"])),u=(0,A.v9)((0,D.Z)(["api","form",t,"fieldStatusId"])),f=(0,A.v9)((0,D.Z)(["api","form",t,"dataTypeId"])),p=(0,A.v9)((0,D.Z)(["api","form",t,"isRequired"])),h=(0,A.v9)((0,D.Z)(["api","form",t,"isNotDelete"])),Z=(0,A.v9)((0,D.Z)(["api","form",t,"isDeleted"])),j=(0,A.v9)((0,D.Z)(["api","form",t,"errors","id"])),v=(0,A.v9)((0,D.Z)(["api","form",t,"errors","name"])),g=(0,A.v9)((0,D.Z)(["api","form",t,"errors","description"])),y=(0,A.v9)((0,D.Z)(["api","form",t,"errors","fieldStatusId"])),b=(0,A.v9)((0,D.Z)(["api","form",t,"errors","dataTypeId"])),S=(0,A.v9)((0,D.Z)(["api","form",t,"errors","isRequired"])),F=(0,A.v9)((0,D.Z)(["api","form",t,"errors","isNotDelete"])),C=i.useCallback((function(i){i.preventDefault(),On({gateway:"https://api.cidiator.com/forms",entityId:t,path:"field",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),w=i.useCallback((function(e){(0,De.F)(t,"id",e.target.value)()}),[t]),I=i.useCallback((function(e){(0,De.F)(t,"name",e.target.value)()}),[t]),P=i.useCallback((function(e){(0,De.F)(t,"description",e.target.value)()}),[t]),L=i.useCallback((function(e,n){(0,De.F)(t,"fieldStatusId",e.target.value)()}),[t]),N=i.useCallback((function(e,n){(0,De.F)(t,"dataTypeId",e.target.value)()}),[t]),O=i.useCallback((function(e,n){(0,De.F)(t,"isNotDelete",n)()}),[t]),E=i.useCallback((function(e,n){(0,De.F)(t,"isRequired",n)()}),[t]),q=i.useCallback((function(e){(0,ae.n)("formsFieldDrop",{entityId:t})()}),[t]);return i.useEffect((function(){!a&&t&&"0"!==t&&(0,Ne.y)({entityId:t,url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0})(e,n)}),[a,t,e,n]),i.useEffect((function(){return function(){(0,Oe.z)(t)()}}),[t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof o||a}),(0,x.jsxs)("form",{onSubmit:C,style:{display:"undefined"===typeof o||a?"none":"initial"},children:[(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:c||"",onChange:w,error:j})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,required:!0,name:"name",label:"Name",placeholder:"For example: Test option",value:l||"",onChange:I,error:v})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Re.default,{disabled:o,multiline:!0,rows:3,name:"description",label:"Description",value:d||"",onChange:P,error:g})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Dn.Z,{required:!0,disabled:o,name:"dataTypeId",label:"Data type",value:f||"",onChange:N,error:b})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(An,{disabled:o,label:"Status",name:"fieldStatusId",value:u||"",onChange:L,error:y})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ke.default,{disabled:o,name:"isRequired",label:"Required to fill",value:!!p,onChange:E,error:S})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(Ke.default,{disabled:o,name:"isNotDelete",label:"Make entry undeletable",value:!!h,onChange:O,error:F})}),(0,x.jsx)(zt.Z,{withAccessToken:!0,entityId:t,url:"https://api.cidiator.com/forms",path:"field-option",pathEntity:"field"}),(0,x.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,type:"submit",variant:"contained",color:"secondary",startIcon:o?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})}),!h&&t&&"string"===typeof t&&"0"!==t?(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:o,variant:"contained",color:"error",startIcon:(0,x.jsx)(de.Z,{}),onClick:q,children:Z?"Delete permanently":"Delete"})}):(0,x.jsx)(i.Fragment,{})]})]})]})};(Tn=i.memo(Tn)).defaultProps={};var En=Tn,qn=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"},{key:"/forms/field/".concat(e),text:"0"===e?"Create new field":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Create new field":(0,x.jsxs)(i.Fragment,{children:["Edit field ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(En,{storeName:e}),(0,x.jsx)(Cn,{storeName:e})]})};(qn=i.memo(qn)).defaultProps={};var Wn=qn,Mn=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"},{key:"/forms/field/options",text:"Options"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.Z,{pb:2,children:[(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Options"}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Managing additional fields of the current entity."})]}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/field/options/0",children:"Create"})}),(0,x.jsx)(Bt.Z,{storeName:"formsFieldOptionsList"}),(0,x.jsx)($t.Z,{withAccessToken:!0,storeName:"formsFieldOptionsList",url:"https://api.cidiator.com/forms",path:"field-option"}),(0,x.jsx)(Gt.Z,{withAccessToken:!0,storeName:"formsFieldOptionsList",url:"https://api.cidiator.com/forms",path:"field-option"})]})};(Mn=i.memo(Mn)).defaultProps={};var Hn=Mn,Jn=function(){var e=(0,ye.Z)((0,ge.Z)().mark((function e(t){var n,i,s,r,o,c,l,d,m;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enqueueSnackbar,i=t.storeName,t.entityId,s=t.withAccessToken,r=t.url,o=t.path,c=t.pathCreate,e.prev=1,e.next=4,(0,De.F)(i,"loader",!0)();case 4:return e.next=6,(0,y.P)(i,"loader",!0)();case 6:if(l=(0,$e.Z)().getState().api.form[i].fieldId,d={},(0,Ge.Z)(l,!0)?(0,Xe.Z)(l)||(d.fieldId="Cannot be empty."):d.fieldId="The value is in the wrong format.",!(Object.keys(d).length>0)){e.next=15;break}return e.next=12,(0,De.F)(i,"errors",d)();case 12:return e.next=14,(0,De.F)(i,"loader",!1)();case 14:throw new Error("Check that the form is filled out correctly.");case 15:(0,Ve.Y)({entityId:i,url:r,path:c,withAccessToken:s})(n,(0,ye.Z)((0,ge.Z)().mark((function e(){var t,n,s,r,o,c=arguments;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=t.split("/"),s=n[n.length-1],r=(0,a.Z)({},(0,$e.Z)().getState().api.form[s]||{}),(o=(0,L.Z)(((0,$e.Z)().getState().api.list[i]||{}).data)).push(r),e.next=8,(0,y.P)(i,"data",(0,L.Z)(o))();case 8:return e.next=10,(0,ke.Q)("".concat(i,"Item"))();case 10:return e.next=12,(0,y.P)(i,"loader",!1)();case 12:case"end":return e.stop()}}),e)})))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,n("".concat(m," - ").concat(o),{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),zn=Jn,Un=function(e){var t=e.entityId,n=e.storeName,s=e.withAccessToken,a=e.url,o=e.path,c=e.pathCreate,l=(0,T.Ds)().enqueueSnackbar,d=(0,A.v9)((0,D.Z)(["api","form",n,"loader"])),u=(0,A.v9)((0,D.Z)(["api","form",n,"fieldId"])),f=(0,A.v9)((0,D.Z)(["api","form",n,"errors","fieldId"])),p=i.useCallback((function(e){e.preventDefault(),zn({enqueueSnackbar:l,storeName:n,entityId:t,withAccessToken:s,url:a,path:o,pathCreate:c})}),[l,n,t,s,a,o,c]),h=i.useCallback((function(e){(0,De.F)(n,"fieldId",e.target.value)()}),[n]);return i.useEffect((function(){(0,Ne.y)({entityId:n})()}),[n]),i.useEffect((function(){return function(){(0,Oe.z)(n)()}}),[n]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(H.Z,{visible:"undefined"===typeof d}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(qt,{disabled:d,name:"fieldId",label:"Select field",value:u||"",onChange:h,error:f})}),(0,x.jsx)(k.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:(0,x.jsx)(k.ZP,{item:!0,xs:!1,children:(0,x.jsx)(m.Z,{disableElevation:!0,disabled:d,type:"submit",variant:"contained",color:"secondary",onClick:p,startIcon:d?(0,x.jsx)(H.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,x.jsx)(Te.Z,{}),children:"Save"})})})]})};(Un=i.memo(Un)).defaultProps={};var Qn=Un,Rn=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"},{key:"/forms/field/options",text:"Options"},{key:"/forms/field/options/".concat(e),text:"0"===e?"Create new option":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add option":(0,x.jsxs)(i.Fragment,{children:["Edit option ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(en.Z,{withAccessToken:!0,storeName:"formsFieldOptionsList",url:"https://api.cidiator.com/forms",FormOptionComponent:Qn,path:"field-option",pathRelation:"field/option",pathCreate:"field/".concat(e,"/option"),relationTitle:"Fields",relationDescription:"List of fields that will own the current option.",filterOptions:function(){return{fieldOptionId:e}},manyToManyColumns:function(){return[["fieldId","Field"],["createdAt","Create at"]]}}),(0,x.jsx)(Gt.Z,{withAccessToken:!0,storeName:"formsFieldOptionsList",url:"https://api.cidiator.com/forms",path:"field-option"})]})};(Rn=i.memo(Rn)).defaultProps={};var Kn=Rn,Yn=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"},{key:"/forms/field/statuses",text:"Statuses"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(r.Z,{pb:2,children:[(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Statuses"}),(0,x.jsx)(v.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Entity state."})]}),(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/field/statuses/0",children:"Create"})}),(0,x.jsx)(ot.Z,{storeName:"formsFieldStatusesList"}),(0,x.jsx)(ct.Z,{withAccessToken:!0,storeName:"formsFieldStatusesList",url:"https://api.cidiator.com/forms",path:"field-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsFieldStatusesList",url:"https://api.cidiator.com/forms",path:"field-status"})]})};(Yn=i.memo(Yn)).defaultProps={};var Vn=Yn,Bn=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/field",text:"Fields"},{key:"/forms/field/statuses",text:"Statuses"},{key:"/forms/field/statuses/".concat(e),text:"0"===e?"Create new status":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add status":(0,x.jsxs)(i.Fragment,{children:["Edit status ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(ut.Z,{withAccessToken:!0,storeName:"formsFieldStatusesList",url:"https://api.cidiator.com/forms",path:"field-status"}),(0,x.jsx)(lt.Z,{withAccessToken:!0,storeName:"formsFieldStatusesList",url:"https://api.cidiator.com/forms",path:"field-status"})]})};(Bn=i.memo(Bn)).defaultProps={};var $n=Bn,Gn=n(4487),Xn=n(4994),_n=n(2426),ei=function(){return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/settings",text:"Settings"}])()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{pt:1,pb:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"Settings list"})}),(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,x.jsx)(g.Z,{}),component:u.Z,to:"/forms/settings/0",children:"Create"})}),(0,x.jsx)(Gn.Z,{storeName:"formsSettingsList"}),(0,x.jsx)(Xn.Z,{withAccessToken:!0,storeName:"formsSettingsList",url:"https://api.cidiator.com/forms",path:"setting"}),(0,x.jsx)(_n.Z,{withAccessToken:!0,storeName:"formsSettingsList",url:"https://api.cidiator.com/forms",path:"setting"})]})};(ei=i.memo(ei)).defaultProps={};var ti=ei,ni=n(4988),ii=function(){var e=(0,s.UO)().entityId,t=(0,A.v9)((0,D.Z)(["api","form",e,"isDeleted"]));return i.useEffect((function(){(0,j.Q)("app",[{key:"/",text:"..."},{key:"forms",text:"Forms"},{key:"/forms/settings",text:"Settings"},{key:"/forms/settings/".concat(e),text:"0"===e?"Create new setting":(0,x.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r.Z,{py:2,children:(0,x.jsx)(v.Z,{component:"div",variant:"h5",children:"0"===e?"Add setting":(0,x.jsxs)(i.Fragment,{children:["Edit setting ",(0,x.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,x.jsx)(ni.Z,{withAccessToken:!0,storeName:"formsSettingsList",url:"https://api.cidiator.com/forms",path:"setting"}),(0,x.jsx)(_n.Z,{withAccessToken:!0,storeName:"formsSettingsList",url:"https://api.cidiator.com/forms",path:"setting"})]})};(ii=i.memo(ii)).defaultProps={};var si=ii,ri=function(){return(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(s.Z5,{children:(0,x.jsxs)(s.AW,{path:"",element:(0,x.jsx)(Z,{}),children:[(0,x.jsx)(s.AW,{index:!0,element:(0,x.jsx)(At,{})}),(0,x.jsx)(s.AW,{path:":entityId",element:(0,x.jsx)(At,{})}),(0,x.jsx)(s.AW,{path:"form",element:(0,x.jsx)(At,{})}),(0,x.jsx)(s.AW,{path:"form/:entityId",element:(0,x.jsx)(Vt,{})}),(0,x.jsx)(s.AW,{path:"form/options",element:(0,x.jsx)(_t,{})}),(0,x.jsx)(s.AW,{path:"form/options/:entityId",element:(0,x.jsx)(on,{})}),(0,x.jsx)(s.AW,{path:"form/statuses",element:(0,x.jsx)(ln,{})}),(0,x.jsx)(s.AW,{path:"form/statuses/:entityId",element:(0,x.jsx)(mn,{})}),(0,x.jsx)(s.AW,{path:"field",element:(0,x.jsx)(In,{})}),(0,x.jsx)(s.AW,{path:"field/:entityId",element:(0,x.jsx)(Wn,{})}),(0,x.jsx)(s.AW,{path:"field/options",element:(0,x.jsx)(Hn,{})}),(0,x.jsx)(s.AW,{path:"field/options/:entityId",element:(0,x.jsx)(Kn,{})}),(0,x.jsx)(s.AW,{path:"field/statuses",element:(0,x.jsx)(Vn,{})}),(0,x.jsx)(s.AW,{path:"field/statuses/:entityId",element:(0,x.jsx)($n,{})}),(0,x.jsx)(s.AW,{path:"content",element:(0,x.jsx)(Ae,{})}),(0,x.jsx)(s.AW,{path:"content/:entityId",element:(0,x.jsx)(at,{})}),(0,x.jsx)(s.AW,{path:"content/statuses",element:(0,x.jsx)(mt,{})}),(0,x.jsx)(s.AW,{path:"content/statuses/:entityId",element:(0,x.jsx)(ft,{})}),(0,x.jsx)(s.AW,{path:"settings",element:(0,x.jsx)(ti,{})}),(0,x.jsx)(s.AW,{path:"settings/:entityId",element:(0,x.jsx)(si,{})})]})})})};(ri=i.memo(ri)).defaultProps={};var ai=ri}}]);
//# sourceMappingURL=543.54fdce9d.chunk.js.map