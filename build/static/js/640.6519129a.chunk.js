"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[640],{6640:function(e,t,n){n.r(t),n.d(t,{default:function(){return Zt}});var r=n(2791),i=n(7689),o=n(6015),a=n(1413),s=n(885),l=n(142),u=n(166),c=n(7161),d=n(184),f=function(){var e=(0,i.TH)().pathname,t=e.substring(1),n=[0===t.indexOf("lensa/report"),0===t.indexOf("lensa/settings")],o=r.useState((function(){return"/lensa"===e?0:n.indexOf(!0)})),f=(0,s.Z)(o,2),x=f[0],p=f[1],m=r.useCallback((function(e,t){p(t)}),[p]);return r.useEffect((function(){"/lensa"===e&&p(0)}),[e,p]),(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)(l.Z,{variant:"scrollable",value:x>=0?x:0,onChange:m,children:[(0,d.jsx)(u.Z,(0,a.Z)({label:"Reports"},0===t.indexOf("lensa/report")||"/lensa"===e?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:c.Z,to:"report",sx:{textTransform:"initial"}})),(0,d.jsx)(u.Z,(0,a.Z)({label:"Settings"},0===t.indexOf("lensa/settings")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:c.Z,to:"settings",sx:{textTransform:"initial"}}))]})})};(f=r.memo(f)).defaultProps={};var x=f,p=function(e){e.children;return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(o.Z,{pr:2,children:(0,d.jsx)(x,{})}),(0,d.jsx)(i.j3,{})]})};(p=r.memo(p)).defaultProps={};var m=p,h=n(6030),Z=n(8954),j="https://api.cidiator.com/lensa/report",v="https://api.cidiator.com/lensa/setting",g=n(708),k=n(9571),b=n(2882),C=n(6166),D=function(){var e=(0,h.v9)((0,g.Z)(["dialog",j,"entityId"])),t=(0,h.v9)((0,g.Z)(["api","form",j,"loader"])),n=(0,h.v9)((0,g.Z)(["api","list",j,"loader"])),i=r.useCallback((function(t){return(0,Z.R)(j,e)()}),[e]);return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(b.Z,{id:j,loader:!0===t||!0===n,maxWidth:"xs",title:"Delete report?",actions:(0,d.jsx)(C.Z,{loader:!0===t||!0===n,onClick:i,children:"OK"}),children:(0,d.jsx)(k.Z,{children:"Are you sure you want to delete the current report? This operation is irreversible and may compromise data integrity."})})})};(D=r.memo(D)).defaultProps={};var y=D,F=n(2606),A=n(2772),P=n(3495),I=n(3135),w=n(9300),T=n(2100),N=n(2650),E=n(7642),R=n(6498),O=n(8686),S=n(891),L=n(4432),W=n(6601),q=n(5951),M=n(4565),B=n(4486),H=n(3343),Q=n(1419),U=n(4096),Y=n(44),K=n(3895),V=n(2982),z=n(7060),G=n(807),J=n(4390),X=n(3811),$=n(5473),_=n(2898),ee=n(8061),te=n(9949),ne=n(8947),re=function(e){var t=e.bulkDeletion,n=e.id,i=e.isDeleted,o=e.isNotDelete,a=e.createdAt,s=e.updatedAt,l=e.onClose,u=e.onDrop,c=e.onRestore,f=e.onMenu,x=e.onCheck,p=e.storePath,m=(0,h.v9)((0,z.Z)([].concat((0,V.Z)(p),["selected"]),n));return(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)(G.Z,{children:[t&&(0,q.Z)(p)&&(0,d.jsx)(J.Z,{padding:"checkbox",sx:{minWidth:"1%"},children:(0,d.jsx)($.Z,{checked:m,onChange:x})}),(0,d.jsx)(J.Z,{sx:{minWidth:"48%"},children:(0,d.jsx)(ee.Z,{to:"/lensa/report/".concat(n),isDeleted:i,children:n})}),(0,d.jsx)(J.Z,{sx:{width:"48%"},children:(0,d.jsx)(te.Z,{createdAt:a,updatedAt:s})}),(0,d.jsxs)(J.Z,{sx:{width:"1%"},children:[(0,d.jsx)(X.Z,{onClick:f,children:(0,d.jsx)(_.Z,{})}),(0,d.jsx)(ne.Z,{id:n,isDeleted:i,isNotDelete:o,onClose:l,onDrop:u,onRestore:c})]})]},n)})};(re=r.memo(re)).defaultProps={bulkDeletion:!1,onCheck:function(){}};var ie=re,oe=function(){var e,t,n,o,a,s=(0,i.TH)().search,l=(0,W.Z)("query",s),u=(0,W.Z)("select",s),c=(0,W.Z)("filter",s),f=(0,W.Z)("sort",s),x=(0,h.v9)((0,g.Z)(["loader","unmount","visible"])),p=(0,h.v9)((0,g.Z)(["api","list",j,"loader"])),m=null!==(e=(0,h.v9)((0,g.Z)(["api","list",j,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,h.v9)((0,g.Z)(["api","list",j,"page"])))&&void 0!==t?t:1,v=null!==(n=(0,h.v9)((0,g.Z)(["api","list",j,"limit"])))&&void 0!==n?n:20,k=(0,h.v9)((0,g.Z)(["api","list",j,"data"])),b=r.useMemo((function(){return["api","list",j]}),[]),C=!(0,q.Z)(k)||x||p,D=r.useCallback((function(e,t){return(0,I.T)(j,t)}),[]),y=r.useCallback((function(e){return(0,w.I)(j,e)}),[]),V=r.useCallback((function(e){return(0,T.a)(j,"id",e)}),[]),z=r.useCallback((function(e){return(0,T.a)(j,"createdAt",e)}),[]),G=r.useCallback((function(e){return function(t){return(0,N.Y)(j,e)}}),[]),J=r.useCallback((function(e){return function(t){return(0,E.d)(j,e)}}),[]),X=r.useCallback((function(e){return(0,S.V)(j,e)}),[]),$=r.useCallback((function(e){return(0,R.A)(j,e)}),[]),_=r.useCallback((function(){return(0,O.D)(j)}),[]),ee=r.useCallback((function(){return(0,A.P)(j,"loader",!0)()}),[]),te=r.useCallback((function(e){return function(t){return(0,L.n)(e,t.target)()}}),[]);return r.useEffect((function(){x||(0,P.i)(j,{page:Z,limit:v,query:l,select:u,filter:c,sort:f})()}),[x,Z,v,l,u,c,f]),r.useEffect((function(){return function(){return(0,F.K)(j)()}}),[]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)(Y.Z,{bulkDeletion:!0,toolbarComponent:(0,d.jsx)(K.Z,{to:"/lensa/report/0"}),storePath:b,loader:C,length:null!==(o=(k||[]).length)&&void 0!==o?o:0,onBulk:$,onDrop:_,onLoader:ee,children:[(0,d.jsx)(Q.Z,{onInput:ee}),(0,d.jsx)(U.Z,{onInput:ee})]}),!C&&(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(B.Z,{bulkDeletion:!0,withChangeLimit:!0,loader:p,total:m,page:Z,limit:v,length:null!==(a=(k||[]).length)&&void 0!==a?a:0,onChange:D,onLimit:y,headRowCells:[(0,d.jsx)(H.Z,{name:"id",onChange:V,children:(0,d.jsx)(M.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})},"id"),(0,d.jsx)(H.Z,{name:"createdAt",onChange:z,children:(0,d.jsx)(M.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})},"createdAt")],children:(0,q.Z)(k)&&k.map((function(e){return(0,d.jsx)(ie,{bulkDeletion:!0,id:e.id,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:G(e.id),onRestore:J(e.id),onMenu:te(e.id),onCheck:X(e.id),storePath:b},e.id)}))})})]})};(oe=r.memo(oe)).defaultProps={};var ae=oe,se=n(8185),le=n(148),ue=function(){(0,le.Q)("app",[{key:"/",text:"..."},{key:"lensa",text:"Lensa"},{key:"/lensa/report",text:"Reports"}])()},ce=function(){return r.useEffect((function(){return ue()}),[]),(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.Z,{pt:1,pb:2,children:(0,d.jsx)(se.Z,{children:"Report list"})})})};(ce=r.memo(ce)).defaultProps={};var de=ce,fe=function(){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(de,{}),(0,d.jsx)(ae,{}),(0,d.jsx)(y,{})]})};(fe=r.memo(fe)).defaultProps={};var xe=fe,pe=n(7235),me=n(9154),he=n(2399),Ze=n(3979),je=n(3990),ve=n(9465),ge=n(4165),ke=n(5861),be=n(6001),Ce=n(2619),De=n(5312),ye=n(2674),Fe=n(175),Ae=function(){var e=(0,ke.Z)((0,ge.Z)().mark((function e(t,n){var r,i,o;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,Ce.F)(j,"loader",!0)();case 3:if(r=(((0,be.Z)().getState().api||{}).form||{})[j]||{},i=r.id,o={},i&&!(0,Fe.Z)(i)&&(o.id="The value is in the wrong format."),!(Object.keys(o).length>0)){e.next=13;break}return e.next=9,(0,Ce.F)(j,"errors",o)();case 9:return e.next=11,(0,Ce.F)(j,"loader",!1)();case 11:e.next=14;break;case 13:(0,Ze.Z)(n)?(0,ye.L)(j,n)():(0,De.Y)(j)();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=Ae,Ie=function(){var e=(0,i.UO)().entityId,t=(0,h.v9)((0,g.Z)(["loader","unmount","visible"])),n=(0,h.v9)((0,g.Z)(["api","form",j,"loader"])),o=(0,h.v9)((0,g.Z)(["api","form",j],(function(e){return Object.keys(e||{}).length}))),a=(0,h.v9)((0,g.Z)(["api","form",j,"isNotDelete"])),s=(0,h.v9)((0,g.Z)(["api","form",j,"isDeleted"])),l=r.useCallback((function(t){return Pe(t,e)}),[e]),u=r.useCallback((function(t){return(0,he.n)(j,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,pe.y)(j,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,me.z)(j)()}}),[]),(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(je.Z,{onSubmit:l,onDrop:u,loader:n||(0,Ze.Z)(e)&&o<6,isDeleted:s,isNotDelete:a,showDropButton:!a&&(0,Ze.Z)(e),children:(0,d.jsx)(ve.Z,{storeFormName:j})})})};(Ie=r.memo(Ie)).defaultProps={};var we=Ie,Te=function(e,t){(0,le.Q)("app",[{key:"/",text:"..."},{key:"lensa",text:"Lensa"},{key:"/lensa/report",text:"Reports"},{key:"/lensa/report/".concat(e),text:"0"===e?"Create new report":(0,d.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Ne=function(){var e=(0,i.UO)().entityId,t=(0,h.v9)((0,g.Z)(["api","form",j,"isDeleted"]));return r.useEffect((function(){return Te(e,t)}),[e,t]),(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.Z,{pb:2,children:(0,d.jsx)(se.Z,{entityId:e,isDeleted:t,defaultContent:"Create new report",children:"Edit report"})})})};(Ne=r.memo(Ne)).defaultProps={};var Ee=Ne,Re=function(){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(Ee,{}),(0,d.jsx)(y,{}),(0,d.jsx)(we,{})]})};(Re=r.memo(Re)).defaultProps={};var Oe=Re,Se=n(2426),Le=function(){var e=(0,h.v9)((0,g.Z)(["dialog",v,"entityId"])),t=(0,h.v9)((0,g.Z)(["api","form",v,"loader"])),n=(0,h.v9)((0,g.Z)(["api","list",v,"loader"])),i=r.useCallback((function(t){return(0,Z.R)(v,e)()}),[e]);return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(Se.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:v,onHandle:i})})};(Le=r.memo(Le)).defaultProps={};var We=Le,qe=n(2218),Me=n(3417),Be=function(){var e,t,n,o,a=(0,i.TH)().search,s=(0,W.Z)("query",a),l=(0,W.Z)("select",a),u=(0,W.Z)("filter",a),c=(0,W.Z)("sort",a),f=(0,h.v9)((0,g.Z)(["loader","unmount","visible"])),x=(0,h.v9)((0,g.Z)(["api","list",v,"loader"])),p=null!==(e=(0,h.v9)((0,g.Z)(["api","list",v,"total"])))&&void 0!==e?e:0,m=null!==(t=(0,h.v9)((0,g.Z)(["api","list",v,"page"])))&&void 0!==t?t:1,Z=null!==(n=(0,h.v9)((0,g.Z)(["api","list",v,"limit"])))&&void 0!==n?n:20,j=(0,h.v9)((0,g.Z)(["api","list",v,"data"])),k=r.useMemo((function(){return["api","list",v]}),[]),b=!(0,q.Z)(j)||f||x,C=r.useCallback((function(e,t){return(0,I.T)(v,t)}),[]),D=r.useCallback((function(e){return(0,w.I)(v,e)}),[]),y=r.useCallback((function(e){return(0,T.a)(v,"id",e)}),[]),M=r.useCallback((function(e){return(0,T.a)(v,"createdAt",e)}),[]),B=r.useCallback((function(e){return function(t){return(0,N.Y)(v,e)}}),[]),H=r.useCallback((function(e){return function(t){return(0,E.d)(v,e)}}),[]),V=r.useCallback((function(e){return(0,S.V)(v,e)}),[]),z=r.useCallback((function(e){return(0,R.A)(v,e)}),[]),G=r.useCallback((function(){return(0,O.D)(v)}),[]),J=r.useCallback((function(){return(0,A.P)(v,"loader",!0)()}),[]),X=r.useCallback((function(e){return function(t){return(0,L.n)(e,t.target)()}}),[]);return r.useEffect((function(){f||(0,P.i)(v,{page:m,limit:Z,query:s,select:l,filter:u,sort:c})()}),[f,m,Z,s,l,u,c]),r.useEffect((function(){return function(){return(0,F.K)(v)()}}),[]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)(Y.Z,{bulkDeletion:!0,toolbarComponent:(0,d.jsx)(K.Z,{to:"/lensa/settings/0"}),storePath:k,loader:b,length:null!==(o=(j||[]).length)&&void 0!==o?o:0,onBulk:z,onDrop:G,onLoader:J,children:[(0,d.jsx)(Q.Z,{onInput:J}),(0,d.jsx)(U.Z,{onInput:J})]}),(0,d.jsx)(qe.Z,{bulkDeletion:!0,loader:b,total:p,page:m,limit:Z,onChangePage:C,onLimit:D,onSortId:y,onSortCreatedAt:M,children:(0,q.Z)(j)&&j.map((function(e){var t;return(0,d.jsx)(Me.Z,{bulkDeletion:!0,id:e.id,to:"/lensa/settings/".concat(e.id),name:e.name,description:e.description,dataTypeId:e.dataTypeId,value:null!==(t=e.value)&&void 0!==t?t:e.defaultValue,regex:e.regex,isRequired:e.isRequired,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,createdAt:e.createdAt,updatedAt:e.updatedAt,onDrop:B(e.id),onRestore:H(e.id),onMenu:X(e.id),onCheck:V(e.id),storePath:k},e.id)}))})]})};(Be=r.memo(Be)).defaultProps={};var He=Be,Qe=function(){(0,le.Q)("app",[{key:"/",text:"..."},{key:"lensa",text:"Lensa"},{key:"/lensa/settings",text:"Settings"}])()},Ue=function(){return r.useEffect((function(){return Qe()}),[]),(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.Z,{pt:1,pb:2,children:(0,d.jsx)(se.Z,{children:"Settings list"})})})};(Ue=r.memo(Ue)).defaultProps={};var Ye=Ue,Ke=function(){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(Ye,{}),(0,d.jsx)(He,{}),(0,d.jsx)(We,{})]})};(Ke=r.memo(Ke)).defaultProps={};var Ve=Ke,ze=n(2111),Ge=n(7514),Je=n(7497),Xe=n(6586),$e=n(6205),_e=n(3588),et=n(2394),tt=n(6749),nt=n(934),rt=n(2069),it=n(4327),ot=n(7836),at=n(1403),st=function(){var e=(0,ke.Z)((0,ge.Z)().mark((function e(t,n){var r,i,o,a,s,l,u,c,d;return(0,ge.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,Ce.F)(v,"loader",!0)();case 3:if(r=(((0,be.Z)().getState().api||{}).form||{})[v]||{},i=r.id,o=r.name,a=r.description,s=r.dataTypeId,l=r.regex,u=r.isRequired,c=r.isNotDelete,d={},i&&!(0,Fe.Z)(i)&&(d.id="The value is in the wrong format."),!(0,rt.Z)(o)&&(d.name="The value is in the wrong format."),a&&!(0,it.Z)(a)&&(d.description="The value is in the wrong format."),!(0,at.Z)(s)&&(d.dataTypeId="The value is in the wrong format."),l&&!(0,ot.Z)(l)&&(d.regex="The value is in the wrong format."),(0,nt.Z)(u)&&!(0,tt.Z)(u)&&(d.isRequired="The value is in the wrong format."),(0,nt.Z)(c)&&!(0,tt.Z)(c)&&(d.isNotDelete="The value is in the wrong format."),!(Object.keys(d).length>0)){e.next=19;break}return e.next=15,(0,Ce.F)(v,"errors",d)();case 15:return e.next=17,(0,Ce.F)(v,"loader",!1)();case 17:e.next=20;break;case 19:(0,Ze.Z)(n)?(0,ye.L)(v,n)():(0,De.Y)(v)();case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lt=st,ut=function(){var e=(0,i.UO)().entityId,t=(0,h.v9)((0,g.Z)(["loader","unmount","visible"])),n=(0,h.v9)((0,g.Z)(["api","form",v,"loader"])),o=(0,h.v9)((0,g.Z)(["api","form",v],(function(e){return Object.keys(e||{}).length}))),a=(0,h.v9)((0,g.Z)(["api","form",v,"isNotDelete"])),s=(0,h.v9)((0,g.Z)(["api","form",v,"isDeleted"])),l=r.useCallback((function(t){return lt(t,e)}),[e]),u=r.useCallback((function(t){return(0,he.n)(v,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,pe.y)(v,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,me.z)(v)()}}),[]),(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)(je.Z,{onSubmit:l,onDrop:u,loader:n||(0,Ze.Z)(e)&&o<6,isDeleted:s,isNotDelete:a,showDropButton:!a&&(0,Ze.Z)(e),children:[(0,d.jsx)(ve.Z,{storeFormName:v}),(0,d.jsx)(ze.Z,{storeFormName:v}),(0,d.jsx)(Ge.Z,{storeFormName:v}),(0,d.jsx)(Je.Z,{storeFormName:v}),(0,d.jsx)(Xe.Z,{storeFormName:v}),(0,d.jsx)($e.Z,{storeFormName:v}),(0,d.jsx)(_e.Z,{storeFormName:v}),(0,d.jsx)(et.Z,{storeFormName:v})]})})};(ut=r.memo(ut)).defaultProps={};var ct=ut,dt=function(e,t){(0,le.Q)("app",[{key:"/",text:"..."},{key:"lensa",text:"Lensa"},{key:"/lensa/settings",text:"Settings"},{key:"/lensa/settings/".concat(e),text:"0"===e?"Create new setting":(0,d.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},ft=function(){var e=(0,i.UO)().entityId,t=(0,h.v9)((0,g.Z)(["api","form",v,"isDeleted"]));return r.useEffect((function(){return dt(e,t)}),[e,t]),(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(o.Z,{pt:1,pb:2,children:(0,d.jsx)(se.Z,{entityId:e,isDeleted:t,defaultContent:"Add setting",children:"Edit setting"})})})};(ft=r.memo(ft)).defaultProps={};var xt=ft,pt=function(){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(xt,{}),(0,d.jsx)(We,{}),(0,d.jsx)(ct,{})]})};(pt=r.memo(pt)).defaultProps={};var mt=pt,ht=function(){return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(i.Z5,{children:(0,d.jsxs)(i.AW,{path:"",element:(0,d.jsx)(m,{}),children:[(0,d.jsx)(i.AW,{index:!0,element:(0,d.jsx)(xe,{})}),(0,d.jsx)(i.AW,{path:":entityId",element:(0,d.jsx)(Oe,{})}),(0,d.jsx)(i.AW,{path:"report",element:(0,d.jsx)(xe,{})}),(0,d.jsx)(i.AW,{path:"report/:entityId",element:(0,d.jsx)(Oe,{})}),(0,d.jsx)(i.AW,{path:"settings",element:(0,d.jsx)(Ve,{})}),(0,d.jsx)(i.AW,{path:"settings/:entityId",element:(0,d.jsx)(mt,{})})]})})})};(ht=r.memo(ht)).defaultProps={};var Zt=ht}}]);
//# sourceMappingURL=640.6519129a.chunk.js.map