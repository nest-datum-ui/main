"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[419],{2481:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(1413),i=n(4165),a=n(5861),s=n(5987),o=n(2791),l=n(6030),c=n(393),d=n(7054),u=n(3960),h=n(708),x=n(9571),p=n(1091),Z=n(872),m=n(9923),f=n(184),j=["id","storeName","withAccessToken","url","path"],v=function(e){var t=e.id,n=e.storeName,v=e.withAccessToken,y=e.url,g=e.path,b=(0,s.Z)(e,j),k=(0,c.Ds)().enqueueSnackbar,C=(0,l.v9)((0,h.Z)(["dialog",t,"entityId"])),w=(0,l.v9)((0,h.Z)(["api","form",n,"loader"])),D=(0,l.v9)((0,h.Z)(["api","list",n,"loader"])),A=o.useCallback(function(){var e=(0,a.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.R)({entityId:C,storeName:n,withAccessToken:v,url:y,path:g})(k);case 2:return e.next=4,(0,u.Q)(t)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,v,y,g,C,k]),N=!0===w||!0===D;return(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(m.Z,(0,r.Z)((0,r.Z)({},b),{},{loader:N,maxWidth:"xs",id:t,title:"Delete status?",actions:(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(p.Z,{disabled:N,disableElevation:!0,variant:"contained",startIcon:(0,f.jsx)(Z.Z,{}),onClick:A,children:"OK"})}),children:(0,f.jsx)(x.Z,{children:"Are you sure you want to delete the current status? This operation is irreversible and may compromise data integrity."})}))})};(v=o.memo(v)).defaultProps={id:"statusDrop"};var y=v},2830:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(1413),i=n(885),a=n(2791),s=n(7689),o=n(2772),l=n(6601),c=n(6015),d=n(5953),u=n(1091),h=n(4565),x=n(9823),p=n(2885),Z=n(1131),m=n(9776),f=n(1419),j=n(4096),v=n(184),y=function(e){var t=e.storeName,n=(0,s.s0)(),y=(0,s.TH)(),g=a.useState((function(){return!1})),b=(0,i.Z)(g,2),k=b[0],C=b[1],w=a.useMemo((function(){return(0,l.Z)("filter",y.search,!0)}),[y]),D=a.useMemo((function(){return(0,l.Z)("query",window.location.search)}),[]),A=a.useCallback((function(e){if(e!==((0,l.Z)("query",window.location.search)||"")){(0,o.P)(t,"loader",!0)();var r="",i=(0,l.Z)("sort",window.location.search,!0);e.length>0&&(r="?query=".concat(e)),i&&"object"===typeof i&&Object.keys(i).length>0&&(r+=r?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),n(r)}}),[n,t]),N=a.useCallback((function(e){C((function(e){return!e}))}),[C]),S=a.useCallback((function(e){(0,o.P)(t,"loader",!0)();var r="",i=(0,l.Z)("query",window.location.search)||"",a=(0,l.Z)("sort",window.location.search,!0);i.length>0&&(r="?query=".concat(i)),a&&"object"===typeof a&&Object.keys(a).length>0&&(r+=r?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),n(r)}),[n,t]);return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(m.Z,{onSearch:A,defaultValue:D}),(0,v.jsxs)(d.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[k&&"object"===typeof w&&Object.keys(w).length>0?(0,v.jsx)(d.ZP,{item:!0,xs:!1,children:(0,v.jsx)(u.Z,{disableElevation:!0,color:"error",startIcon:(0,v.jsx)(x.Z,{}),onClick:S,children:"Clear"})}):(0,v.jsx)(a.Fragment,{}),(0,v.jsx)(d.ZP,{item:!0,xs:!1,children:(0,v.jsxs)(u.Z,{disableElevation:!0,color:"primary",onClick:N,startIcon:(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(p.Z,{sx:{display:k?"block":"none"}}),(0,v.jsx)(Z.Z,{sx:{display:k?"none":"block"}})]}),children:[(0,v.jsx)(h.Z,{sx:{display:k?"block":"none"},children:"Collapse"}),(0,v.jsx)(h.Z,{sx:{display:k?"none":"block"},children:"Filters"})]})})]}),(0,v.jsx)(c.Z,{pb:k?2:0,sx:(0,r.Z)({position:"relative",overflow:"hidden"},k?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,v.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,v.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,v.jsx)(f.Z,{storeName:t})}),(0,v.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,v.jsx)(j.Z,{storeName:t})})]})})]})};(y=a.memo(y)).defaultProps={};var g=y},2714:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(2791),i=n(6030),a=n(7689),s=n(393),o=n(2619),l=n(5308),c=n(9154),d=n(2399),u=n(708),h=n(6015),x=n(5953),p=n(1091),Z=n(3329),m=n(7247),f=n(9698),j=n(43),v=n(1251),y=n(4165),g=n(5861),b=n(4047),k=n(2674),C=n(7753),w=n(3158),D=n(4188),A=n(7064),N=function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i,a,s,l,c,d,u,h,x,p,Z,m;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,r=t.url,i=t.path,a=t.withAccessToken,s=void 0!==a&&a,l=t.enqueueSnackbar,c=t.navigate,e.prev=1,e.next=4,(0,o.F)(n,"loader",!0)();case 4:if(d=(0,C.Z)().getState().api.form[n],u=d.id,h=d.name,x=d.description,p=d.isNotDelete,Z={},(0,w.Z)(u,!0)||(Z.id="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,w.Z)(h)?(0,D.Z)(h)||(Z.name="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c."):Z.name="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435.",(0,w.Z)(x,!0)||(Z.description="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,A.Z)(p,!0)||(Z.isNotDelete="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),!(Object.keys(Z).length>0)){e.next=16;break}return e.next=13,(0,o.F)(n,"errors",Z)();case 13:return e.next=15,(0,o.F)(n,"loader",!1)();case 15:throw new Error("\u041f\u0440\u043e\u0432\u0435\u0440\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u044b.");case 16:"0"===n?(0,b.Y)({entityId:n,url:r,path:i,withAccessToken:s})(l,c):(0,k.L)({entityId:n,url:r,path:i,withAccessToken:s})(l),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),m=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,l(m,{variant:"error"});case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),S=N,F=n(184),I=function(e){var t=e.withAccessToken,n=e.url,y=e.path,g=(0,s.Ds)().enqueueSnackbar,b=(0,a.UO)().entityId,k=(0,a.s0)(),C=(0,i.v9)((0,u.Z)(["api","form",b,"loader"])),w=(0,i.v9)((0,u.Z)(["api","form",b,"id"])),D=(0,i.v9)((0,u.Z)(["api","form",b,"name"])),A=(0,i.v9)((0,u.Z)(["api","form",b,"description"])),N=(0,i.v9)((0,u.Z)(["api","form",b,"isNotDelete"])),I=(0,i.v9)((0,u.Z)(["api","form",b,"isDeleted"])),P=(0,i.v9)((0,u.Z)(["api","form",b,"errors","id"])),T=(0,i.v9)((0,u.Z)(["api","form",b,"errors","name"])),q=(0,i.v9)((0,u.Z)(["api","form",b,"errors","description"])),E=(0,i.v9)((0,u.Z)(["api","form",b,"errors","isNotDelete"])),O=r.useCallback((function(e){e.preventDefault(),S({entityId:b,url:n,path:y,withAccessToken:t,enqueueSnackbar:g,navigate:k})}),[n,y,t,b,g,k]),M=r.useCallback((function(e){(0,o.F)(b,"id",e.target.value)()}),[b]),U=r.useCallback((function(e){(0,o.F)(b,"name",e.target.value)()}),[b]),J=r.useCallback((function(e){(0,o.F)(b,"description",e.target.value)()}),[b]),H=r.useCallback((function(e,t){(0,o.F)(b,"isNotDelete",t)()}),[b]),V=r.useCallback((function(e){(0,d.n)("statusDrop",{entityId:b})()}),[b]);return r.useEffect((function(){b&&"0"!==b&&n&&(0,l.y)({entityId:b,url:n,path:y,withAccessToken:t})(g,k)}),[n,y,t,b,g,k]),r.useEffect((function(){return function(){(0,c.z)(b)()}}),[b]),(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)(v.Z,{visible:"undefined"===typeof C}),(0,F.jsxs)("form",{onSubmit:O,style:{display:"undefined"===typeof C?"none":"initial"},children:[(0,F.jsx)(h.Z,{py:2,children:(0,F.jsx)(f.default,{disabled:C,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:w||"",onChange:M,error:P})}),(0,F.jsx)(h.Z,{py:2,children:(0,F.jsx)(f.default,{disabled:C,required:!0,name:"name",label:"Name",placeholder:"For example: Test status",value:D||"",onChange:U,error:T})}),(0,F.jsx)(h.Z,{py:2,children:(0,F.jsx)(f.default,{disabled:C,multiline:!0,rows:3,name:"description",label:"Description",value:A||"",onChange:J,error:q})}),(0,F.jsx)(h.Z,{py:2,children:(0,F.jsx)(j.default,{disabled:C,name:"isNotDelete",label:"Make entry undeletable",value:!!N,onChange:H,error:E})}),(0,F.jsxs)(x.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,F.jsx)(x.ZP,{item:!0,xs:!1,children:(0,F.jsx)(p.Z,{disableElevation:!0,disabled:C,type:"submit",variant:"contained",color:"secondary",startIcon:C?(0,F.jsx)(v.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,F.jsx)(Z.Z,{}),children:"Save"})}),!N&&b&&"string"===typeof b&&"0"!==b?(0,F.jsx)(x.ZP,{item:!0,xs:!1,children:(0,F.jsx)(p.Z,{disableElevation:!0,disabled:C,variant:"contained",color:"error",startIcon:(0,F.jsx)(m.Z,{}),onClick:V,children:I?"Delete permanently":"Delete"})}):(0,F.jsx)(r.Fragment,{})]})]})]})};(I=r.memo(I)).defaultProps={};var P=I},6376:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(1413),i=n(2982),a=n(885),s=n(5987),o=n(2791),l=n(5702),c=n(7232),d=n(184),u=["name","children","value","defaultValue","onChange"],h=function(e){var t=e.name,n=e.children,h=e.value,x=e.defaultValue,p=e.onChange,Z=(0,s.Z)(e,u),m=o.useState((function(){return Array.isArray(h)?h:Array.isArray(x)?x:[]})),f=(0,a.Z)(m,2),j=f[0],v=f[1],y=(h||[]).length,g=(j||[]).length,b=o.useCallback((function(e,t){v((function(n){var r=(n=Array.isArray(n)?n:[]).findIndex((function(e){return e.value===t.props.value}));return r>=0?n.splice(r,1):n.push({value:t.props.value,text:t.props.children}),p(e,(0,i.Z)(n)),n}))}),[v,p]);return o.useEffect((function(){Array.isArray(h)&&y!==g&&Array.isArray(n)&&n.length>0&&v(h)}),[h,y,g,n]),(0,d.jsx)(o.Fragment,{children:(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)((0,r.Z)({multiple:!0,size:"small",onChange:b,name:t,renderValue:function(){return j.map((function(e,t){return(0,d.jsxs)(o.Fragment,{children:[e.text,j.length-1>t?",":""]},e.value)}))},shrink:j.length>0},h?{value:j}:x?{defaultValue:j}:{defaultValue:[]}),Z),{},{children:n&&Array.isArray(n)?n.map((function(e,t){var n=j.findIndex((function(t){return t.value===e.id}));return(0,d.jsx)(l.Z,{value:e.id,sx:{backgroundColor:n>=0?"#EFEFEF":"inherit"},children:e.name},e.id)})):[]}))})};(h=o.memo(h)).defaultProps={onChange:function(){}};var x=h},5789:function(e,t,n){n.d(t,{Z:function(){return z}});var r=n(1413),i=n(2791),a=n(6030),s=n(7689),o=n(393),l=n(6386),c=n(4307),d=n(2772),u=n(2606),h=n(4432),x=n(708),p=n(6601),Z=n(6015),m=n(9827),f=n(9773),j=n(807),v=n(4390),y=n(4565),g=n(3811),b=n(2898),k=n(1251),C=n(1713),w=n(5987),D=n(1895),A=n(2399),N=n(9320),S=n(5702),F=n(5514),I=n(4346),P=n(7247),T=n(1286),q=n(6120),E=n(3939),O=n(6153),M=n(184),U=["storeName","entityId","url","path","withAccessToken","isDeleted","isNotDelete"],J=function(e){var t=e.storeName,n=e.entityId,a=e.url,s=e.path,l=e.withAccessToken,c=e.isDeleted,d=e.isNotDelete,u=(0,w.Z)(e,U),h=(0,o.Ds)().enqueueSnackbar,x=i.useCallback((function(e){(0,D.Q)()()}),[]),p=i.useCallback((function(e){(0,A.n)("statusDrop",{entityId:n})(),(0,D.Q)()()}),[n]),Z=i.useCallback((function(e){(0,N.U)({storeName:t,entityId:n,url:a,path:s,withAccessToken:l})(h),(0,D.Q)()()}),[t,n,a,s,l,h]);return(0,M.jsx)(i.Fragment,{children:(0,M.jsxs)(O.Z,(0,r.Z)((0,r.Z)({},u),{},{children:[(0,M.jsxs)(S.Z,{component:C.Z,to:n,onClick:x,children:[(0,M.jsx)(F.Z,{children:(0,M.jsx)(T.Z,{})}),(0,M.jsx)(I.Z,{children:"Edit"})]}),(0,M.jsxs)(S.Z,{disabled:!0,children:[(0,M.jsx)(F.Z,{children:(0,M.jsx)(q.Z,{})}),(0,M.jsx)(I.Z,{children:"Copy"})]}),c&&(0,M.jsxs)(S.Z,{onClick:Z,children:[(0,M.jsx)(F.Z,{children:(0,M.jsx)(E.Z,{})}),(0,M.jsx)(I.Z,{children:"Restore"})]}),!d&&(0,M.jsxs)(S.Z,{onClick:p,children:[(0,M.jsx)(F.Z,{children:(0,M.jsx)(P.Z,{color:c?"error":"inherit"})}),(0,M.jsx)(I.Z,{children:c?"Delete permanently":"Delete"})]})]}))})};(J=i.memo(J)).defaultProps={};var H=J,V=n(4486),L=n(3343),R=n(9042),W=function(e){var t,n,w,D=e.withAccessToken,A=e.storeName,N=e.url,S=e.path,F=(0,o.Ds)().enqueueSnackbar,I=(0,s.TH)(),P=(0,s.s0)(),T=(0,a.v9)((0,x.Z)(["loader","unmount","visible"])),q=(0,a.v9)((0,x.Z)(["api","list",A,"loader"])),E=null!==(t=(0,a.v9)((0,x.Z)(["api","list",A,"total"])))&&void 0!==t?t:0,O=null!==(n=(0,a.v9)((0,x.Z)(["api","list",A,"page"])))&&void 0!==n?n:1,U=null!==(w=(0,a.v9)((0,x.Z)(["api","list",A,"limit"])))&&void 0!==w?w:20,J=(0,a.v9)((0,x.Z)(["api","list",A,"data"])),W=(0,p.Z)("query",I.search),z=(0,p.Z)("select",I.search),Q=(0,p.Z)("filter",I.search),K=(0,p.Z)("sort",I.search),B=i.useCallback((function(e,t){(0,d.P)(A,"loader",!0)(),(0,d.P)(A,"page",t)()}),[A]),Y=i.useCallback((function(e){(0,d.P)(A,"loader",!0)(),(0,d.P)(A,"limit",e.target.value)()}),[A]),G=i.useCallback((function(e){return function(t){(0,h.n)("menu-statuses-context-".concat(e),t.target)()}}),[]),X=i.useCallback((function(e){(0,d.P)("ssoUserList","loader",!0)(),P((0,L.z)("id",e))}),[P]),$=i.useCallback((function(e){(0,d.P)("ssoUserList","loader",!0)(),P((0,L.z)("createdAt",e))}),[P]);return i.useEffect((function(){!T&&N&&(0,c.i)((0,r.Z)((0,r.Z)((0,r.Z)({id:A,url:N,path:S,withAccessToken:D,page:O,limit:U,query:W},z?{select:JSON.parse(decodeURI(z))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),K?{sort:JSON.parse(decodeURI(K))}:{}))(F)}),[T,F,O,U,W,z,Q,K,A,N,S,D]),i.useEffect((function(){return function(){(0,u.K)(A)()}}),[A]),(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(k.Z,{visible:!Array.isArray(J)||T}),Array.isArray(J)&&!T?J.length>0?(0,M.jsxs)(V.Z,{withChangeLimit:!0,total:E,page:O,limit:U,length:J.length,onChange:B,onLimit:Y,children:[(0,M.jsx)(m.Z,{children:(0,M.jsxs)(j.Z,{children:[(0,M.jsx)(L.Z,{name:"id",onChange:X,children:(0,M.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,M.jsx)(v.Z,{children:(0,M.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})}),(0,M.jsx)(L.Z,{name:"createdAt",onChange:$,children:(0,M.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),q?(0,M.jsxs)("tbody",{children:[(0,M.jsx)("tr",{children:(0,M.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,M.jsx)(k.Z,{visible:!0})})}),(0,M.jsx)("tr",{children:(0,M.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,M.jsx)(f.Z,{children:J.map((function(e,t){return(0,M.jsxs)(j.Z,{children:[(0,M.jsx)(v.Z,{sx:{minWidth:"33%"},children:(0,M.jsx)(y.Z,{component:C.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.id})}),(0,M.jsxs)(v.Z,{sx:{minWidth:"33%"},children:[(0,M.jsx)(y.Z,{component:C.Z,to:e.id,variant:"h6",color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.name}),(0,M.jsx)(y.Z,{component:"div",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.description})]}),(0,M.jsxs)(v.Z,{sx:{width:"33%"},children:[(0,R.Z)(e.createdAt)?(0,M.jsxs)(Z.Z,{pb:1,children:[(0,M.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,M.jsx)(y.Z,{component:"div",children:(0,M.jsx)("b",{children:(0,l.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,M.jsx)(i.Fragment,{}),(0,R.Z)(e.updatedAt)?(0,M.jsxs)(Z.Z,{children:[(0,M.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Updated at:"}),(0,M.jsx)(y.Z,{component:"div",children:(0,M.jsx)("b",{children:(0,l.Z)(new Date(e.updatedAt),"dd MMMM, hh:mm")})})]}):(0,M.jsx)(i.Fragment,{})]}),(0,M.jsxs)(v.Z,{sx:{width:"1%"},children:[(0,M.jsx)(g.Z,{onClick:G(e.id),children:(0,M.jsx)(b.Z,{})}),(0,M.jsx)(H,{id:"menu-statuses-context-".concat(e.id),entityId:e.id,withAccessToken:D,storeName:A,url:N,path:S,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,M.jsx)(Z.Z,{py:6,display:"flex",justifyContent:"center",children:(0,M.jsx)(y.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,M.jsx)(i.Fragment,{})]})};(W=i.memo(W)).defaultProps={};var z=W}}]);
//# sourceMappingURL=419.96b9ad62.chunk.js.map