"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[847,948],{8847:function(e,t,n){n.r(t),n.d(t,{default:function(){return $t}});var r=n(2791),i=n(7689),a=n(6015),o=n(1413),s=n(885),l=n(142),c=n(166),d=n(1713),h=n(184),u=function(){var e=(0,i.TH)().pathname,t=e.substring(1),n=[0===t.indexOf("logs/err"),0===t.indexOf("logs/warning"),0===t.indexOf("logs/notification"),0===t.indexOf("logs/traffic"),0===t.indexOf("logs/settings")],a=r.useState((function(){return"/logs"===e?0:n.indexOf(!0)})),u=(0,s.Z)(a,2),x=u[0],p=u[1],m=r.useCallback((function(e,t){p(t)}),[p]);return r.useEffect((function(){"/logs"===e&&p(0)}),[e,p]),(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(l.Z,{variant:"scrollable",value:x>=0?x:0,onChange:m,children:[(0,h.jsx)(c.Z,(0,o.Z)({label:"Errors"},0===t.indexOf("logs/err")||"/logs"===e?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:d.Z,to:"err",sx:{textTransform:"initial"}})),(0,h.jsx)(c.Z,(0,o.Z)({label:"Warnings"},0===t.indexOf("logs/warning")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:d.Z,to:"warning",sx:{textTransform:"initial"}})),(0,h.jsx)(c.Z,(0,o.Z)({label:"Notifications"},0===t.indexOf("logs/notification")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:d.Z,to:"notification",sx:{textTransform:"initial"}})),(0,h.jsx)(c.Z,(0,o.Z)({label:"Traffic"},0===t.indexOf("logs/traffic")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:d.Z,to:"traffic",sx:{textTransform:"initial"}})),(0,h.jsx)(c.Z,(0,o.Z)({label:"Settings"},0===t.indexOf("logs/settings")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:d.Z,to:"settings",sx:{textTransform:"initial"}}))]})})};(u=r.memo(u)).defaultProps={};var x=u,p=function(e){e.children;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{pr:2,children:(0,h.jsx)(x,{})}),(0,h.jsx)(i.j3,{})]})};(p=r.memo(p)).defaultProps={};var m=p,f=n(148),Z=n(4565),j=n(1091),g=n(2419),v=n(2772),y=n(6601),b=n(9776),k=function(){var e=(0,i.s0)(),t=(0,i.TH)(),n=r.useMemo((function(){return(0,y.Z)("filter",t.search,!0)}),[t]),a=r.useMemo((function(){return(0,y.Z)("query",window.location.search)}),[]),o=r.useCallback((function(t){if(t!==((0,y.Z)("query",window.location.search)||"")){(0,v.P)("logsErrList","loader",!0)();var r="",i=(0,y.Z)("sort",window.location.search,!0);t.length>0&&(r="?query=".concat(t)),n&&"object"===typeof n&&Object.keys(n).length>0&&(r+=r?"&filter=".concat(JSON.stringify(n)):"?filter=".concat(JSON.stringify(n))),i&&"object"===typeof i&&Object.keys(i).length>0&&(r+=r?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(r)}}),[e,n]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(b.Z,{onSearch:o,defaultValue:a})})};(k=r.memo(k)).defaultProps={};var C=k,w=n(6030),I=n(393),D=n(6386),S=n(4307),F=n(2606),N=n(4432),T=n(708),A=n(9827),q=n(9773),P=n(807),E=n(4390),O=n(3811),W=n(2898),L=n(1251),U=n(4486),M=n(3343),J=n(5987),H=n(1895),R=n(2399),Q=n(9320),z=n(5702),K=n(5514),B=n(4346),V=n(7247),Y=n(1286),G=n(3939),X=n(6153),$=["entityId","isDeleted","isNotDelete"],_=function(e){var t=e.entityId,n=e.isDeleted,i=e.isNotDelete,a=(0,J.Z)(e,$),s=(0,I.Ds)().enqueueSnackbar,l=r.useCallback((function(e){(0,H.Q)()()}),[]),c=r.useCallback((function(e){(0,R.n)("logsErrDrop",{entityId:t})(),(0,H.Q)()()}),[t]),u=r.useCallback((function(e){(0,Q.U)({storeName:"logsErrList",entityId:t,url:"https://api.cidiator.com/logs",path:"err",withAccessToken:!0})(s),(0,H.Q)()()}),[t,s]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(X.Z,(0,o.Z)((0,o.Z)({},a),{},{children:[(0,h.jsxs)(z.Z,{component:d.Z,to:t,onClick:l,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(Y.Z,{})}),(0,h.jsx)(B.Z,{children:"Edit"})]}),n&&(0,h.jsxs)(z.Z,{onClick:u,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(B.Z,{children:"Restore"})]}),!i&&(0,h.jsxs)(z.Z,{onClick:c,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(V.Z,{color:n?"error":"inherit"})}),(0,h.jsx)(B.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(_=r.memo(_)).defaultProps={};var ee=_,te=function(e){var t,n,s,l=e.withAccessToken,c=e.storeName,u=e.url,x=e.path,p=(0,I.Ds)().enqueueSnackbar,m=(0,i.TH)(),f=(0,i.s0)(),j=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),g=(0,w.v9)((0,T.Z)(["api","list",c,"loader"])),b=null!==(t=(0,w.v9)((0,T.Z)(["api","list",c,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,w.v9)((0,T.Z)(["api","list",c,"page"])))&&void 0!==n?n:1,C=null!==(s=(0,w.v9)((0,T.Z)(["api","list",c,"limit"])))&&void 0!==s?s:20,J=(0,w.v9)((0,T.Z)(["api","list",c,"data"])),H=(0,y.Z)("query",m.search),R=(0,y.Z)("select",m.search),Q=(0,y.Z)("filter",m.search),z=(0,y.Z)("sort",m.search),K=r.useCallback((function(e,t){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"page",t)()}),[c]),B=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"limit",e.target.value)()}),[c]),V=r.useCallback((function(e){return function(t){(0,N.n)("logs-menu-err-context-".concat(e),t.target)()}}),[]),Y=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("id",e))}),[f,c]),G=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("createdAt",e))}),[f,c]);return r.useEffect((function(){j||(0,S.i)((0,o.Z)((0,o.Z)((0,o.Z)({id:c,url:u,path:x,withAccessToken:l,page:k,limit:C,query:H},R?{select:JSON.parse(decodeURI(R))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),z?{sort:JSON.parse(decodeURI(z))}:{}))(p)}),[c,l,u,x,j,k,C,H,R,Q,z,p]),r.useEffect((function(){return function(){(0,F.K)(c)()}}),[c]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:!Array.isArray(J)}),Array.isArray(J)?J.length>0?(0,h.jsxs)(U.Z,{withChangeLimit:!0,total:b,page:k,limit:C,length:J.length,onChange:K,onLimit:B,children:[(0,h.jsx)(A.Z,{children:(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(M.Z,{name:"id",onChange:Y,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Host"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Source"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Content"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,h.jsx)(M.Z,{name:"createdAt",onChange:G,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),g||j?(0,h.jsxs)("tbody",{children:[(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,h.jsx)(L.Z,{visible:!0})})}),(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,h.jsx)(q.Z,{children:J.map((function(e,t){return(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(E.Z,{sx:{minWidth:"15%"},children:(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,h.jsxs)(E.Z,{sx:{minWidth:"16%"},children:[(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.replica}),(0,h.jsx)("div",{}),(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.servId})]}),(0,h.jsxs)(E.Z,{sx:{minWidth:"18%"},children:[(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["method: ",(0,h.jsx)("b",{children:e.method})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["file: ",(0,h.jsx)("b",{children:e.file})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["line: ",(0,h.jsx)("b",{children:Number(e.line)})]})})]}),(0,h.jsx)(E.Z,{sx:{minWidth:"22%"},children:(0,h.jsx)(Z.Z,{component:"code",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:(e.content||"").length>100?"".concat((e.content||"").substring(0,100),"..."):e.content||""})}),(0,h.jsx)(E.Z,{sx:{minWidth:"13%"},children:(0,h.jsx)(Z.Z,{component:"div",children:e.userId})}),(0,h.jsx)(E.Z,{sx:{width:"15%"},children:(0,h.jsxs)(a.Z,{pb:1,children:[(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,h.jsx)(Z.Z,{component:"div",children:(0,h.jsx)("b",{children:(0,D.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]})}),(0,h.jsxs)(E.Z,{sx:{width:"1%"},children:[(0,h.jsx)(O.Z,{onClick:V(e.id),children:(0,h.jsx)(W.Z,{})}),(0,h.jsx)(ee,{id:"logs-menu-err-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,h.jsx)(a.Z,{py:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(Z.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,h.jsx)(r.Fragment,{})]})};(te=r.memo(te)).defaultProps={withAccessToken:!0,storeName:"logsErrList",url:"https://api.cidiator.com/logs",path:"err"};var ne=te,re=n(4165),ie=n(5861),ae=n(7054),oe=n(3960),se=n(9571),le=n(872),ce=n(9923),de=["storeName","id"],he=function(e){var t=e.storeName,n=e.id,i=(0,J.Z)(e,de),a=(0,I.Ds)().enqueueSnackbar,s=(0,w.v9)((0,T.Z)(["dialog",n,"entityId"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),c=(0,w.v9)((0,T.Z)(["api","list",t,"loader"])),d=r.useCallback(function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(r){return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ae.R)({entityId:s,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/logs",path:"err"})(a);case 2:return e.next=4,(0,oe.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,s,a]),u=!0===l||!0===c;return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(ce.Z,(0,o.Z)((0,o.Z)({},i),{},{loader:u,maxWidth:"xs",id:n,title:"Delete error?",actions:(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(j.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,h.jsx)(le.Z,{}),onClick:d,children:"OK"})}),children:(0,h.jsx)(se.Z,{children:"Are you sure you want to delete the current error? This operation is irreversible and may compromise data integrity."})}))})};(he=r.memo(he)).defaultProps={id:"logsErrDrop"};var ue=he,xe=function(){return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/err",text:"Errors"}])()}),[]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"Errors list"})}),(0,h.jsx)(a.Z,{pb:2,children:(0,h.jsx)(j.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,h.jsx)(g.Z,{}),component:d.Z,to:"/logs/err/0",children:"Create"})}),(0,h.jsx)(C,{}),(0,h.jsx)(ne,{storeName:"logsErrList"}),(0,h.jsx)(ue,{storeName:"logsErrList"})]})};(xe=r.memo(xe)).defaultProps={};var pe=xe,me=n(2619),fe=n(5308),Ze=n(9154),je=n(5953),ge=n(3329),ve=n(9698),ye=n(3259),be=n(3894),ke=function(e){},Ce=["onInput"],we=function(e){var t=e.onInput,n=(0,J.Z)(e,Ce),i=(0,w.v9)((0,ye.Z)(["api","list","dataTypeList","data"],(function(e){return"url"===e.id}))),a=(i||{}).label,s=(i||{}).placeholder,l=r.useCallback((function(e){ke(e),t(e)}),[t]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(be.Z,(0,o.Z)((0,o.Z)({label:a,placeholder:s,onInput:l},n),{},{type:"text"}))})};(we=r.memo(we)).defaultProps={onInput:function(){}};var Ie=we,De=n(4948),Se=n(4047),Fe=n(2674),Ne=n(7753),Te=n(3158),Ae=n(3606),qe=n(4188),Pe=function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,d,h,u,x,p;return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,r=t.enqueueSnackbar,i=t.navigate,e.prev=1,e.next=4,(0,me.F)(n,"loader",!0)();case 4:if(a=(0,Ne.Z)().getState().api.form[n],o=a.id,s=a.servId,l=a.replica,c=a.method,d=a.file,h=a.line,u=a.content,x={},(0,Te.Z)(o,!0)||(x.id="The value is in the wrong format."),(0,Te.Z)(s)?(0,qe.Z)(s)||(x.servId="Cannot be empty."):x.servId="The value is in the wrong format.",(0,Te.Z)(l)?(0,qe.Z)(l)||(x.replica="Cannot be empty."):x.replica="The value is in the wrong format.",(0,Te.Z)(c)?(0,qe.Z)(c)||(x.method="Cannot be empty."):x.method="The value is in the wrong format.",(0,Te.Z)(d)?(0,qe.Z)(d)||(x.file="Cannot be empty."):x.file="The value is in the wrong format.",(0,Ae.Z)(h,!0)?(0,qe.Z)(h)||(x.line="Cannot be empty."):x.line="The value is in the wrong format.",(0,Te.Z)(u)?(0,qe.Z)(u)||(x.content="Cannot be empty."):x.content="The value is in the wrong format.",!(Object.keys(x).length>0)){e.next=19;break}return e.next=16,(0,me.F)(n,"errors",x)();case 16:return e.next=18,(0,me.F)(n,"loader",!1)();case 18:throw new Error("Check that the form is filled out correctly.");case 19:"0"===n?(0,Se.Y)({entityId:n,url:"https://api.cidiator.com/logs",path:"err",withAccessToken:!0})(r,i):(0,Fe.L)({entityId:n,url:"https://api.cidiator.com/logs",path:"err",withAccessToken:!0})(r),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),p=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,r(p,{variant:"error"});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),Ee=Pe,Oe=function(){var e=(0,I.Ds)().enqueueSnackbar,t=(0,i.UO)().entityId,n=(0,i.s0)(),o=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),s=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"id"])),c=(0,w.v9)((0,T.Z)(["api","form",t,"servId"])),d=(0,w.v9)((0,T.Z)(["api","form",t,"replica"])),u=(0,w.v9)((0,T.Z)(["api","form",t,"method"])),x=(0,w.v9)((0,T.Z)(["api","form",t,"content"])),p=(0,w.v9)((0,T.Z)(["api","form",t,"file"])),m=(0,w.v9)((0,T.Z)(["api","form",t,"line"])),f=(0,w.v9)((0,T.Z)(["api","form",t,"errors","id"])),Z=(0,w.v9)((0,T.Z)(["api","form",t,"errors","servId"])),g=(0,w.v9)((0,T.Z)(["api","form",t,"errors","replica"])),v=(0,w.v9)((0,T.Z)(["api","form",t,"errors","method"])),y=(0,w.v9)((0,T.Z)(["api","form",t,"errors","content"])),b=(0,w.v9)((0,T.Z)(["api","form",t,"errors","file"])),k=(0,w.v9)((0,T.Z)(["api","form",t,"errors","line"])),C=r.useCallback((function(r){r.preventDefault(),Ee({gateway:"https://api.cidiator.com/logs",entityId:t,path:"err",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),D=r.useCallback((function(e){(0,me.F)(t,"id",e.target.value)()}),[t]),S=r.useCallback((function(e){(0,me.F)(t,"servId",e.target.value)()}),[t]),F=r.useCallback((function(e){(0,me.F)(t,"replica",e.target.value)()}),[t]),N=r.useCallback((function(e){(0,me.F)(t,"method",e.target.value)()}),[t]),A=r.useCallback((function(e){(0,me.F)(t,"content",e.target.value)()}),[t]),q=r.useCallback((function(e){(0,me.F)(t,"file",e.target.value)()}),[t]),P=r.useCallback((function(e){(0,me.F)(t,"line",e.target.value)()}),[t]),E=r.useCallback((function(e){(0,R.n)("logsErrDrop",{entityId:t})()}),[t]);return r.useEffect((function(){!o&&t&&"0"!==t&&(0,fe.y)({entityId:t,url:"https://api.cidiator.com/logs",path:"err",withAccessToken:!0})(e,n)}),[o,t,e,n]),r.useEffect((function(){return function(){(0,Ze.z)(t)()}}),[t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:"undefined"===typeof s||o}),(0,h.jsxs)("form",{onSubmit:C,style:{display:"undefined"===typeof s||o?"none":"initial"},children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:l||"",onChange:D,error:f})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"servId",label:"Service id",placeholder:"For example: test1",value:c||"",onChange:S,error:Z})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Ie,{disabled:s,required:!0,name:"replica",label:"Replica",placeholder:"For example: 127.0.0.1:8000",value:d||"",onChange:F,error:g})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"method",label:"Method",placeholder:"For example: testFuncForToDoSomething",value:u||"",onChange:N,error:v})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"file",label:"File",placeholder:"For example: /home/user/app/src/entity/entity.controller.ts",value:p||"",onChange:q,error:b})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(De.default,{disabled:s,required:!0,name:"line",label:"Line",placeholder:"For example: 1",value:m||"",onChange:P,error:k})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"content",label:"Content",value:x||"",onChange:A,error:y})}),(0,h.jsxs)(je.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,type:"submit",variant:"contained",color:"secondary",startIcon:s?(0,h.jsx)(L.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,h.jsx)(ge.Z,{}),children:"Save"})}),t&&"string"===typeof t&&"0"!==t?(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,variant:"contained",color:"error",startIcon:(0,h.jsx)(V.Z,{}),onClick:E,children:"Delete"})}):(0,h.jsx)(r.Fragment,{})]})]})]})};(Oe=r.memo(Oe)).defaultProps={};var We=Oe,Le=function(){var e=(0,i.UO)().entityId,t=(0,w.v9)((0,T.Z)(["api","form",e,"isDeleted"]));return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/err",text:"Errors"},{key:"/logs/err/".concat(e),text:"0"===e?"Create new error":(0,h.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"0"===e?"Create new error":(0,h.jsxs)(r.Fragment,{children:["Edit error ",(0,h.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,h.jsx)(We,{storeName:e}),(0,h.jsx)(ue,{storeName:e})]})};(Le=r.memo(Le)).defaultProps={};var Ue=Le,Me=function(){var e=(0,i.s0)(),t=(0,i.TH)(),n=r.useMemo((function(){return(0,y.Z)("filter",t.search,!0)}),[t]),a=r.useMemo((function(){return(0,y.Z)("query",window.location.search)}),[]),o=r.useCallback((function(t){if(t!==((0,y.Z)("query",window.location.search)||"")){(0,v.P)("logsWarningList","loader",!0)();var r="",i=(0,y.Z)("sort",window.location.search,!0);t.length>0&&(r="?query=".concat(t)),n&&"object"===typeof n&&Object.keys(n).length>0&&(r+=r?"&filter=".concat(JSON.stringify(n)):"?filter=".concat(JSON.stringify(n))),i&&"object"===typeof i&&Object.keys(i).length>0&&(r+=r?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(r)}}),[e,n]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(b.Z,{onSearch:o,defaultValue:a})})};(Me=r.memo(Me)).defaultProps={};var Je=Me,He=["entityId","isDeleted","isNotDelete"],Re=function(e){var t=e.entityId,n=e.isDeleted,i=e.isNotDelete,a=(0,J.Z)(e,He),s=(0,I.Ds)().enqueueSnackbar,l=r.useCallback((function(e){(0,H.Q)()()}),[]),c=r.useCallback((function(e){(0,R.n)("logsWarningDrop",{entityId:t})(),(0,H.Q)()()}),[t]),u=r.useCallback((function(e){(0,Q.U)({storeName:"logsWarningList",entityId:t,url:"https://api.cidiator.com/logs",path:"warning",withAccessToken:!0})(s),(0,H.Q)()()}),[t,s]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(X.Z,(0,o.Z)((0,o.Z)({},a),{},{children:[(0,h.jsxs)(z.Z,{component:d.Z,to:t,onClick:l,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(Y.Z,{})}),(0,h.jsx)(B.Z,{children:"Edit"})]}),n&&(0,h.jsxs)(z.Z,{onClick:u,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(B.Z,{children:"Restore"})]}),!i&&(0,h.jsxs)(z.Z,{onClick:c,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(V.Z,{color:n?"error":"inherit"})}),(0,h.jsx)(B.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(Re=r.memo(Re)).defaultProps={};var Qe=Re,ze=function(e){var t,n,s,l=e.withAccessToken,c=e.storeName,u=e.url,x=e.path,p=(0,I.Ds)().enqueueSnackbar,m=(0,i.TH)(),f=(0,i.s0)(),j=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),g=(0,w.v9)((0,T.Z)(["api","list",c,"loader"])),b=null!==(t=(0,w.v9)((0,T.Z)(["api","list",c,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,w.v9)((0,T.Z)(["api","list",c,"page"])))&&void 0!==n?n:1,C=null!==(s=(0,w.v9)((0,T.Z)(["api","list",c,"limit"])))&&void 0!==s?s:20,J=(0,w.v9)((0,T.Z)(["api","list",c,"data"])),H=(0,y.Z)("query",m.search),R=(0,y.Z)("select",m.search),Q=(0,y.Z)("filter",m.search),z=(0,y.Z)("sort",m.search),K=r.useCallback((function(e,t){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"page",t)()}),[c]),B=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"limit",e.target.value)()}),[c]),V=r.useCallback((function(e){return function(t){(0,N.n)("logs-menu-warning-context-".concat(e),t.target)()}}),[]),Y=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("id",e))}),[f,c]),G=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("createdAt",e))}),[f,c]);return r.useEffect((function(){j||(0,S.i)((0,o.Z)((0,o.Z)((0,o.Z)({id:c,url:u,path:x,withAccessToken:l,page:k,limit:C,query:H},R?{select:JSON.parse(decodeURI(R))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),z?{sort:JSON.parse(decodeURI(z))}:{}))(p)}),[c,l,u,x,j,k,C,H,R,Q,z,p]),r.useEffect((function(){return function(){(0,F.K)(c)()}}),[c]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:!Array.isArray(J)}),Array.isArray(J)?J.length>0?(0,h.jsxs)(U.Z,{withChangeLimit:!0,total:b,page:k,limit:C,length:J.length,onChange:K,onLimit:B,children:[(0,h.jsx)(A.Z,{children:(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(M.Z,{name:"id",onChange:Y,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Host"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Source"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Content"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,h.jsx)(M.Z,{name:"createdAt",onChange:G,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),g||j?(0,h.jsxs)("tbody",{children:[(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,h.jsx)(L.Z,{visible:!0})})}),(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,h.jsx)(q.Z,{children:J.map((function(e,t){return(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(E.Z,{sx:{minWidth:"15%"},children:(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,h.jsxs)(E.Z,{sx:{minWidth:"16%"},children:[(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.replica}),(0,h.jsx)("div",{}),(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.servId})]}),(0,h.jsxs)(E.Z,{sx:{minWidth:"18%"},children:[(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["method: ",(0,h.jsx)("b",{children:e.method})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["file: ",(0,h.jsx)("b",{children:e.file})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["line: ",(0,h.jsx)("b",{children:Number(e.line)})]})})]}),(0,h.jsx)(E.Z,{sx:{minWidth:"22%"},children:(0,h.jsx)(Z.Z,{component:"code",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:(e.content||"").length>100?"".concat((e.content||"").substring(0,100),"..."):e.content||""})}),(0,h.jsx)(E.Z,{sx:{minWidth:"13%"},children:(0,h.jsx)(Z.Z,{component:"div",children:e.userId})}),(0,h.jsx)(E.Z,{sx:{width:"15%"},children:(0,h.jsxs)(a.Z,{pb:1,children:[(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,h.jsx)(Z.Z,{component:"div",children:(0,h.jsx)("b",{children:(0,D.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]})}),(0,h.jsxs)(E.Z,{sx:{width:"1%"},children:[(0,h.jsx)(O.Z,{onClick:V(e.id),children:(0,h.jsx)(W.Z,{})}),(0,h.jsx)(Qe,{id:"logs-menu-warning-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,h.jsx)(a.Z,{py:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(Z.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,h.jsx)(r.Fragment,{})]})};(ze=r.memo(ze)).defaultProps={withAccessToken:!0,storeName:"logsWarningList",url:"https://api.cidiator.com/logs",path:"warning"};var Ke=ze,Be=["storeName","id"],Ve=function(e){var t=e.storeName,n=e.id,i=(0,J.Z)(e,Be),a=(0,I.Ds)().enqueueSnackbar,s=(0,w.v9)((0,T.Z)(["dialog",n,"entityId"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),c=(0,w.v9)((0,T.Z)(["api","list",t,"loader"])),d=r.useCallback(function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(r){return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ae.R)({entityId:s,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/logs",path:"warning"})(a);case 2:return e.next=4,(0,oe.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,s,a]),u=!0===l||!0===c;return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(ce.Z,(0,o.Z)((0,o.Z)({},i),{},{loader:u,maxWidth:"xs",id:n,title:"Delete warning log?",actions:(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(j.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,h.jsx)(le.Z,{}),onClick:d,children:"OK"})}),children:(0,h.jsx)(se.Z,{children:"Are you sure you want to delete the current warning log? This operation is irreversible and may compromise data integrity."})}))})};(Ve=r.memo(Ve)).defaultProps={id:"logsWarningDrop"};var Ye=Ve,Ge=function(){return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/warning",text:"Warnings"}])()}),[]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"Warnings list"})}),(0,h.jsx)(a.Z,{pb:2,children:(0,h.jsx)(j.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,h.jsx)(g.Z,{}),component:d.Z,to:"/logs/warning/0",children:"Create"})}),(0,h.jsx)(Je,{}),(0,h.jsx)(Ke,{storeName:"logsWarningList"}),(0,h.jsx)(Ye,{storeName:"logsWarningList"})]})};(Ge=r.memo(Ge)).defaultProps={};var Xe=Ge,$e=function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,d,h,u,x,p;return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,r=t.enqueueSnackbar,i=t.navigate,e.prev=1,e.next=4,(0,me.F)(n,"loader",!0)();case 4:if(a=(0,Ne.Z)().getState().api.form[n],o=a.id,s=a.servId,l=a.replica,c=a.method,d=a.file,h=a.line,u=a.content,x={},(0,Te.Z)(o,!0)||(x.id="The value is in the wrong format."),(0,Te.Z)(s)?(0,qe.Z)(s)||(x.servId="Cannot be empty."):x.servId="The value is in the wrong format.",(0,Te.Z)(l)?(0,qe.Z)(l)||(x.replica="Cannot be empty."):x.replica="The value is in the wrong format.",(0,Te.Z)(c)?(0,qe.Z)(c)||(x.method="Cannot be empty."):x.method="The value is in the wrong format.",(0,Te.Z)(d)?(0,qe.Z)(d)||(x.file="Cannot be empty."):x.file="The value is in the wrong format.",(0,Ae.Z)(h,!0)?(0,qe.Z)(h)||(x.line="Cannot be empty."):x.line="The value is in the wrong format.",(0,Te.Z)(u)?(0,qe.Z)(u)||(x.content="Cannot be empty."):x.content="The value is in the wrong format.",!(Object.keys(x).length>0)){e.next=19;break}return e.next=16,(0,me.F)(n,"errors",x)();case 16:return e.next=18,(0,me.F)(n,"loader",!1)();case 18:throw new Error("Check that the form is filled out correctly.");case 19:"0"===n?(0,Se.Y)({entityId:n,url:"https://api.cidiator.com/logs",path:"warning",withAccessToken:!0})(r,i):(0,Fe.L)({entityId:n,url:"https://api.cidiator.com/logs",path:"warning",withAccessToken:!0})(r),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),p=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,r(p,{variant:"error"});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),_e=$e,et=function(){var e=(0,I.Ds)().enqueueSnackbar,t=(0,i.UO)().entityId,n=(0,i.s0)(),o=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),s=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"id"])),c=(0,w.v9)((0,T.Z)(["api","form",t,"servId"])),d=(0,w.v9)((0,T.Z)(["api","form",t,"replica"])),u=(0,w.v9)((0,T.Z)(["api","form",t,"method"])),x=(0,w.v9)((0,T.Z)(["api","form",t,"content"])),p=(0,w.v9)((0,T.Z)(["api","form",t,"file"])),m=(0,w.v9)((0,T.Z)(["api","form",t,"line"])),f=(0,w.v9)((0,T.Z)(["api","form",t,"errors","id"])),Z=(0,w.v9)((0,T.Z)(["api","form",t,"errors","servId"])),g=(0,w.v9)((0,T.Z)(["api","form",t,"errors","replica"])),v=(0,w.v9)((0,T.Z)(["api","form",t,"errors","method"])),y=(0,w.v9)((0,T.Z)(["api","form",t,"errors","content"])),b=(0,w.v9)((0,T.Z)(["api","form",t,"errors","file"])),k=(0,w.v9)((0,T.Z)(["api","form",t,"errors","line"])),C=r.useCallback((function(r){r.preventDefault(),_e({gateway:"https://api.cidiator.com/logs",entityId:t,path:"warning",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),D=r.useCallback((function(e){(0,me.F)(t,"id",e.target.value)()}),[t]),S=r.useCallback((function(e){(0,me.F)(t,"servId",e.target.value)()}),[t]),F=r.useCallback((function(e){(0,me.F)(t,"replica",e.target.value)()}),[t]),N=r.useCallback((function(e){(0,me.F)(t,"method",e.target.value)()}),[t]),A=r.useCallback((function(e){(0,me.F)(t,"content",e.target.value)()}),[t]),q=r.useCallback((function(e){(0,me.F)(t,"file",e.target.value)()}),[t]),P=r.useCallback((function(e){(0,me.F)(t,"line",e.target.value)()}),[t]),E=r.useCallback((function(e){(0,R.n)("logsWarningDrop",{entityId:t})()}),[t]);return r.useEffect((function(){!o&&t&&"0"!==t&&(0,fe.y)({entityId:t,url:"https://api.cidiator.com/logs",path:"warning",withAccessToken:!0})(e,n)}),[o,t,e,n]),r.useEffect((function(){return function(){(0,Ze.z)(t)()}}),[t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:"undefined"===typeof s||o}),(0,h.jsxs)("form",{onSubmit:C,style:{display:"undefined"===typeof s||o?"none":"initial"},children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:l||"",onChange:D,error:f})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"servId",label:"Service id",placeholder:"For example: test1",value:c||"",onChange:S,error:Z})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Ie,{disabled:s,required:!0,name:"replica",label:"Replica",placeholder:"For example: 127.0.0.1:8000",value:d||"",onChange:F,error:g})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"method",label:"Method",placeholder:"For example: testFuncForToDoSomething",value:u||"",onChange:N,error:v})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"file",label:"File",placeholder:"For example: /home/user/app/src/entity/entity.controller.ts",value:p||"",onChange:q,error:b})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(De.default,{disabled:s,required:!0,name:"line",label:"Line",placeholder:"For example: 1",value:m||"",onChange:P,error:k})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"content",label:"Content",value:x||"",onChange:A,error:y})}),(0,h.jsxs)(je.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,type:"submit",variant:"contained",color:"secondary",startIcon:s?(0,h.jsx)(L.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,h.jsx)(ge.Z,{}),children:"Save"})}),t&&"string"===typeof t&&"0"!==t?(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,variant:"contained",color:"error",startIcon:(0,h.jsx)(V.Z,{}),onClick:E,children:"Delete"})}):(0,h.jsx)(r.Fragment,{})]})]})]})};(et=r.memo(et)).defaultProps={};var tt=et,nt=function(){var e=(0,i.UO)().entityId,t=(0,w.v9)((0,T.Z)(["api","form",e,"isDeleted"]));return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/warning",text:"Warnings"},{key:"/logs/warning/".concat(e),text:"0"===e?"Create new warning log":(0,h.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"0"===e?"Create new warning log":(0,h.jsxs)(r.Fragment,{children:["Edit warning log ",(0,h.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,h.jsx)(tt,{storeName:e}),(0,h.jsx)(Ye,{storeName:e})]})};(nt=r.memo(nt)).defaultProps={};var rt=nt,it=function(){var e=(0,i.s0)(),t=(0,i.TH)(),n=r.useMemo((function(){return(0,y.Z)("filter",t.search,!0)}),[t]),a=r.useMemo((function(){return(0,y.Z)("query",window.location.search)}),[]),o=r.useCallback((function(t){if(t!==((0,y.Z)("query",window.location.search)||"")){(0,v.P)("logsWarningList","loader",!0)();var r="",i=(0,y.Z)("sort",window.location.search,!0);t.length>0&&(r="?query=".concat(t)),n&&"object"===typeof n&&Object.keys(n).length>0&&(r+=r?"&filter=".concat(JSON.stringify(n)):"?filter=".concat(JSON.stringify(n))),i&&"object"===typeof i&&Object.keys(i).length>0&&(r+=r?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(r)}}),[e,n]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(b.Z,{onSearch:o,defaultValue:a})})};(it=r.memo(it)).defaultProps={};var at=it,ot=["entityId","isDeleted","isNotDelete"],st=function(e){var t=e.entityId,n=e.isDeleted,i=e.isNotDelete,a=(0,J.Z)(e,ot),s=(0,I.Ds)().enqueueSnackbar,l=r.useCallback((function(e){(0,H.Q)()()}),[]),c=r.useCallback((function(e){(0,R.n)("logsNotificationDrop",{entityId:t})(),(0,H.Q)()()}),[t]),u=r.useCallback((function(e){(0,Q.U)({storeName:"logsNotificationList",entityId:t,url:"https://api.cidiator.com/logs",path:"notification",withAccessToken:!0})(s),(0,H.Q)()()}),[t,s]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(X.Z,(0,o.Z)((0,o.Z)({},a),{},{children:[(0,h.jsxs)(z.Z,{component:d.Z,to:t,onClick:l,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(Y.Z,{})}),(0,h.jsx)(B.Z,{children:"Edit"})]}),n&&(0,h.jsxs)(z.Z,{onClick:u,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(B.Z,{children:"Restore"})]}),!i&&(0,h.jsxs)(z.Z,{onClick:c,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(V.Z,{color:n?"error":"inherit"})}),(0,h.jsx)(B.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(st=r.memo(st)).defaultProps={};var lt=st,ct=function(e){var t,n,s,l=e.withAccessToken,c=e.storeName,u=e.url,x=e.path,p=(0,I.Ds)().enqueueSnackbar,m=(0,i.TH)(),f=(0,i.s0)(),j=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),g=(0,w.v9)((0,T.Z)(["api","list",c,"loader"])),b=null!==(t=(0,w.v9)((0,T.Z)(["api","list",c,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,w.v9)((0,T.Z)(["api","list",c,"page"])))&&void 0!==n?n:1,C=null!==(s=(0,w.v9)((0,T.Z)(["api","list",c,"limit"])))&&void 0!==s?s:20,J=(0,w.v9)((0,T.Z)(["api","list",c,"data"])),H=(0,y.Z)("query",m.search),R=(0,y.Z)("select",m.search),Q=(0,y.Z)("filter",m.search),z=(0,y.Z)("sort",m.search),K=r.useCallback((function(e,t){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"page",t)()}),[c]),B=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"limit",e.target.value)()}),[c]),V=r.useCallback((function(e){return function(t){(0,N.n)("logs-menu-notification-context-".concat(e),t.target)()}}),[]),Y=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("id",e))}),[f,c]),G=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("createdAt",e))}),[f,c]);return r.useEffect((function(){j||(0,S.i)((0,o.Z)((0,o.Z)((0,o.Z)({id:c,url:u,path:x,withAccessToken:l,page:k,limit:C,query:H},R?{select:JSON.parse(decodeURI(R))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),z?{sort:JSON.parse(decodeURI(z))}:{}))(p)}),[c,l,u,x,j,k,C,H,R,Q,z,p]),r.useEffect((function(){return function(){(0,F.K)(c)()}}),[c]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:!Array.isArray(J)}),Array.isArray(J)?J.length>0?(0,h.jsxs)(U.Z,{withChangeLimit:!0,total:b,page:k,limit:C,length:J.length,onChange:K,onLimit:B,children:[(0,h.jsx)(A.Z,{children:(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(M.Z,{name:"id",onChange:Y,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Replica"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Action"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Content"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,h.jsx)(M.Z,{name:"createdAt",onChange:G,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),g||j?(0,h.jsxs)("tbody",{children:[(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,h.jsx)(L.Z,{visible:!0})})}),(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,h.jsx)(q.Z,{children:J.map((function(e,t){return(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(E.Z,{sx:{minWidth:"15%"},children:(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,h.jsxs)(E.Z,{sx:{minWidth:"16%"},children:[(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.replicaId}),(0,h.jsx)("div",{}),(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"line-through":"inherit",sx:{textDecoration:e.isDeleted?"textSecondary":"inherit"},children:e.servId})]}),(0,h.jsx)(E.Z,{sx:{minWidth:"15%"},children:(0,h.jsx)(Z.Z,{component:"div",children:e.action})}),(0,h.jsx)(E.Z,{sx:{minWidth:"23%"},children:(0,h.jsx)(Z.Z,{component:"div",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:(e.content||"").length>100?"".concat((e.content||"").substring(0,100),"..."):e.content||""})}),(0,h.jsx)(E.Z,{sx:{minWidth:"15%"},children:(0,h.jsx)(Z.Z,{component:"div",children:e.userId})}),(0,h.jsx)(E.Z,{sx:{width:"15%"},children:(0,h.jsxs)(a.Z,{pb:1,children:[(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,h.jsx)(Z.Z,{component:"div",children:(0,h.jsx)("b",{children:(0,D.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]})}),(0,h.jsxs)(E.Z,{sx:{width:"1%"},children:[(0,h.jsx)(O.Z,{onClick:V(e.id),children:(0,h.jsx)(W.Z,{})}),(0,h.jsx)(lt,{id:"logs-menu-notification-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,h.jsx)(a.Z,{py:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(Z.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,h.jsx)(r.Fragment,{})]})};(ct=r.memo(ct)).defaultProps={withAccessToken:!0,storeName:"logsNotificationList",url:"https://api.cidiator.com/logs",path:"notification"};var dt=ct,ht=["storeName","id"],ut=function(e){var t=e.storeName,n=e.id,i=(0,J.Z)(e,ht),a=(0,I.Ds)().enqueueSnackbar,s=(0,w.v9)((0,T.Z)(["dialog",n,"entityId"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),c=(0,w.v9)((0,T.Z)(["api","list",t,"loader"])),d=r.useCallback(function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(r){return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ae.R)({entityId:s,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/logs",path:"notification"})(a);case 2:return e.next=4,(0,oe.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,s,a]),u=!0===l||!0===c;return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(ce.Z,(0,o.Z)((0,o.Z)({},i),{},{loader:u,maxWidth:"xs",id:n,title:"Delete notification log?",actions:(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(j.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,h.jsx)(le.Z,{}),onClick:d,children:"OK"})}),children:(0,h.jsx)(se.Z,{children:"Are you sure you want to delete the current notification log? This operation is irreversible and may compromise data integrity."})}))})};(ut=r.memo(ut)).defaultProps={id:"logsNotificationDrop"};var xt=ut,pt=function(){return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/notification",text:"Notifications"}])()}),[]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"Notifications list"})}),(0,h.jsx)(a.Z,{pb:2,children:(0,h.jsx)(j.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,h.jsx)(g.Z,{}),component:d.Z,to:"/logs/notification/0",children:"Create"})}),(0,h.jsx)(at,{}),(0,h.jsx)(dt,{storeName:"logsNotificationList"}),(0,h.jsx)(xt,{storeName:"logsNotificationList"})]})};(pt=r.memo(pt)).defaultProps={};var mt=pt,ft=function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,d,h,u;return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,r=t.enqueueSnackbar,i=t.navigate,e.prev=1,e.next=4,(0,me.F)(n,"loader",!0)();case 4:if(a=(0,Ne.Z)().getState().api.form[n],o=a.id,s=a.servId,l=a.replica,c=a.action,d=a.content,h={},(0,Te.Z)(o,!0)||(h.id="The value is in the wrong format."),(0,Te.Z)(s)?(0,qe.Z)(s)||(h.servId="Cannot be empty."):h.servId="The value is in the wrong format.",(0,Te.Z)(l)?(0,qe.Z)(l)||(h.replica="Cannot be empty."):h.replica="The value is in the wrong format.",(0,Te.Z)(c)?(0,qe.Z)(c)||(h.action="Cannot be empty."):h.action="The value is in the wrong format.",(0,Te.Z)(d)?(0,qe.Z)(d)||(h.content="Cannot be empty."):h.content="The value is in the wrong format.",!(Object.keys(h).length>0)){e.next=17;break}return e.next=14,(0,me.F)(n,"errors",h)();case 14:return e.next=16,(0,me.F)(n,"loader",!1)();case 16:throw new Error("Check that the form is filled out correctly.");case 17:"0"===n?(0,Se.Y)({entityId:n,url:"https://api.cidiator.com/logs",path:"notification",withAccessToken:!0})(r,i):(0,Fe.L)({entityId:n,url:"https://api.cidiator.com/logs",path:"notification",withAccessToken:!0})(r),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),u=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,r(u,{variant:"error"});case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),Zt=ft,jt=function(){var e=(0,I.Ds)().enqueueSnackbar,t=(0,i.UO)().entityId,n=(0,i.s0)(),o=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),s=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"id"])),c=(0,w.v9)((0,T.Z)(["api","form",t,"servId"])),d=(0,w.v9)((0,T.Z)(["api","form",t,"replica"])),u=(0,w.v9)((0,T.Z)(["api","form",t,"action"])),x=(0,w.v9)((0,T.Z)(["api","form",t,"content"])),p=(0,w.v9)((0,T.Z)(["api","form",t,"errors","id"])),m=(0,w.v9)((0,T.Z)(["api","form",t,"errors","servId"])),f=(0,w.v9)((0,T.Z)(["api","form",t,"errors","replica"])),Z=(0,w.v9)((0,T.Z)(["api","form",t,"errors","action"])),g=(0,w.v9)((0,T.Z)(["api","form",t,"errors","content"])),v=r.useCallback((function(r){r.preventDefault(),Zt({gateway:"https://api.cidiator.com/logs",entityId:t,path:"notification",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),y=r.useCallback((function(e){(0,me.F)(t,"id",e.target.value)()}),[t]),b=r.useCallback((function(e){(0,me.F)(t,"servId",e.target.value)()}),[t]),k=r.useCallback((function(e){(0,me.F)(t,"replica",e.target.value)()}),[t]),C=r.useCallback((function(e){(0,me.F)(t,"action",e.target.value)()}),[t]),D=r.useCallback((function(e){(0,me.F)(t,"content",e.target.value)()}),[t]),S=r.useCallback((function(e){(0,R.n)("logsNotificationDrop",{entityId:t})()}),[t]);return r.useEffect((function(){!o&&t&&"0"!==t&&(0,fe.y)({entityId:t,url:"https://api.cidiator.com/logs",path:"notification",withAccessToken:!0})(e,n)}),[o,t,e,n]),r.useEffect((function(){return function(){(0,Ze.z)(t)()}}),[t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:"undefined"===typeof s||o}),(0,h.jsxs)("form",{onSubmit:v,style:{display:"undefined"===typeof s||o?"none":"initial"},children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:l||"",onChange:y,error:p})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"servId",label:"Service id",placeholder:"For example: test1",value:c||"",onChange:b,error:m})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Ie,{disabled:s,required:!0,name:"replica",label:"Replica",placeholder:"For example: 127.0.0.1:8000",value:d||"",onChange:k,error:f})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"action",label:"Action",placeholder:"For example: testFuncForToDoSomething",value:u||"",onChange:C,error:Z})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"content",label:"Content",value:x||"",onChange:D,error:g})}),(0,h.jsxs)(je.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,type:"submit",variant:"contained",color:"secondary",startIcon:s?(0,h.jsx)(L.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,h.jsx)(ge.Z,{}),children:"Save"})}),t&&"string"===typeof t&&"0"!==t?(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,variant:"contained",color:"error",startIcon:(0,h.jsx)(V.Z,{}),onClick:S,children:"Delete"})}):(0,h.jsx)(r.Fragment,{})]})]})]})};(jt=r.memo(jt)).defaultProps={};var gt=jt,vt=function(){var e=(0,i.UO)().entityId,t=(0,w.v9)((0,T.Z)(["api","form",e,"isDeleted"]));return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/notification",text:"Notifications"},{key:"/logs/notification/".concat(e),text:"0"===e?"Create new notification log":(0,h.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"0"===e?"Create new notification log":(0,h.jsxs)(r.Fragment,{children:["Edit notification log ",(0,h.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,h.jsx)(gt,{storeName:e}),(0,h.jsx)(xt,{storeName:e})]})};(vt=r.memo(vt)).defaultProps={};var yt=vt,bt=function(){var e=(0,i.s0)(),t=(0,i.TH)(),n=r.useMemo((function(){return(0,y.Z)("filter",t.search,!0)}),[t]),a=r.useMemo((function(){return(0,y.Z)("query",window.location.search)}),[]),o=r.useCallback((function(t){if(t!==((0,y.Z)("query",window.location.search)||"")){(0,v.P)("logsTrafficList","loader",!0)();var r="",i=(0,y.Z)("sort",window.location.search,!0);t.length>0&&(r="?query=".concat(t)),n&&"object"===typeof n&&Object.keys(n).length>0&&(r+=r?"&filter=".concat(JSON.stringify(n)):"?filter=".concat(JSON.stringify(n))),i&&"object"===typeof i&&Object.keys(i).length>0&&(r+=r?"&sort=".concat(JSON.stringify(i)):"?sort=".concat(JSON.stringify(i))),e(r)}}),[e,n]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(b.Z,{onSearch:o,defaultValue:a})})};(bt=r.memo(bt)).defaultProps={};var kt=bt,Ct=["entityId","isDeleted","isNotDelete"],wt=function(e){var t=e.entityId,n=e.isDeleted,i=e.isNotDelete,a=(0,J.Z)(e,Ct),s=(0,I.Ds)().enqueueSnackbar,l=r.useCallback((function(e){(0,H.Q)()()}),[]),c=r.useCallback((function(e){(0,R.n)("logsTrafficDrop",{entityId:t})(),(0,H.Q)()()}),[t]),u=r.useCallback((function(e){(0,Q.U)({storeName:"logsTrafficList",entityId:t,url:"https://api.cidiator.com/logs",path:"traffic",withAccessToken:!0})(s),(0,H.Q)()()}),[t,s]);return(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(X.Z,(0,o.Z)((0,o.Z)({},a),{},{children:[(0,h.jsxs)(z.Z,{component:d.Z,to:t,onClick:l,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(Y.Z,{})}),(0,h.jsx)(B.Z,{children:"Edit"})]}),n&&(0,h.jsxs)(z.Z,{onClick:u,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(B.Z,{children:"Restore"})]}),!i&&(0,h.jsxs)(z.Z,{onClick:c,children:[(0,h.jsx)(K.Z,{children:(0,h.jsx)(V.Z,{color:n?"error":"inherit"})}),(0,h.jsx)(B.Z,{children:n?"Delete permanently":"Delete"})]})]}))})};(wt=r.memo(wt)).defaultProps={};var It=wt,Dt=function(e){var t,n,s,l=e.withAccessToken,c=e.storeName,u=e.url,x=e.path,p=(0,I.Ds)().enqueueSnackbar,m=(0,i.TH)(),f=(0,i.s0)(),j=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),g=(0,w.v9)((0,T.Z)(["api","list",c,"loader"])),b=null!==(t=(0,w.v9)((0,T.Z)(["api","list",c,"total"])))&&void 0!==t?t:0,k=null!==(n=(0,w.v9)((0,T.Z)(["api","list",c,"page"])))&&void 0!==n?n:1,C=null!==(s=(0,w.v9)((0,T.Z)(["api","list",c,"limit"])))&&void 0!==s?s:20,J=(0,w.v9)((0,T.Z)(["api","list",c,"data"])),H=(0,y.Z)("query",m.search),R=(0,y.Z)("select",m.search),Q=(0,y.Z)("filter",m.search),z=(0,y.Z)("sort",m.search),K=r.useCallback((function(e,t){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"page",t)()}),[c]),B=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),(0,v.P)(c,"limit",e.target.value)()}),[c]),V=r.useCallback((function(e){return function(t){(0,N.n)("logs-menu-traffic-context-".concat(e),t.target)()}}),[]),Y=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("id",e))}),[f,c]),G=r.useCallback((function(e){(0,v.P)(c,"loader",!0)(),f((0,M.z)("createdAt",e))}),[f,c]);return r.useEffect((function(){j||(0,S.i)((0,o.Z)((0,o.Z)((0,o.Z)({id:c,url:u,path:x,withAccessToken:l,page:k,limit:C,query:H},R?{select:JSON.parse(decodeURI(R))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),z?{sort:JSON.parse(decodeURI(z))}:{}))(p)}),[c,l,u,x,j,k,C,H,R,Q,z,p]),r.useEffect((function(){return function(){(0,F.K)(c)()}}),[c]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:!Array.isArray(J)}),Array.isArray(J)?J.length>0?(0,h.jsxs)(U.Z,{withChangeLimit:!0,total:b,page:k,limit:C,length:J.length,onChange:K,onLimit:B,children:[(0,h.jsx)(A.Z,{children:(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(M.Z,{name:"id",onChange:Y,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Replica"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Source"})}),(0,h.jsx)(E.Z,{children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})}),(0,h.jsx)(M.Z,{name:"createdAt",onChange:G,children:(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),g||j?(0,h.jsxs)("tbody",{children:[(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,h.jsx)(L.Z,{visible:!0})})}),(0,h.jsx)("tr",{children:(0,h.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,h.jsx)(q.Z,{children:J.map((function(e,t){return(0,h.jsxs)(P.Z,{children:[(0,h.jsx)(E.Z,{sx:{minWidth:"20%"},children:(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"inherit",sx:{textDecoration:e.isDeleted?"line-through":"inherit"},children:e.id})}),(0,h.jsxs)(E.Z,{sx:{minWidth:"20%"},children:[(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.replicaId}),(0,h.jsx)("div",{}),(0,h.jsx)(Z.Z,{component:d.Z,to:e.id,color:e.isDeleted?"line-through":"inherit",sx:{textDecoration:e.isDeleted?"textSecondary":"inherit"},children:e.servId})]}),(0,h.jsxs)(E.Z,{sx:{minWidth:"20%"},children:[(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["method: ",(0,h.jsx)("b",{children:e.method})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["route: ",(0,h.jsx)("b",{children:e.route})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["referrer: ",(0,h.jsx)("b",{children:e.referrer})]})})]}),(0,h.jsxs)(E.Z,{sx:{minWidth:"19%"},children:[(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["id: ",(0,h.jsx)("b",{children:e.userId})]})}),(0,h.jsx)(a.Z,{pb:1,children:(0,h.jsxs)(Z.Z,{component:"div",children:["ip: ",(0,h.jsx)("b",{children:e.ipAddr})]})})]}),(0,h.jsx)(E.Z,{sx:{width:"20%"},children:(0,h.jsxs)(a.Z,{pb:1,children:[(0,h.jsx)(Z.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,h.jsx)(Z.Z,{component:"div",children:(0,h.jsx)("b",{children:(0,D.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]})}),(0,h.jsxs)(E.Z,{sx:{width:"1%"},children:[(0,h.jsx)(O.Z,{onClick:V(e.id),children:(0,h.jsx)(W.Z,{})}),(0,h.jsx)(It,{id:"logs-menu-traffic-context-".concat(e.id),entityId:e.id,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,h.jsx)(a.Z,{py:6,display:"flex",justifyContent:"center",children:(0,h.jsx)(Z.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,h.jsx)(r.Fragment,{})]})};(Dt=r.memo(Dt)).defaultProps={withAccessToken:!0,storeName:"logsTrafficList",url:"https://api.cidiator.com/logs",path:"traffic"};var St=Dt,Ft=["storeName","id"],Nt=function(e){var t=e.storeName,n=e.id,i=(0,J.Z)(e,Ft),a=(0,I.Ds)().enqueueSnackbar,s=(0,w.v9)((0,T.Z)(["dialog",n,"entityId"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),c=(0,w.v9)((0,T.Z)(["api","list",t,"loader"])),d=r.useCallback(function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(r){return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ae.R)({entityId:s,storeName:t,withAccessToken:!0,url:"https://api.cidiator.com/logs",path:"traffic"})(a);case 2:return e.next=4,(0,oe.Q)(n)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,s,a]),u=!0===l||!0===c;return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(ce.Z,(0,o.Z)((0,o.Z)({},i),{},{loader:u,maxWidth:"xs",id:n,title:"Delete traffic log?",actions:(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(j.Z,{disabled:u,disableElevation:!0,variant:"contained",startIcon:(0,h.jsx)(le.Z,{}),onClick:d,children:"OK"})}),children:(0,h.jsx)(se.Z,{children:"Are you sure you want to delete the current traffic log? This operation is irreversible and may compromise data integrity."})}))})};(Nt=r.memo(Nt)).defaultProps={id:"logsTrafficDrop"};var Tt=Nt,At=function(){return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/traffic",text:"Traffic logs"}])()}),[]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"Traffic logs list"})}),(0,h.jsx)(a.Z,{pb:2,children:(0,h.jsx)(j.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,h.jsx)(g.Z,{}),component:d.Z,to:"/logs/traffic/0",children:"Create"})}),(0,h.jsx)(kt,{}),(0,h.jsx)(St,{storeName:"logsTrafficList"}),(0,h.jsx)(Tt,{storeName:"logsTrafficList"})]})};(At=r.memo(At)).defaultProps={};var qt=At,Pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return JSON.parse(t),(0,Te.Z)(e,t)}catch(n){}return!1},Et=n(2982),Ot=function(e,t){if(t)return 4===e.split(".").filter((function(e){return Number(e)>=0&&Number(e)<=255})).length;var n=e.target;if(n.value.includes("..")&&(n.value=n.value.replace("..",".")),n.value.includes(".")){var r=n.value.split(".");n.value=(0,Et.Z)(r).splice(0,4).map((function(e){return""===e?e:Number.isNaN(Number(e))?"0":Math.abs(Number(e))>255?"255":Math.abs(Number(e))})).join(".")}else Number.isNaN(Number(n.value))?n.value="0":n.value.includes("00")?n.value=n.value.replace("00","0"):Math.abs(Number(n.value))>255&&(n.value="255")},Wt=function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(t){var n,r,i,a,o,s,l,c,d,h,u,x,p,m,f,Z,j;return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,r=t.enqueueSnackbar,i=t.navigate,e.prev=1,e.next=4,(0,me.F)(n,"loader",!0)();case 4:if(a=(0,Ne.Z)().getState().api.form[n],o=a.id,s=a.servId,l=a.replica,c=a.ipAddr,d=a.referrer,h=a.method,u=a.route,x=a.headers,p=a.cookies,m=a.queries,f=a.body,Z={},(0,Te.Z)(o,!0)||(Z.id="The value is in the wrong format."),(0,Te.Z)(s)||(Z.servId="The value is in the wrong format."),(0,Te.Z)(l)||(Z.replica="The value is in the wrong format."),Ot(c,!0)?(0,qe.Z)(c)||(Z.ipAddr="Cannot be empty."):Z.ipAddr="The value is in the wrong format.",(0,Te.Z)(d)||(Z.referrer="The value is in the wrong format."),(0,Te.Z)(h)||(Z.method="The value is in the wrong format."),(0,Te.Z)(u)||(Z.route="The value is in the wrong format."),Pt(x)||(Z.headers="The value is in the wrong format."),Pt(p,!0)||(Z.cookies="The value is in the wrong format."),Pt(m,!0)||(Z.queries="The value is in the wrong format."),Pt(f,!0)||(Z.body="The value is in the wrong format."),!(Object.keys(Z).length>0)){e.next=23;break}return e.next=20,(0,me.F)(n,"errors",Z)();case 20:return e.next=22,(0,me.F)(n,"loader",!1)();case 22:throw new Error("Check that the form is filled out correctly.");case 23:"0"===n?(0,Se.Y)({entityId:n,url:"https://api.cidiator.com/logs",path:"traffic",withAccessToken:!0})(r,i):(0,Fe.L)({entityId:n,url:"https://api.cidiator.com/logs",path:"traffic",withAccessToken:!0})(r),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(1),j=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,r(j,{variant:"error"});case 30:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t){return e.apply(this,arguments)}}(),Lt=Wt,Ut=function(){var e=(0,I.Ds)().enqueueSnackbar,t=(0,i.UO)().entityId,n=(0,i.s0)(),o=(0,w.v9)((0,T.Z)(["loader","unmount","visible"])),s=(0,w.v9)((0,T.Z)(["api","form",t,"loader"])),l=(0,w.v9)((0,T.Z)(["api","form",t,"id"])),c=(0,w.v9)((0,T.Z)(["api","form",t,"servId"])),d=(0,w.v9)((0,T.Z)(["api","form",t,"replica"])),u=(0,w.v9)((0,T.Z)(["api","form",t,"ipAddr"])),x=(0,w.v9)((0,T.Z)(["api","form",t,"referrer"])),p=(0,w.v9)((0,T.Z)(["api","form",t,"method"])),m=(0,w.v9)((0,T.Z)(["api","form",t,"route"])),f=(0,w.v9)((0,T.Z)(["api","form",t,"headers"])),Z=(0,w.v9)((0,T.Z)(["api","form",t,"cookies"])),g=(0,w.v9)((0,T.Z)(["api","form",t,"queries"])),v=(0,w.v9)((0,T.Z)(["api","form",t,"body"])),y=(0,w.v9)((0,T.Z)(["api","form",t,"errors","id"])),b=(0,w.v9)((0,T.Z)(["api","form",t,"errors","servId"])),k=(0,w.v9)((0,T.Z)(["api","form",t,"errors","replica"])),C=(0,w.v9)((0,T.Z)(["api","form",t,"errors","ipAddr"])),D=(0,w.v9)((0,T.Z)(["api","form",t,"errors","referrer"])),S=(0,w.v9)((0,T.Z)(["api","form",t,"errors","method"])),F=(0,w.v9)((0,T.Z)(["api","form",t,"errors","referrer"])),N=(0,w.v9)((0,T.Z)(["api","form",t,"errors","headers"])),A=(0,w.v9)((0,T.Z)(["api","form",t,"errors","cookies"])),q=(0,w.v9)((0,T.Z)(["api","form",t,"errors","queries"])),P=(0,w.v9)((0,T.Z)(["api","form",t,"errors","body"])),E=r.useCallback((function(r){r.preventDefault(),Lt({gateway:"https://api.cidiator.com/logs",entityId:t,path:"traffic",withAccessToken:!0,enqueueSnackbar:e,navigate:n})}),[t,e,n]),O=r.useCallback((function(e){(0,me.F)(t,"id",e.target.value)()}),[t]),W=r.useCallback((function(e){(0,me.F)(t,"servId",e.target.value)()}),[t]),U=r.useCallback((function(e){(0,me.F)(t,"replica",e.target.value)()}),[t]),M=r.useCallback((function(e){(0,me.F)(t,"ipAddr",e.target.value)()}),[t]),J=r.useCallback((function(e){(0,me.F)(t,"referrer",e.target.value)()}),[t]),H=r.useCallback((function(e){(0,me.F)(t,"method",e.target.value)()}),[t]),Q=r.useCallback((function(e){(0,me.F)(t,"route",e.target.value)()}),[t]),z=r.useCallback((function(e){(0,me.F)(t,"headers",e.target.value)()}),[t]),K=r.useCallback((function(e){(0,me.F)(t,"cookies",e.target.value)()}),[t]),B=r.useCallback((function(e){(0,me.F)(t,"queries",e.target.value)()}),[t]),Y=r.useCallback((function(e){(0,me.F)(t,"body",e.target.value)()}),[t]),G=r.useCallback((function(e){(0,R.n)("logsTrafficDrop",{entityId:t})()}),[t]);return r.useEffect((function(){!o&&t&&"0"!==t&&(0,fe.y)({entityId:t,url:"https://api.cidiator.com/logs",path:"traffic",withAccessToken:!0})(e,n)}),[o,t,e,n]),r.useEffect((function(){return function(){(0,Ze.z)(t)()}}),[t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{visible:"undefined"===typeof s||o}),(0,h.jsxs)("form",{onSubmit:E,style:{display:"undefined"===typeof s||o?"none":"initial"},children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:l||"",onChange:O,error:y})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"servId",label:"Service id",placeholder:"For example: test1",value:c||"",onChange:W,error:b})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Ie,{disabled:s,required:!0,name:"replica",label:"Replica",placeholder:"For example: 127.0.0.1:8000",value:d||"",onChange:U,error:k})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{disabled:s,required:!0,name:"ipAddr",label:"IP address",placeholder:"For example: 127.0.0.1",value:u||"",onChange:M,error:C})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,name:"referrer",label:"Referrer",placeholder:"For example: https://google.com",value:x||"",onChange:J,error:D})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,name:"method",label:"Method",placeholder:"For example: POST",value:p||"",onChange:H,error:S})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,name:"route",label:"Route path",placeholder:"For example: /api/pages/1",value:m||"",onChange:Q,error:F})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"headers",label:"Headers",value:f||"",onChange:z,error:N})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"cookies",label:"Cookies",value:Z||"",onChange:K,error:A})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"queries",label:"Queries",value:g||"",onChange:B,error:q})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(ve.default,{required:!0,disabled:s,multiline:!0,rows:4,name:"body",label:"Body",value:v||"",onChange:Y,error:P})}),(0,h.jsxs)(je.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,type:"submit",variant:"contained",color:"secondary",startIcon:s?(0,h.jsx)(L.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,h.jsx)(ge.Z,{}),children:"Save"})}),t&&"string"===typeof t&&"0"!==t?(0,h.jsx)(je.ZP,{item:!0,xs:!1,children:(0,h.jsx)(j.Z,{disableElevation:!0,disabled:s,variant:"contained",color:"error",startIcon:(0,h.jsx)(V.Z,{}),onClick:G,children:"Delete"})}):(0,h.jsx)(r.Fragment,{})]})]})]})};(Ut=r.memo(Ut)).defaultProps={};var Mt=Ut,Jt=function(){var e=(0,i.UO)().entityId,t=(0,w.v9)((0,T.Z)(["api","form",e,"isDeleted"]));return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/traffic",text:"Traffic logs"},{key:"/logs/traffic/".concat(e),text:"0"===e?"Create new traffic log":(0,h.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"0"===e?"Create new traffic log":(0,h.jsxs)(r.Fragment,{children:["Edit traffic log ",(0,h.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,h.jsx)(Mt,{storeName:e}),(0,h.jsx)(Tt,{storeName:e})]})};(Jt=r.memo(Jt)).defaultProps={};var Ht=Jt,Rt=n(4487),Qt=n(4994),zt=n(2426),Kt=function(){return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/settings",text:"Settings"}])()}),[]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{pt:1,pb:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"Settings list"})}),(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(j.Z,{disableElevation:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,h.jsx)(g.Z,{}),component:d.Z,to:"/logs/settings/0",children:"Create"})}),(0,h.jsx)(Rt.Z,{storeName:"logsSettingsList"}),(0,h.jsx)(Qt.Z,{withAccessToken:!0,storeName:"logsSettingsList",url:"https://api.cidiator.com/logs",path:"setting"}),(0,h.jsx)(zt.Z,{withAccessToken:!0,storeName:"logsSettingsList",url:"https://api.cidiator.com/logs",path:"setting"})]})};(Kt=r.memo(Kt)).defaultProps={};var Bt=Kt,Vt=n(4267),Yt=function(){var e=(0,i.UO)().entityId,t=(0,w.v9)((0,T.Z)(["api","form",e,"isDeleted"]));return r.useEffect((function(){(0,f.Q)("app",[{key:"/",text:"..."},{key:"logs",text:"Logs"},{key:"/logs/settings",text:"Settings"},{key:"/logs/settings/".concat(e),text:"0"===e?"Create new setting":(0,h.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()}),[e,t]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.Z,{py:2,children:(0,h.jsx)(Z.Z,{component:"div",variant:"h5",children:"0"===e?"Add setting":(0,h.jsxs)(r.Fragment,{children:["Edit setting ",(0,h.jsx)("b",{style:{textDecoration:t?"line-through":"initial"},children:e})]})})}),(0,h.jsx)(Vt.Z,{withAccessToken:!0,storeName:"logsSettingsList",url:"https://api.cidiator.com/logs",path:"setting"}),(0,h.jsx)(zt.Z,{withAccessToken:!0,storeName:"logsSettingsList",url:"https://api.cidiator.com/logs",path:"setting"})]})};(Yt=r.memo(Yt)).defaultProps={};var Gt=Yt,Xt=function(){return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(i.Z5,{children:(0,h.jsxs)(i.AW,{path:"",element:(0,h.jsx)(m,{}),children:[(0,h.jsx)(i.AW,{index:!0,element:(0,h.jsx)(pe,{})}),(0,h.jsx)(i.AW,{path:":entityId",element:(0,h.jsx)(Ue,{})}),(0,h.jsx)(i.AW,{path:"err",element:(0,h.jsx)(pe,{})}),(0,h.jsx)(i.AW,{path:"err/:entityId",element:(0,h.jsx)(Ue,{})}),(0,h.jsx)(i.AW,{path:"warning",element:(0,h.jsx)(Xe,{})}),(0,h.jsx)(i.AW,{path:"warning/:entityId",element:(0,h.jsx)(rt,{})}),(0,h.jsx)(i.AW,{path:"notification",element:(0,h.jsx)(mt,{})}),(0,h.jsx)(i.AW,{path:"notification/:entityId",element:(0,h.jsx)(yt,{})}),(0,h.jsx)(i.AW,{path:"traffic",element:(0,h.jsx)(qt,{})}),(0,h.jsx)(i.AW,{path:"traffic/:entityId",element:(0,h.jsx)(Ht,{})}),(0,h.jsx)(i.AW,{path:"settings",element:(0,h.jsx)(Bt,{})}),(0,h.jsx)(i.AW,{path:"settings/:entityId",element:(0,h.jsx)(Gt,{})})]})})})};(Xt=r.memo(Xt)).defaultProps={};var $t=Xt},4948:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(1413),i=n(5987),a=n(2791),o=n(6030),s=n(3259),l=n(3894),c=n(3606),d=n(184),h=["onInput","placeholder"],u=function(e){var t=e.onInput,n=e.placeholder,u=(0,i.Z)(e,h),x=(0,o.v9)((0,s.Z)(["api","list","dataTypeList","data"],(function(e){return"int"===e.id}))),p=(x||{}).label,m=(x||{}).placeholder,f=a.useCallback((function(e){(0,c.Z)(e),t(e)}),[t]);return(0,d.jsx)(a.Fragment,{children:(0,d.jsx)(l.Z,(0,r.Z)((0,r.Z)({label:p,placeholder:"string"===typeof n||"number"===typeof n?n.toString():(m||"").toString(),onInput:f},u),{},{type:"text"}))})};(u=a.memo(u)).defaultProps={onInput:function(){}};var x=u},3606:function(e,t){var n=/[^0-9]/gi;t.Z=function(e,t){if(t)return!n.test(e);e.target.value=e.target.value.replace(n,"")}}}]);
//# sourceMappingURL=847.5bc243b5.chunk.js.map