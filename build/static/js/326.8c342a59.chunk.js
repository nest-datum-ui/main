"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[326],{8326:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ma}});var r=n(2791),i=n(7689),a=n(6015),o=n(1413),l=n(885),s=n(142),u=n(166),c=n(6582),d=n(1091),m=n(7161),p=n(184),f=function(){var e=(0,i.TH)().pathname,t=e.substring(1),n=[0===t.indexOf("mail/letter"),0===t.indexOf("mail/template"),0===t.indexOf("mail/report"),0===t.indexOf("mail/settings")],f=r.useState((function(){return"/mail"===e?0:n.indexOf(!0)})),Z=(0,l.Z)(f,2),x=Z[0],h=Z[1],v=r.useCallback((function(e,t){h(t)}),[h]);return r.useEffect((function(){"/mail"===e&&h(0)}),[e,h]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(s.Z,{variant:"scrollable",value:x>=0?x:0,onChange:v,children:[(0,p.jsx)(u.Z,(0,o.Z)({label:"Letters"},0===t.indexOf("mail/letter")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:m.Z,to:"letter",sx:{textTransform:"initial"}})),(0,p.jsx)(u.Z,(0,o.Z)({label:"Templates"},0===t.indexOf("mail/template")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:m.Z,to:"template",sx:{textTransform:"initial"}})),(0,p.jsx)(u.Z,(0,o.Z)({label:"Reports"},0===t.indexOf("mail/report")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:m.Z,to:"report",sx:{textTransform:"initial"}})),(0,p.jsx)(u.Z,(0,o.Z)({label:"Settings"},0===t.indexOf("mail/settings")?{sx:{textTransform:"initial",pointerEvents:"none"}}:{component:m.Z,to:"settings",sx:{textTransform:"initial"}}))]}),(0,p.jsx)(a.Z,{py:x<=2?2:0,children:x<=0?(0,p.jsxs)(c.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0!==t.indexOf("mail/letter/options")&&0!==t.indexOf("mail/letter/statuses")&&0!==t.indexOf("mail/letter/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/letter"}),{},{children:"Data"})),(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0===t.indexOf("mail/letter/options")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/letter/options"}),{},{children:"Options"})),(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0===t.indexOf("mail/letter/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/letter/statuses"}),{},{children:"Statuses"}))]}):1===x?(0,p.jsxs)(c.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0!==t.indexOf("mail/template/options")&&0!==t.indexOf("mail/template/statuses")&&0!==t.indexOf("mail/template/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/template"}),{},{children:"Data"})),(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0===t.indexOf("mail/template/options")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/template/options"}),{},{children:"Options"})),(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0===t.indexOf("mail/template/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/template/statuses"}),{},{children:"Statuses"}))]}):2===x?(0,p.jsxs)(c.Z,{disableElevation:!0,variant:"outlined",color:"primary",size:"small",children:[(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0!==t.indexOf("mail/report/options")&&0!==t.indexOf("mail/report/statuses")&&0!==t.indexOf("mail/report/routes")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/report"}),{},{children:"Data"})),(0,p.jsx)(d.Z,(0,o.Z)((0,o.Z)({},0===t.indexOf("mail/report/statuses")?{variant:"contained",sx:{pointerEvents:"none"}}:{component:m.Z,to:"/mail/report/statuses"}),{},{children:"Statuses"}))]}):(0,p.jsx)(r.Fragment,{})})]})};(f=r.memo(f)).defaultProps={};var Z=f,x=function(e){e.children;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(a.Z,{pr:2,children:(0,p.jsx)(Z,{})}),(0,p.jsx)(i.j3,{})]})};(x=r.memo(x)).defaultProps={};var h=x,v=n(6030),j=n(8954),g="https://api.cidiator.com/mail/letter",b="https://api.cidiator.com/mail/letter-status",k="https://api.cidiator.com/mail/letter-option",C="https://api.cidiator.com/mail/letter/option",y="https://api.cidiator.com/mail/template",I="https://api.cidiator.com/mail/template-status",D="https://api.cidiator.com/mail/template-option",F="https://api.cidiator.com/mail/template/option",P="https://api.cidiator.com/mail/report",S="https://api.cidiator.com/mail/report-status",w="https://api.cidiator.com/mail/setting",N=n(708),T=n(9571),A=n(2882),E=n(6166),O=function(){var e=(0,v.v9)((0,N.Z)(["dialog",g,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",g,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",g,"loader"])),i=r.useCallback((function(t){return(0,j.R)(g,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(A.Z,{id:g,loader:!0===t||!0===n,maxWidth:"xs",title:"Delete letter?",actions:(0,p.jsx)(E.Z,{loader:!0===t||!0===n,onClick:i,children:"OK"}),children:(0,p.jsx)(T.Z,{children:"Are you sure you want to delete the current letter? This operation is irreversible and may compromise data integrity."})})})};(O=r.memo(O)).defaultProps={};var R=O,L=n(2606),W=n(2772),M=n(4307),q=n(3135),z=n(9300),B=n(2100),V=n(2650),H=n(7642),K=n(6498),Q=n(8686),U=n(891),Y=n(4432),G=n(6601),$=n(5951),_=n(4565),J=n(4390),X=n(2701),ee=n(3343),te=n(1419),ne=n(4096),re=n(44),ie=n(3895),ae=n(2810),oe=n(2507),le=n(2379),se=n(7533),ue=n(3858),ce=n(5953),de=n(3811),me=n(9823),pe=n(5987),fe=n(5405),Ze=n(2123),xe=["value","defaultValue","children"],he=function(e){var t,n,i,a=e.value,l=e.defaultValue,s=(e.children,(0,pe.Z)(e,xe)),u=null!==a&&void 0!==a?a:l,c=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),d=(0,v.v9)((0,N.Z)(["api","list",b,"loader"])),m=null!==(t=(0,v.v9)((0,N.Z)(["api","list",b,"total"])))&&void 0!==t?t:0,f=null!==(n=(0,v.v9)((0,N.Z)(["api","list",b,"page"])))&&void 0!==n?n:1,Z=null!==(i=(0,v.v9)((0,N.Z)(["api","list",b,"limit"])))&&void 0!==i?i:20,x=(0,v.v9)((0,N.Z)(["api","list",b,"query"]))||"",h=(0,v.v9)((0,N.Z)(["api","list",b,"data"])),j=!(0,$.Z)(h)||d||c,g=r.useCallback((function(e,t){return(0,q.T)(b,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(b,e)}),[]),C=r.useCallback((function(){}),[]);return r.useEffect((function(){c||(0,M.i)(b,{page:f,limit:Z,query:x})()}),[c,f,Z,x]),r.useEffect((function(){return function(){return(0,L.K)(b)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:j}),!j&&(0,p.jsx)(fe.Z,(0,o.Z)((0,o.Z)({},s),{},{value:a,defaultValue:l,total:m,page:f,limit:Z,onChangePage:g,onLimit:k,onSearch:C,children:h.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{active:!!u.find((function(t){return t.value===e.id}))})}))}))]})};(he=r.memo(he)).defaultProps={name:"letterStatusId",multiple:!1,onChange:function(){}};var ve=he,je=function(e){var t=e.onChange,n=e.onInput,a=(0,i.TH)().search,o=r.useState((function(){return(0,ae.Z)()})),s=(0,l.Z)(o,1)[0],u=(0,v.v9)((0,N.Z)(["api","list",b,"data","length"]))>0?(0,se.Z)(a,b,"letterStatusId"):[],c=r.useCallback((function(e){(0,oe.V)(e,(0,ue.Z)("letterStatusId")),t(e),n(e)}),[t,n]),d=r.useCallback((function(e){(0,le.h)((0,ue.Z)("letterStatusId")),t(e),n(e)}),[t,n]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(ce.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(ce.ZP,{item:!0,xs:!1,children:(0,p.jsx)(de.Z,{size:"small",color:"error",onClick:d,children:(0,p.jsx)(me.Z,{fontSize:"small"})})}),(0,p.jsx)(ce.ZP,{item:!0,xs:!0,children:(0,p.jsx)(ve,{label:"Status",name:s,onChange:c,value:u})})]})})};(je=r.memo(je)).defaultProps={onChange:function(){},onInput:function(){}};var ge=je,be=n(2982),ke=n(7060),Ce=n(807),ye=n(5473),Ie=n(2898),De=n(8061),Fe=n(9949),Pe=n(7235),Se=n(9154),we=n(789),Ne=["children"],Te=function(e){var t=e.children,n=(0,pe.Z)(e,Ne),i=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),a=(0,v.v9)((0,N.Z)(["api","form","".concat(b,"/").concat(t),"name"]));return r.useEffect((function(){i||(0,Pe.y)((function(){return"".concat(b,"/").concat(t)}),{entityId:t,withLoop:!0})()}),[i,t]),r.useEffect((function(){return function(){(0,Se.z)("".concat(b,"/").concat(t))(),(0,we.B)("".concat(b,"/").concat(t))}}),[t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(_.Z,(0,o.Z)((0,o.Z)({component:"div"},n),{},{children:null!==a&&void 0!==a?a:t}))})};(Te=r.memo(Te)).defaultProps={};var Ae=Te,Ee=n(7562),Oe=n(8947),Re=function(e){var t=e.bulkDeletion,n=e.id,i=e.name,a=e.description,o=e.letterStatusId,l=e.userId,s=e.isDeleted,u=e.isNotDelete,c=e.createdAt,d=e.updatedAt,m=e.onClose,f=e.onDrop,Z=e.onRestore,x=e.onMenu,h=e.onCheck,j=e.storePath,g=(0,v.v9)((0,ke.Z)([].concat((0,be.Z)(j),["selected"]),n));return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Ce.Z,{children:[t&&(0,$.Z)(j)&&(0,p.jsx)(J.Z,{padding:"checkbox",sx:{minWidth:"1%"},children:(0,p.jsx)(ye.Z,{checked:g,onChange:h})}),(0,p.jsx)(J.Z,{sx:{minWidth:"18%"},children:(0,p.jsx)(De.Z,{to:"/mail/letter/".concat(n),isDeleted:s,children:n})}),(0,p.jsxs)(J.Z,{sx:{minWidth:"28%"},children:[(0,p.jsx)(De.Z,{to:"/mail/letter/".concat(n),isDeleted:s,variant:"h6",children:i}),(0,p.jsx)("div",{}),(0,p.jsx)(De.Z,{to:"/mail/letter/".concat(n),isDeleted:s,variant:"subtitle1",children:a})]}),(0,p.jsx)(J.Z,{sx:{minWidth:"16%"},children:(0,p.jsx)(Ae,{children:o})}),(0,p.jsx)(J.Z,{sx:{minWidth:"11%"},children:(0,p.jsx)(Ee.Z,{children:l})}),(0,p.jsx)(J.Z,{sx:{width:"15%"},children:(0,p.jsx)(Fe.Z,{createdAt:c,updatedAt:d})}),(0,p.jsxs)(J.Z,{sx:{width:"1%"},children:[(0,p.jsx)(de.Z,{onClick:x,children:(0,p.jsx)(Ie.Z,{})}),(0,p.jsx)(Oe.Z,{id:n,isDeleted:s,isNotDelete:u,onClose:m,onDrop:f,onRestore:Z})]})]},n)})};(Re=r.memo(Re)).defaultProps={bulkDeletion:!1,onCheck:function(){}};var Le=Re,We=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",g,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",g,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",g,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",g,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",g,"data"])),j=r.useMemo((function(){return["api","list",g]}),[]),b=!(0,$.Z)(h)||d||m,k=r.useCallback((function(e,t){return(0,q.T)(g,t)}),[]),C=r.useCallback((function(e){return(0,z.I)(g,e)}),[]),y=r.useCallback((function(e){return(0,B.a)(g,"id",e)}),[]),I=r.useCallback((function(e){return(0,B.a)(g,"createdAt",e)}),[]),D=r.useCallback((function(e){return function(t){return(0,V.Y)(g,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(g,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(g,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(g,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(g)}),[]),T=r.useCallback((function(){return(0,W.P)(g,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(g,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(g)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/letter/0"}),storePath:j,loader:b,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T}),(0,p.jsx)(ge,{onInput:T})]}),!b&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(X.Z,{bulkDeletion:!0,withChangeLimit:!0,loader:m,total:f,page:Z,limit:x,length:h.length,onChange:k,onLimit:C,headRowCells:[(0,p.jsx)(ee.Z,{name:"id",onChange:y,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})},"id"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})},"main"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})},"letterStatusId"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})},"userId"),(0,p.jsx)(ee.Z,{name:"createdAt",onChange:I,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})},"createdAt")],children:h.map((function(e){return(0,p.jsx)(Le,{bulkDeletion:!0,id:e.id,name:e.name,description:e.description,letterStatusId:e.letterStatusId,userId:e.userId,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:D(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})})]})};(We=r.memo(We)).defaultProps={};var Me=We,qe=n(8185),ze=n(148),Be=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Letters"}])()},Ve=function(){return r.useEffect((function(){return Be()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{children:"Letters list"})})})};(Ve=r.memo(Ve)).defaultProps={};var He=Ve,Ke=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(He,{}),(0,p.jsx)(Me,{}),(0,p.jsx)(R,{})]})};(Ke=r.memo(Ke)).defaultProps={};var Qe=Ke,Ue=n(4490),Ye=n(1998),Ge=n(2783),$e=n(2399),_e=n(3979),Je=n(3990),Xe=n(6734),et=n(2619),tt=n(7232),nt=["children"],rt=function(e){e.children;var t,n,i,a=(0,pe.Z)(e,nt),l=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),s=(0,v.v9)((0,N.Z)(["api","list",b,"loader"])),u=null!==(t=(0,v.v9)((0,N.Z)(["api","list",b,"total"])))&&void 0!==t?t:0,c=null!==(n=(0,v.v9)((0,N.Z)(["api","list",b,"page"])))&&void 0!==n?n:1,d=null!==(i=(0,v.v9)((0,N.Z)(["api","list",b,"limit"])))&&void 0!==i?i:20,m=(0,v.v9)((0,N.Z)(["api","list",b,"query"])),f=(0,v.v9)((0,N.Z)(["api","list",b,"data"])),Z=!(0,$.Z)(f)||s||l,x=r.useCallback((function(e,t){return(0,q.T)(b,t)}),[]),h=r.useCallback((function(e){return(0,z.I)(b,e)}),[]),j=r.useCallback((function(){}),[]);return r.useEffect((function(){l||(0,M.i)(b,{page:c,limit:d,query:m})()}),[l,c,d,m]),r.useEffect((function(){return function(){return(0,L.K)(b)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:Z}),!Z&&(0,p.jsx)(tt.Z,(0,o.Z)((0,o.Z)({},a),{},{total:u,page:c,limit:d,onChangePage:x,onLimit:h,onSearch:j,children:f}))]})};(rt=r.memo(rt)).defaultProps={name:"letterStatusId",multiple:!1,onChange:function(){}};var it=rt,at=["storeFormName"],ot=function(e){var t=e.storeFormName,n=(0,pe.Z)(e,at),i=(0,v.v9)((0,N.Z)(["api","form",t,"loader"])),l=(0,v.v9)((0,N.Z)(["api","form",t,"letterStatusId"]))||"",s=(0,v.v9)((0,N.Z)(["api","form",t,"errors","letterStatusId"])),u=r.useCallback((function(e){return(0,et.F)(t,"letterStatusId",e.target.value)()}),[t]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{py:2,maxWidth:"240px",children:(0,p.jsx)(it,(0,o.Z)({disabled:i,name:"letterStatusId",label:"Letter status",value:l,onChange:u,error:s},n))})})};(ot=r.memo(ot)).defaultProps={storeFormName:g};var lt=ot,st=["children"],ut=function(e){e.children;var t,n,i,a=(0,pe.Z)(e,st),l=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),s=(0,v.v9)((0,N.Z)(["api","list",y,"loader"])),u=null!==(t=(0,v.v9)((0,N.Z)(["api","list",y,"total"])))&&void 0!==t?t:0,c=null!==(n=(0,v.v9)((0,N.Z)(["api","list",y,"page"])))&&void 0!==n?n:1,d=null!==(i=(0,v.v9)((0,N.Z)(["api","list",y,"limit"])))&&void 0!==i?i:20,m=(0,v.v9)((0,N.Z)(["api","list",y,"query"])),f=(0,v.v9)((0,N.Z)(["api","list",y,"data"])),Z=!(0,$.Z)(f)||s||l,x=r.useCallback((function(e,t){return(0,q.T)(y,t)}),[]),h=r.useCallback((function(e){return(0,z.I)(y,e)}),[]),j=r.useCallback((function(){}),[]);return r.useEffect((function(){l||(0,M.i)(y,{page:c,limit:d,query:m})()}),[l,c,d,m]),r.useEffect((function(){return function(){return(0,L.K)(y)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:Z}),!Z&&(0,p.jsx)(tt.Z,(0,o.Z)((0,o.Z)({},a),{},{total:u,page:c,limit:d,onChangePage:x,onLimit:h,onSearch:j,children:f}))]})};(ut=r.memo(ut)).defaultProps={name:"templateId",multiple:!1,onChange:function(){}};var ct=ut,dt=["storeFormName"],mt=function(e){var t=e.storeFormName,n=(0,pe.Z)(e,dt),i=(0,v.v9)((0,N.Z)(["api","form",t,"loader"])),l=(0,v.v9)((0,N.Z)(["api","form",t,"templateStatusId"]))||"",s=(0,v.v9)((0,N.Z)(["api","form",t,"errors","templateStatusId"])),u=r.useCallback((function(e){return(0,et.F)(t,"templateStatusId",e.target.value)()}),[t]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{py:2,maxWidth:"240px",children:(0,p.jsx)(ct,(0,o.Z)({disabled:i,name:"templateStatusId",label:"Template status",value:l,onChange:u,error:s},n))})})};(mt=r.memo(mt)).defaultProps={storeFormName:y};var pt=mt,ft=n(9465),Zt=n(9698),xt=n(2111),ht=n(7514),vt=n(2394),jt=n(4165),gt=n(5861),bt=n(2510),kt=n(7800),Ct=n(5312),yt=n(2674),It=n(6749),Dt=n(934),Ft=n(175),Pt=n(2069),St=n(4327),wt=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s,u,c,d,m;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(g,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[g]||{},i=r.id,a=r.name,o=r.description,l=r.subject,s=r.textPart,u=r.templateId,c=r.letterStatusId,d=r.isNotDelete,m={},i&&!(0,Ft.Z)(i)&&(m.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(m.name="The value is in the wrong format."),!(0,Pt.Z)(l)&&(m.subject="The value is in the wrong format."),!(0,Pt.Z)(s)&&(m.textPart="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(m.description="The value is in the wrong format."),!(0,Ft.Z)(u)&&(m.templateId="The value is in the wrong format."),!(0,Ft.Z)(c)&&(m.letterStatusId="The value is in the wrong format."),(0,Dt.Z)(d)&&!(0,It.Z)(d)&&(m.isNotDelete="The value is in the wrong format."),!(Object.keys(m).length>0)){e.next=20;break}return e.next=16,(0,et.F)(g,"errors",m)();case 16:return e.next=18,(0,et.F)(g,"loader",!1)();case 18:e.next=21;break;case 20:(0,_e.Z)(n)?((0,yt.L)(g,n)(),(0,kt.k)(k,{path:"".concat(g,"/").concat(n,"/options")})()):((0,Ct.Y)(g)(),(0,kt.k)(k,{path:"".concat(g,"/").concat(n,"/options")})());case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nt=wt,Tt=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",g,"loader"])),a=(0,v.v9)((0,N.Z)(["api","list",k,"loader"])),l=(0,v.v9)((0,N.Z)(["api","form",g],(function(e){return Object.keys(e||{}).length}))),s=(0,v.v9)((0,N.Z)(["api","form",g,"isNotDelete"])),u=(0,v.v9)((0,N.Z)(["api","form",g,"isDeleted"])),c=(0,v.v9)((0,N.Z)(["api","list",k,"data"])),d=r.useCallback((function(t){return Nt(t,e)}),[e]),m=r.useCallback((function(t){return(0,$e.n)(g,{entityId:e})()}),[e]),f=r.useCallback((function(t){return(0,Ye.P)(k,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]),Z=r.useCallback((function(t){return(0,Ue.p)(k,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]),x=r.useCallback((function(t){return(0,Ge.T)(k,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]);return r.useEffect((function(){!t&&(0,_e.Z)(e)&&((0,Pe.y)(g,e)(),(0,M.i)(k,{relations:{letterLetterOptions:{letterLetterLetterOptions:!0}},filter:{isDeleted:!1,letterLetterOptions:{letterId:e}}})())}),[t,e]),r.useEffect((function(){return function(){(0,Se.z)(g)(),(0,L.K)(k)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:d,onDrop:m,loader:n||(0,_e.Z)(e)&&l<6,isDeleted:u,isNotDelete:s,showDropButton:!s&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:g}),(0,p.jsx)(xt.Z,{storeFormName:g,required:!0}),(0,p.jsx)(ht.Z,{storeFormName:g}),(0,p.jsx)(Zt.default,{storeFormName:g,name:"subject",label:"Subject",required:!0}),(0,p.jsx)(Zt.default,{storeFormName:g,name:"textPart",label:"Letter subtitle",required:!0}),(0,p.jsx)(pt,{storeFormName:g,required:!0}),(0,p.jsx)(lt,{storeFormName:g}),(0,p.jsx)(vt.Z,{storeFormName:g}),(0,_e.Z)(e)&&(0,p.jsx)(Xe.Z,{title:"Options:",entityId:e,loader:!(0,$.Z)(c)||t||a,onChange:f,onAdd:Z,onDrop:x,relationTableName:"letterLetterOptions",valueTableName:"letterLetterLetterOptions",children:c})]})})};(Tt=r.memo(Tt)).defaultProps={};var At=Tt,Et=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"mail/letter",text:"Letters"},{key:"/mail/letter/".concat(e),text:"0"===e?"Create new letter":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Ot=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",g,"isDeleted"]));return r.useEffect((function(){return Et(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Create new letter",children:"Edit letter"})})})};(Ot=r.memo(Ot)).defaultProps={};var Rt=Ot,Lt=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Rt,{}),(0,p.jsx)(R,{}),(0,p.jsx)(At,{})]})};(Lt=r.memo(Lt)).defaultProps={};var Wt=Lt,Mt=n(2038),qt=function(){var e=(0,v.v9)((0,N.Z)(["dialog",k,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",k,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",k,"loader"])),i=r.useCallback((function(t){return(0,j.R)(k,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Mt.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:k,onHandle:i})})};(qt=r.memo(qt)).defaultProps={};var zt=qt,Bt=n(8951),Vt=n(4974),Ht=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",k,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",k,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",k,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",k,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",k,"data"])),j=r.useMemo((function(){return["api","list",k]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(k,t)}),[]),C=r.useCallback((function(e){return(0,z.I)(k,e)}),[]),y=r.useCallback((function(e){return(0,B.a)(k,"id",e)}),[]),I=r.useCallback((function(e){return(0,B.a)(k,"createdAt",e)}),[]),D=r.useCallback((function(e){return function(t){return(0,V.Y)(k,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(k,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(k,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(k,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(k)}),[]),T=r.useCallback((function(){return(0,W.P)(k,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(k,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(k)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/letter/options/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(Bt.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:b,onLimit:C,onSortId:y,onSortCreatedAt:I,children:(0,$.Z)(h)&&h.map((function(e){return(0,p.jsx)(Vt.Z,{bulkDeletion:!0,id:e.id,to:"/mail/letter/options/".concat(e.id),name:e.name,description:e.description,dataTypeId:e.dataTypeId,defaultValue:e.defaultValue,regex:e.regex,isRequired:e.isRequired,isMultiline:e.isMultiline,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,createdAt:e.createdAt,updatedAt:e.updatedAt,onDrop:D(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})]})};(Ht=r.memo(Ht)).defaultProps={};var Kt=Ht,Qt=n(795),Ut=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/letter/options",text:"Options"}])()},Yt=function(){return r.useEffect((function(){return Ut()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.Z,{pb:2,children:[(0,p.jsx)(qe.Z,{children:"Options"}),(0,p.jsx)(Qt.Z,{children:"Managing additional letters of the current entity."})]})})};(Yt=r.memo(Yt)).defaultProps={};var Gt=Yt,$t=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Gt,{}),(0,p.jsx)(Kt,{}),(0,p.jsx)(zt,{})]})};($t=r.memo($t)).defaultProps={};var _t=$t,Jt=n(1251),Xt=n(9746),en=["children"],tn=function(e){var t=e.children,n=(0,pe.Z)(e,en),i=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),a=(0,v.v9)((0,N.Z)(["api","form","".concat(g,"/").concat(t),"name"]));return r.useEffect((function(){i||(0,Pe.y)((function(){return"".concat(g,"/").concat(t)}),{entityId:t,withLoop:!0})()}),[i,t]),r.useEffect((function(){return function(){(0,Se.z)("".concat(g,"/").concat(t))(),(0,we.B)("".concat(g,"/").concat(t))}}),[t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(_.Z,(0,o.Z)((0,o.Z)({component:"div"},n),{},{children:null!==a&&void 0!==a?a:t}))})};(tn=r.memo(tn)).defaultProps={};var nn=tn,rn=function(e){var t=e.id,n=(e.letterOptionId,e.letterId),i=e.createdAt,a=e.onDrop;return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Ce.Z,{children:[(0,p.jsx)(J.Z,{sx:{minWidth:"49%"},children:(0,p.jsx)(nn,{children:n})}),(0,p.jsx)(J.Z,{sx:{width:"50%"},children:(0,p.jsx)(Xt.Z,{children:i})}),(0,p.jsx)(J.Z,{sx:{width:"1%"},children:(0,p.jsx)(de.Z,{onClick:a,children:(0,p.jsx)(me.Z,{color:"error"})})})]})},t)};(rn=r.memo(rn)).defaultProps={};var an=rn,on=["letterOptionId","children"],ln=function(e){var t,n,i,a,l=e.letterOptionId,s=(e.children,(0,pe.Z)(e,on)),u=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),c=(0,v.v9)((0,N.Z)(["api","list",C,"loader"])),d=null!==(t=(0,v.v9)((0,N.Z)(["api","list",C,"total"])))&&void 0!==t?t:0,m=null!==(n=(0,v.v9)((0,N.Z)(["api","list",C,"page"])))&&void 0!==n?n:1,f=null!==(i=(0,v.v9)((0,N.Z)(["api","list",C,"limit"])))&&void 0!==i?i:20,Z=(0,v.v9)((0,N.Z)(["api","list",C,"data"])),x=!(0,$.Z)(Z)||u||c,h=r.useCallback((function(e,t){return(0,q.T)(C,t)}),[]),j=r.useCallback((function(e){return(0,z.I)(C,e)}),[]),g=r.useCallback((function(e){return function(t){return(0,$e.n)(C,{entityId:e})()}}),[]);return r.useEffect((function(){!u&&(0,_e.Z)(l)&&(0,M.i)(C,{filter:{letterOptionId:l}})()}),[u,l]),r.useEffect((function(){return function(){return(0,L.K)(C)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Jt.Z,{visible:x}),!x&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(X.Z,(0,o.Z)((0,o.Z)({withChangeLimit:!0,total:d,page:m,limit:f,length:null!==(a=(Z||[]).length)&&void 0!==a?a:0,onChange:h,onLimit:j,headRowCells:[(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Letter"})},"letter"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at"})},"createdAt")]},s),{},{children:(0,$.Z)(Z)&&Z.map((function(e,t){return(0,p.jsx)(an,{letterOptionId:l,id:e.id,letterId:e.letterId,createdAt:e.createdAt,onDrop:g(e.id)},e.id)}))}))})]})};(ln=r.memo(ln)).defaultProps={};var sn=ln,un=n(1701),cn=n(3960),dn=n(5546),mn=["children"],pn=function(e){e.children;var t,n,i,a=(0,pe.Z)(e,mn),l=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),s=(0,v.v9)((0,N.Z)(["api","list",g,"loader"])),u=null!==(t=(0,v.v9)((0,N.Z)(["api","list",g,"total"])))&&void 0!==t?t:0,c=null!==(n=(0,v.v9)((0,N.Z)(["api","list",g,"page"])))&&void 0!==n?n:1,d=null!==(i=(0,v.v9)((0,N.Z)(["api","list",g,"limit"])))&&void 0!==i?i:20,m=(0,v.v9)((0,N.Z)(["api","list",g,"query"])),f=(0,v.v9)((0,N.Z)(["api","list",g,"data"])),Z=!(0,$.Z)(f)||s||l,x=r.useCallback((function(e,t){return(0,q.T)(g,t)}),[]),h=r.useCallback((function(e){return(0,z.I)(g,e)}),[]),j=r.useCallback((function(){}),[]);return r.useEffect((function(){l||(0,M.i)(g,{page:c,limit:d,query:m})()}),[l,c,d,m]),r.useEffect((function(){return function(){return(0,L.K)(g)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:Z}),!Z&&(0,p.jsx)(tt.Z,(0,o.Z)((0,o.Z)({},a),{},{total:u,page:c,limit:d,onChangePage:x,onLimit:h,onSearch:j,children:f}))]})};(pn=r.memo(pn)).defaultProps={name:"letterId",multiple:!1,onChange:function(){}};var fn=pn,Zn=function(e){var t,n=e.optionId,i=null!==(t=(0,v.v9)((0,N.Z)(["api","form",g,"letterId"])))&&void 0!==t?t:"",o=(0,v.v9)((0,N.Z)(["api","form",g,"errors","letterId"])),l=(0,v.v9)((0,N.Z)(["api","form",g,"loader"])),s=(0,v.v9)((0,N.Z)(["api","list",C,"loader"])),u=r.useCallback((function(e){return(0,un.H)(g,e)({entityId:n,storeListName:C,path:"".concat(g,"/").concat(n,"/option"),columnName:"letterId"})}),[n]),c=r.useCallback((function(e){return(0,et.F)(g,"letterId",e.target.value)()}),[]),d=r.useCallback((function(){(0,cn.Q)(g)(),(0,Se.z)(g)()}),[]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(dn.Z,{loader:!0===l||!0===s,maxWidth:"xs",id:g,onHandle:u,onClose:d,children:(0,p.jsx)(a.Z,{py:2,children:(0,p.jsx)(fn,{disabled:!0===l||!0===s,name:"letterId",label:"Select letter",value:i,onChange:c,error:o})})})})};(Zn=r.memo(Zn)).defaultProps={};var xn=Zn,hn=function(){var e=(0,v.v9)((0,N.Z)(["dialog",C,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",C,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",C,"loader"])),i=r.useCallback((function(t){return(0,j.R)(C,e,{sliceInList:!0})()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Mt.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:C,onHandle:i})})};(hn=r.memo(hn)).defaultProps={};var vn=hn,jn=n(3937),gn=n(7497),bn=n(8892),kn=n(6205),Cn=n(3588),yn=n(9105),In=n(7836),Dn=n(1403),Fn=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s,u,c,d,m;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(k,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[k]||{},i=r.id,a=r.name,o=r.description,l=r.dataTypeId,s=r.regex,u=r.isRequired,c=r.isMultiline,d=r.isNotDelete,m={},i&&!(0,Ft.Z)(i)&&(m.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(m.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(m.description="The value is in the wrong format."),!(0,Dn.Z)(l)&&(m.dataTypeId="The value is in the wrong format."),s&&!(0,In.Z)(s)&&(m.regex="The value is in the wrong format."),(0,Dt.Z)(u)&&!(0,It.Z)(u)&&(m.isRequired="The value is in the wrong format."),(0,Dt.Z)(c)&&!(0,It.Z)(c)&&(m.isMultiline="The value is in the wrong format."),(0,Dt.Z)(d)&&!(0,It.Z)(d)&&(m.isNotDelete="The value is in the wrong format."),!(Object.keys(m).length>0)){e.next=20;break}return e.next=16,(0,et.F)(k,"errors",m)();case 16:return e.next=18,(0,et.F)(k,"loader",!1)();case 18:e.next=21;break;case 20:(0,_e.Z)(n)?(0,yt.L)(k,n)():(0,Ct.Y)(k)();case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pn=Fn,Sn=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",k,"loader"])),o=(0,v.v9)((0,N.Z)(["api","form",k],(function(e){return Object.keys(e||{}).length}))),l=(0,v.v9)((0,N.Z)(["api","form",k,"isNotDelete"])),s=(0,v.v9)((0,N.Z)(["api","form",k,"isDeleted"])),u=r.useCallback((function(t){return Pn(t,e)}),[e]),c=r.useCallback((function(t){return(0,$e.n)(k,{entityId:e})()}),[e]),d=r.useCallback((function(t){return(0,$e.n)(g,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(k,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(k)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(Je.Z,{onSubmit:u,onDrop:c,loader:n||(0,_e.Z)(e)&&o<6,isDeleted:s,isNotDelete:l,showDropButton:!l&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:k}),(0,p.jsx)(xt.Z,{storeFormName:k}),(0,p.jsx)(ht.Z,{storeFormName:k}),(0,p.jsx)(gn.Z,{storeFormName:k}),(0,p.jsx)(bn.Z,{storeFormName:k}),(0,p.jsx)(kn.Z,{storeFormName:k}),(0,p.jsx)(Cn.Z,{storeFormName:k}),(0,p.jsx)(yn.Z,{storeFormName:k}),(0,p.jsx)(vt.Z,{storeFormName:k}),(0,_e.Z)(e)&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(jn.Z,{children:"Letters"}),(0,p.jsx)(Qt.Z,{children:"List of letters that will own the current option."}),(0,p.jsx)(a.Z,{pt:2,pb:4,children:(0,p.jsx)(ie.Z,{onClick:d,children:"Add new relation"})}),(0,p.jsx)(sn,{letterOptionId:e})]})]}),(0,p.jsx)(xn,{optionId:e}),(0,p.jsx)(vn,{})]})};(Sn=r.memo(Sn)).defaultProps={};var wn=Sn,Nn=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/letter/options",text:"Options"},{key:"/mail/letter/options/".concat(e),text:"0"===e?"Create new option":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Tn=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",k,"isDeleted"]));return r.useEffect((function(){return Nn(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add option",children:"Edit option"})})})};(Tn=r.memo(Tn)).defaultProps={};var An=Tn,En=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(An,{}),(0,p.jsx)(zt,{}),(0,p.jsx)(wn,{})]})};(En=r.memo(En)).defaultProps={};var On=En,Rn=n(2481),Ln=function(){var e=(0,v.v9)((0,N.Z)(["dialog",b,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",b,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",b,"loader"])),i=r.useCallback((function(t){return(0,j.R)(b,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Rn.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:b,onHandle:i})})};(Ln=r.memo(Ln)).defaultProps={};var Wn=Ln,Mn=n(6236),qn=n(461),zn=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",b,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",b,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",b,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",b,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",b,"data"])),j=r.useMemo((function(){return["api","list",b]}),[]),g=!(0,$.Z)(h)||d||m,k=r.useCallback((function(e,t){return(0,q.T)(b,t)}),[]),C=r.useCallback((function(e){return(0,z.I)(b,e)}),[]),y=r.useCallback((function(e){return(0,B.a)(b,"id",e)}),[]),I=r.useCallback((function(e){return(0,B.a)(b,"createdAt",e)}),[]),D=r.useCallback((function(e){return function(t){return(0,V.Y)(b,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(b,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(b,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(b,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(b)}),[]),T=r.useCallback((function(){return(0,W.P)(b,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(b,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(b)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/letter/statuses/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(Mn.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:k,onLimit:C,onSortId:y,onSortCreatedAt:I,children:(0,$.Z)(h)&&h.map((function(e){return(0,p.jsx)(qn.Z,{bulkDeletion:!0,id:e.id,to:"/mail/letter/statuses/".concat(e.id),name:e.name,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:D(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})]})};(zn=r.memo(zn)).defaultProps={};var Bn=zn,Vn=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/letter/statuses",text:"Statuses"}])()},Hn=function(){return r.useEffect((function(){return Vn()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.Z,{pb:2,children:[(0,p.jsx)(qe.Z,{children:"Statuses"}),(0,p.jsx)(Qt.Z,{children:"Statuses"})]})})};(Hn=r.memo(Hn)).defaultProps={};var Kn=Hn,Qn=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Kn,{}),(0,p.jsx)(Bn,{}),(0,p.jsx)(Wn,{})]})};(Qn=r.memo(Qn)).defaultProps={};var Un=Qn,Yn=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(b,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[b]||{},i=r.id,a=r.name,o=r.description,l=r.isNotDelete,s={},i&&!(0,Ft.Z)(i)&&(s.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(s.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(s.description="The value is in the wrong format."),(0,Dt.Z)(l)&&!(0,It.Z)(l)&&(s.isNotDelete="The value is in the wrong format."),!(Object.keys(s).length>0)){e.next=16;break}return e.next=12,(0,et.F)(b,"errors",s)();case 12:return e.next=14,(0,et.F)(b,"loader",!1)();case 14:e.next=17;break;case 16:(0,_e.Z)(n)?(0,yt.L)(b,n)():(0,Ct.Y)(b)();case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gn=Yn,$n=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",b,"loader"])),a=(0,v.v9)((0,N.Z)(["api","form",b],(function(e){return Object.keys(e||{}).length}))),o=(0,v.v9)((0,N.Z)(["api","form",b,"isNotDelete"])),l=(0,v.v9)((0,N.Z)(["api","form",b,"isDeleted"])),s=r.useCallback((function(t){return Gn(t,e)}),[e]),u=r.useCallback((function(t){return(0,$e.n)(b,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(b,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(b)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:s,onDrop:u,loader:n||(0,_e.Z)(e)&&a<6,isDeleted:l,isNotDelete:o,showDropButton:!o&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:b}),(0,p.jsx)(xt.Z,{storeFormName:b}),(0,p.jsx)(ht.Z,{storeFormName:b}),(0,p.jsx)(vt.Z,{storeFormName:b})]})})};($n=r.memo($n)).defaultProps={};var _n=$n,Jn=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/letter/statuses",text:"Statuses"},{key:"/mail/letter/statuses/".concat(e),text:"0"===e?"Create new status":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Xn=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",b,"isDeleted"]));return r.useEffect((function(){return Jn(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add status",children:"Edit status"})})})};(Xn=r.memo(Xn)).defaultProps={};var er=Xn,tr=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(er,{}),(0,p.jsx)(Wn,{}),(0,p.jsx)(_n,{})]})};(tr=r.memo(tr)).defaultProps={};var nr=tr,rr=function(){var e=(0,v.v9)((0,N.Z)(["dialog",y,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",y,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",y,"loader"])),i=r.useCallback((function(t){return(0,j.R)(y,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(A.Z,{id:y,loader:!0===t||!0===n,maxWidth:"xs",title:"Delete template?",actions:(0,p.jsx)(E.Z,{loader:!0===t||!0===n,onClick:i,children:"OK"}),children:(0,p.jsx)(T.Z,{children:"Are you sure you want to delete the current template? This operation is irreversible and may compromise data integrity."})})})};(rr=r.memo(rr)).defaultProps={};var ir=rr,ar=["value","defaultValue","children"],or=function(e){var t,n,i,a=e.value,l=e.defaultValue,s=(e.children,(0,pe.Z)(e,ar)),u=null!==a&&void 0!==a?a:l,c=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),d=(0,v.v9)((0,N.Z)(["api","list",I,"loader"])),m=null!==(t=(0,v.v9)((0,N.Z)(["api","list",I,"total"])))&&void 0!==t?t:0,f=null!==(n=(0,v.v9)((0,N.Z)(["api","list",I,"page"])))&&void 0!==n?n:1,Z=null!==(i=(0,v.v9)((0,N.Z)(["api","list",I,"limit"])))&&void 0!==i?i:20,x=(0,v.v9)((0,N.Z)(["api","list",I,"query"]))||"",h=(0,v.v9)((0,N.Z)(["api","list",I,"data"])),j=!(0,$.Z)(h)||d||c,g=r.useCallback((function(e,t){return(0,q.T)(I,t)}),[]),b=r.useCallback((function(e){return(0,z.I)(I,e)}),[]),k=r.useCallback((function(){}),[]);return r.useEffect((function(){c||(0,M.i)(I,{page:f,limit:Z,query:x})()}),[c,f,Z,x]),r.useEffect((function(){return function(){return(0,L.K)(I)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:j}),!j&&(0,p.jsx)(fe.Z,(0,o.Z)((0,o.Z)({},s),{},{value:a,defaultValue:l,total:m,page:f,limit:Z,onChangePage:g,onLimit:b,onSearch:k,children:h.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{active:!!u.find((function(t){return t.value===e.id}))})}))}))]})};(or=r.memo(or)).defaultProps={name:"templateStatusId",multiple:!1,onChange:function(){}};var lr=or,sr=function(e){var t=e.onChange,n=e.onInput,a=(0,i.TH)().search,o=r.useState((function(){return(0,ae.Z)()})),s=(0,l.Z)(o,1)[0],u=(0,v.v9)((0,N.Z)(["api","list",I,"data","length"]))>0?(0,se.Z)(a,I,"templateStatusId"):[],c=r.useCallback((function(e){(0,oe.V)(e,(0,ue.Z)("templateStatusId")),t(e),n(e)}),[t,n]),d=r.useCallback((function(e){(0,le.h)((0,ue.Z)("templateStatusId")),t(e),n(e)}),[t,n]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(ce.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(ce.ZP,{item:!0,xs:!1,children:(0,p.jsx)(de.Z,{size:"small",color:"error",onClick:d,children:(0,p.jsx)(me.Z,{fontSize:"small"})})}),(0,p.jsx)(ce.ZP,{item:!0,xs:!0,children:(0,p.jsx)(lr,{label:"Status",name:s,onChange:c,value:u})})]})})};(sr=r.memo(sr)).defaultProps={onChange:function(){},onInput:function(){}};var ur=sr,cr=["children"],dr=function(e){var t=e.children,n=(0,pe.Z)(e,cr),i=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),a=(0,v.v9)((0,N.Z)(["api","form","".concat(I,"/").concat(t),"name"]));return r.useEffect((function(){i||(0,Pe.y)((function(){return"".concat(I,"/").concat(t)}),{entityId:t,withLoop:!0})()}),[i,t]),r.useEffect((function(){return function(){(0,Se.z)("".concat(I,"/").concat(t))(),(0,we.B)("".concat(I,"/").concat(t))}}),[t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(_.Z,(0,o.Z)((0,o.Z)({component:"div"},n),{},{children:null!==a&&void 0!==a?a:t}))})};(dr=r.memo(dr)).defaultProps={};var mr=dr,pr=function(e){var t=e.bulkDeletion,n=e.id,i=e.name,a=e.description,o=e.templateStatusId,l=e.userId,s=e.isDeleted,u=e.isNotDelete,c=e.createdAt,d=e.updatedAt,m=e.onClose,f=e.onDrop,Z=e.onRestore,x=e.onMenu,h=e.onCheck,j=e.storePath,g=(0,v.v9)((0,ke.Z)([].concat((0,be.Z)(j),["selected"]),n));return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Ce.Z,{children:[t&&(0,$.Z)(j)&&(0,p.jsx)(J.Z,{padding:"checkbox",sx:{minWidth:"1%"},children:(0,p.jsx)(ye.Z,{checked:g,onChange:h})}),(0,p.jsx)(J.Z,{sx:{minWidth:"21%"},children:(0,p.jsx)(De.Z,{to:"/mail/template/".concat(n),isDeleted:s,children:n})}),(0,p.jsxs)(J.Z,{sx:{minWidth:"17%"},children:[(0,p.jsx)(De.Z,{to:"mail/template/".concat(n),isDeleted:s,variant:"h6",children:i}),(0,p.jsx)("div",{}),(0,p.jsx)(De.Z,{to:"mail/template/".concat(n),isDeleted:s,variant:"caption",children:a})]}),(0,p.jsx)(J.Z,{sx:{minWidth:"20%"},children:(0,p.jsx)(mr,{children:o})}),(0,p.jsx)(J.Z,{sx:{minWidth:"10%"},children:(0,p.jsx)(Ee.Z,{children:l})}),(0,p.jsx)(J.Z,{sx:{width:"20%"},children:(0,p.jsx)(Fe.Z,{createdAt:c,updatedAt:d})}),(0,p.jsxs)(J.Z,{sx:{width:"1%"},children:[(0,p.jsx)(de.Z,{onClick:x,children:(0,p.jsx)(Ie.Z,{})}),(0,p.jsx)(Oe.Z,{id:n,isDeleted:s,isNotDelete:u,onClose:m,onDrop:f,onRestore:Z})]})]},n)})};(pr=r.memo(pr)).defaultProps={bulkDeletion:!1,onCheck:function(){}};var fr=pr,Zr=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",y,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",y,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",y,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",y,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",y,"data"])),j=r.useMemo((function(){return["api","list",y]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(y,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(y,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(y,"id",e)}),[]),I=r.useCallback((function(e){return(0,B.a)(y,"createdAt",e)}),[]),D=r.useCallback((function(e){return function(t){return(0,V.Y)(y,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(y,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(y,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(y,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(y)}),[]),T=r.useCallback((function(){return(0,W.P)(y,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(y,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(y)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/template/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T}),(0,p.jsx)(ur,{onInput:T})]}),!g&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(X.Z,{bulkDeletion:!0,withChangeLimit:!0,loader:m,total:f,page:Z,limit:x,length:h.length,onChange:b,onLimit:k,headRowCells:[(0,p.jsx)(ee.Z,{name:"id",onChange:C,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})},"id"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})},"main"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})},"letterStatusId"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})},"userId"),(0,p.jsx)(ee.Z,{name:"createdAt",onChange:I,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})},"createdAt")],children:h.map((function(e){return(0,p.jsx)(fr,{bulkDeletion:!0,id:e.id,name:e.name,description:e.description,templateStatusId:e.templateStatusId,userId:e.userId,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:D(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})})]})};(Zr=r.memo(Zr)).defaultProps={};var xr=Zr,hr=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template",text:"Templates"}])()},vr=function(){return r.useEffect((function(){return hr()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{children:"Letters list"})})})};(vr=r.memo(vr)).defaultProps={};var jr=vr,gr=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(jr,{}),(0,p.jsx)(xr,{}),(0,p.jsx)(ir,{})]})};(gr=r.memo(gr)).defaultProps={};var br=gr,kr=n(5519),Cr=["children"],yr=function(e){e.children;var t,n,i,a=(0,pe.Z)(e,Cr),l=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),s=(0,v.v9)((0,N.Z)(["api","list",I,"loader"])),u=null!==(t=(0,v.v9)((0,N.Z)(["api","list",I,"total"])))&&void 0!==t?t:0,c=null!==(n=(0,v.v9)((0,N.Z)(["api","list",I,"page"])))&&void 0!==n?n:1,d=null!==(i=(0,v.v9)((0,N.Z)(["api","list",I,"limit"])))&&void 0!==i?i:20,m=(0,v.v9)((0,N.Z)(["api","list",I,"query"])),f=(0,v.v9)((0,N.Z)(["api","list",I,"data"])),Z=!(0,$.Z)(f)||s||l,x=r.useCallback((function(e,t){return(0,q.T)(I,t)}),[]),h=r.useCallback((function(e){return(0,z.I)(I,e)}),[]),j=r.useCallback((function(){}),[]);return r.useEffect((function(){l||(0,M.i)(I,{page:c,limit:d,query:m})()}),[l,c,d,m]),r.useEffect((function(){return function(){return(0,L.K)(I)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:Z}),!Z&&(0,p.jsx)(tt.Z,(0,o.Z)((0,o.Z)({},a),{},{total:u,page:c,limit:d,onChangePage:x,onLimit:h,onSearch:j,children:f}))]})};(yr=r.memo(yr)).defaultProps={name:"templateStatusId",multiple:!1,onChange:function(){}};var Ir=yr,Dr=["storeFormName"],Fr=function(e){var t=e.storeFormName,n=(0,pe.Z)(e,Dr),i=(0,v.v9)((0,N.Z)(["api","form",t,"loader"])),l=(0,v.v9)((0,N.Z)(["api","form",t,"templateStatusId"]))||"",s=(0,v.v9)((0,N.Z)(["api","form",t,"errors","templateStatusId"])),u=r.useCallback((function(e){return(0,et.F)(t,"templateStatusId",e.target.value)()}),[t]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{py:2,maxWidth:"240px",children:(0,p.jsx)(Ir,(0,o.Z)({disabled:i,name:"templateStatusId",label:"Template status",value:l,onChange:u,error:s},n))})})};(Fr=r.memo(Fr)).defaultProps={storeFormName:y};var Pr=Fr,Sr=n(6336),wr=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s,u,c,d;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(y,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[y]||{},i=r.id,a=r.name,o=r.description,l=r.fromEmail,s=r.fromName,u=r.templateStatusId,c=r.isNotDelete,d={},i&&!(0,Ft.Z)(i)&&(d.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(d.name="The value is in the wrong format."),!(0,Pt.Z)(s)&&(d.fromName="The value is in the wrong format."),!(0,Sr.Z)(l)&&(d.fromEmail="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(d.description="The value is in the wrong format."),!(0,Ft.Z)(u)&&(d.templateStatusId="The value is in the wrong format."),(0,Dt.Z)(c)&&!(0,It.Z)(c)&&(d.isNotDelete="The value is in the wrong format."),!(Object.keys(d).length>0)){e.next=19;break}return e.next=15,(0,et.F)(y,"errors",d)();case 15:return e.next=17,(0,et.F)(y,"loader",!1)();case 17:e.next=20;break;case 19:(0,_e.Z)(n)?((0,yt.L)(y,n)(),(0,kt.k)(D,{path:"".concat(y,"/").concat(n,"/options")})()):((0,Ct.Y)(y)(),(0,kt.k)(D,{path:"".concat(y,"/").concat(n,"/options")})());case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nr=wr,Tr=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",y,"loader"])),a=(0,v.v9)((0,N.Z)(["api","list",D,"loader"])),l=(0,v.v9)((0,N.Z)(["api","form",y],(function(e){return Object.keys(e||{}).length}))),s=(0,v.v9)((0,N.Z)(["api","form",y,"isNotDelete"])),u=(0,v.v9)((0,N.Z)(["api","form",y,"isDeleted"])),c=(0,v.v9)((0,N.Z)(["api","list",D,"data"])),d=r.useCallback((function(t){return Nr(t,e)}),[e]),m=r.useCallback((function(t){return(0,$e.n)(y,{entityId:e})()}),[e]),f=r.useCallback((function(t){return(0,Ye.P)(D,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]),Z=r.useCallback((function(t){return(0,Ue.p)(D,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]),x=r.useCallback((function(t){return(0,Ge.T)(D,(0,o.Z)((0,o.Z)({},t),{},{entityId:e}))}),[e]);return r.useEffect((function(){!t&&(0,_e.Z)(e)&&((0,Pe.y)(y,e)(),(0,M.i)(D,{relations:{templateTemplateOptions:{templateTemplateTemplateOptions:!0}},filter:{isDeleted:!1,templateTemplateOptions:{templateId:e}}})())}),[t,e]),r.useEffect((function(){return function(){(0,Se.z)(y)(),(0,L.K)(D)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:d,onDrop:m,loader:n||(0,_e.Z)(e)&&l<6,isDeleted:u,isNotDelete:s,showDropButton:!s&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:y}),(0,p.jsx)(xt.Z,{storeFormName:y}),(0,p.jsx)(ht.Z,{storeFormName:y}),(0,p.jsx)(kr.Z,{storeFormName:y,name:"fromEmail",label:"From email",required:!0}),(0,p.jsx)(Zt.default,{storeFormName:y,name:"fromName",label:"From name",required:!0}),(0,p.jsx)(Pr,{storeFormName:y}),(0,p.jsx)(vt.Z,{storeFormName:y}),(0,_e.Z)(e)&&(0,p.jsx)(Xe.Z,{title:"Options:",entityId:e,loader:!(0,$.Z)(c)||t||a,onChange:f,onAdd:Z,onDrop:x,relationTableName:"templateTemplateOptions",valueTableName:"templateTemplateTemplateOptions",children:c})]})})};(Tr=r.memo(Tr)).defaultProps={};var Ar=Tr,Er=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template",text:"Templates"},{key:"/mail/template/".concat(e),text:"0"===e?"Create new template":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Or=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",y,"isDeleted"]));return r.useEffect((function(){return Er(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Create new template",children:"Edit template"})})})};(Or=r.memo(Or)).defaultProps={};var Rr=Or,Lr=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Rr,{}),(0,p.jsx)(ir,{}),(0,p.jsx)(Ar,{})]})};(Lr=r.memo(Lr)).defaultProps={};var Wr=Lr,Mr=function(){var e=(0,v.v9)((0,N.Z)(["dialog",D,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",D,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",D,"loader"])),i=r.useCallback((function(t){return(0,j.R)(D,e,{sliceInList:!0})()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Mt.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:D,onHandle:i})})};(Mr=r.memo(Mr)).defaultProps={};var qr=Mr,zr=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",D,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",D,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",D,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",D,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",D,"data"])),j=r.useMemo((function(){return["api","list",D]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(D,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(D,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(D,"id",e)}),[]),y=r.useCallback((function(e){return(0,B.a)(D,"createdAt",e)}),[]),I=r.useCallback((function(e){return function(t){return(0,V.Y)(D,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(D,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(D,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(D,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(D)}),[]),T=r.useCallback((function(){return(0,W.P)(D,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(D,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(D)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/template/options/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(Bt.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:b,onLimit:k,onSortId:C,onSortCreatedAt:y,children:(0,$.Z)(h)&&h.map((function(e){return(0,p.jsx)(Vt.Z,{bulkDeletion:!0,id:e.id,to:"/mail/template/options/".concat(e.id),name:e.name,description:e.description,dataTypeId:e.dataTypeId,defaultValue:e.defaultValue,regex:e.regex,isRequired:e.isRequired,isMultiline:e.isMultiline,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,createdAt:e.createdAt,updatedAt:e.updatedAt,onDrop:I(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})]})};(zr=r.memo(zr)).defaultProps={};var Br=zr,Vr=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template/options",text:"Options"}])()},Hr=function(){return r.useEffect((function(){return Vr()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.Z,{pb:2,children:[(0,p.jsx)(qe.Z,{children:"Options"}),(0,p.jsx)(Qt.Z,{children:"Managing additional templates of the current entity."})]})})};(Hr=r.memo(Hr)).defaultProps={};var Kr=Hr,Qr=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Kr,{}),(0,p.jsx)(Br,{}),(0,p.jsx)(qr,{})]})};(Qr=r.memo(Qr)).defaultProps={};var Ur=Qr,Yr=["children"],Gr=function(e){var t=e.children,n=(0,pe.Z)(e,Yr),i=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),a=(0,v.v9)((0,N.Z)(["api","form","".concat(y,"/").concat(t),"name"]));return r.useEffect((function(){i||(0,Pe.y)((function(){return"".concat(y,"/").concat(t)}),{entityId:t,withLoop:!0})()}),[i,t]),r.useEffect((function(){return function(){(0,Se.z)("".concat(y,"/").concat(t))(),(0,we.B)("".concat(y,"/").concat(t))}}),[t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(_.Z,(0,o.Z)((0,o.Z)({component:"div"},n),{},{children:null!==a&&void 0!==a?a:t}))})};(Gr=r.memo(Gr)).defaultProps={};var $r=Gr,_r=function(e){var t=e.id,n=(e.templateOptionId,e.templateId),i=e.createdAt,a=e.onDrop;return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Ce.Z,{children:[(0,p.jsx)(J.Z,{sx:{minWidth:"49%"},children:(0,p.jsx)($r,{children:n})}),(0,p.jsx)(J.Z,{sx:{width:"50%"},children:(0,p.jsx)(Xt.Z,{children:i})}),(0,p.jsx)(J.Z,{sx:{width:"1%"},children:(0,p.jsx)(de.Z,{onClick:a,children:(0,p.jsx)(me.Z,{color:"error"})})})]})},t)};(_r=r.memo(_r)).defaultProps={};var Jr=_r,Xr=["templateOptionId","children"],ei=function(e){var t,n,i,a,l=e.templateOptionId,s=(e.children,(0,pe.Z)(e,Xr)),u=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),c=(0,v.v9)((0,N.Z)(["api","list",F,"loader"])),d=null!==(t=(0,v.v9)((0,N.Z)(["api","list",F,"total"])))&&void 0!==t?t:0,m=null!==(n=(0,v.v9)((0,N.Z)(["api","list",F,"page"])))&&void 0!==n?n:1,f=null!==(i=(0,v.v9)((0,N.Z)(["api","list",F,"limit"])))&&void 0!==i?i:20,Z=(0,v.v9)((0,N.Z)(["api","list",F,"data"])),x=!(0,$.Z)(Z)||u||c,h=r.useCallback((function(e,t){return(0,q.T)(F,t)}),[]),j=r.useCallback((function(e){return(0,z.I)(F,e)}),[]),g=r.useCallback((function(e){return function(t){return(0,$e.n)(F,{entityId:e})()}}),[]);return r.useEffect((function(){!u&&(0,_e.Z)(l)&&(0,M.i)(F,{filter:{templateOptionId:l}})()}),[u,l]),r.useEffect((function(){return function(){return(0,L.K)(F)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Jt.Z,{visible:x}),!x&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(X.Z,(0,o.Z)((0,o.Z)({withChangeLimit:!0,total:d,page:m,limit:f,length:null!==(a=(Z||[]).length)&&void 0!==a?a:0,onChange:h,onLimit:j,headRowCells:[(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Template"})},"template"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at"})},"createdAt")]},s),{},{children:(0,$.Z)(Z)&&Z.map((function(e,t){return(0,p.jsx)(Jr,{templateOptionId:l,id:e.id,templateId:e.templateId,createdAt:e.createdAt,onDrop:g(e.id)},e.id)}))}))})]})};(ei=r.memo(ei)).defaultProps={};var ti=ei,ni=function(e){var t,n=e.optionId,i=null!==(t=(0,v.v9)((0,N.Z)(["api","form",y,"templateId"])))&&void 0!==t?t:"",o=(0,v.v9)((0,N.Z)(["api","form",y,"errors","templateId"])),l=(0,v.v9)((0,N.Z)(["api","form",y,"loader"])),s=(0,v.v9)((0,N.Z)(["api","list",F,"loader"])),u=r.useCallback((function(e){return(0,un.H)(y,e)({entityId:n,storeListName:F,path:"".concat(y,"/").concat(n,"/option"),columnName:"templateId"})}),[n]),c=r.useCallback((function(e){return(0,et.F)(y,"templateId",e.target.value)()}),[]),d=r.useCallback((function(){(0,cn.Q)(y)(),(0,Se.z)(y)()}),[]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(dn.Z,{loader:!0===l||!0===s,maxWidth:"xs",id:y,onHandle:u,onClose:d,children:(0,p.jsx)(a.Z,{py:2,children:(0,p.jsx)(ct,{disabled:!0===l||!0===s,name:"templateId",label:"Select template",value:i,onChange:c,error:o})})})})};(ni=r.memo(ni)).defaultProps={};var ri=ni,ii=function(){var e=(0,v.v9)((0,N.Z)(["dialog",F,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",F,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",F,"loader"])),i=r.useCallback((function(t){return(0,j.R)(F,e,{sliceInList:!0})()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Mt.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:F,onHandle:i})})};(ii=r.memo(ii)).defaultProps={};var ai=ii,oi=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s,u,c,d,m;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(D,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[D]||{},i=r.id,a=r.name,o=r.description,l=r.dataTypeId,s=r.regex,u=r.isRequired,c=r.isMultiline,d=r.isNotDelete,m={},i&&!(0,Ft.Z)(i)&&(m.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(m.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(m.description="The value is in the wrong format."),!(0,Dn.Z)(l)&&(m.dataTypeId="The value is in the wrong format."),s&&!(0,In.Z)(s)&&(m.regex="The value is in the wrong format."),(0,Dt.Z)(u)&&!(0,It.Z)(u)&&(m.isRequired="The value is in the wrong format."),(0,Dt.Z)(c)&&!(0,It.Z)(c)&&(m.isMultiline="The value is in the wrong format."),(0,Dt.Z)(d)&&!(0,It.Z)(d)&&(m.isNotDelete="The value is in the wrong format."),!(Object.keys(m).length>0)){e.next=20;break}return e.next=16,(0,et.F)(D,"errors",m)();case 16:return e.next=18,(0,et.F)(D,"loader",!1)();case 18:e.next=21;break;case 20:(0,_e.Z)(n)?(0,yt.L)(D,n)():(0,Ct.Y)(D)();case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),li=oi,si=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",D,"loader"])),o=(0,v.v9)((0,N.Z)(["api","form",D],(function(e){return Object.keys(e||{}).length}))),l=(0,v.v9)((0,N.Z)(["api","form",D,"isNotDelete"])),s=(0,v.v9)((0,N.Z)(["api","form",D,"isDeleted"])),u=r.useCallback((function(t){return li(t,e)}),[e]),c=r.useCallback((function(t){return(0,$e.n)(D,{entityId:e})()}),[e]),d=r.useCallback((function(t){return(0,$e.n)(y,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(D,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(D)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(Je.Z,{onSubmit:u,onDrop:c,loader:n||(0,_e.Z)(e)&&o<6,isDeleted:s,isNotDelete:l,showDropButton:!l&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:D}),(0,p.jsx)(xt.Z,{storeFormName:D}),(0,p.jsx)(ht.Z,{storeFormName:D}),(0,p.jsx)(gn.Z,{storeFormName:D}),(0,p.jsx)(bn.Z,{storeFormName:D}),(0,p.jsx)(kn.Z,{storeFormName:D}),(0,p.jsx)(Cn.Z,{storeFormName:D}),(0,p.jsx)(yn.Z,{storeFormName:D}),(0,p.jsx)(vt.Z,{storeFormName:D}),(0,_e.Z)(e)&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(jn.Z,{children:"Templates"}),(0,p.jsx)(Qt.Z,{children:"List of templates that will own the current option."}),(0,p.jsx)(a.Z,{pt:2,pb:4,children:(0,p.jsx)(ie.Z,{onClick:d,children:"Add new relation"})}),(0,p.jsx)(ti,{templateOptionId:e})]})]}),(0,p.jsx)(ri,{optionId:e}),(0,p.jsx)(ai,{})]})};(si=r.memo(si)).defaultProps={};var ui=si,ci=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template/options",text:"Options"},{key:"/mail/template/options/".concat(e),text:"0"===e?"Create new option":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},di=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",D,"isDeleted"]));return r.useEffect((function(){return ci(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add option",children:"Edit option"})})})};(di=r.memo(di)).defaultProps={};var mi=di,pi=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(mi,{}),(0,p.jsx)(qr,{}),(0,p.jsx)(ui,{})]})};(pi=r.memo(pi)).defaultProps={};var fi=pi,Zi=function(){var e=(0,v.v9)((0,N.Z)(["dialog",S,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",S,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",S,"loader"])),i=r.useCallback((function(t){return(0,j.R)(S,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Rn.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:S,onHandle:i})})};(Zi=r.memo(Zi)).defaultProps={};var xi=Zi,hi=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",I,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",I,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",I,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",I,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",I,"data"])),j=r.useMemo((function(){return["api","list",I]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(I,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(I,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(I,"id",e)}),[]),y=r.useCallback((function(e){return(0,B.a)(I,"createdAt",e)}),[]),D=r.useCallback((function(e){return function(t){return(0,V.Y)(I,e)}}),[]),F=r.useCallback((function(e){return function(t){return(0,H.d)(I,e)}}),[]),P=r.useCallback((function(e){return(0,U.V)(I,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(I,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(I)}),[]),T=r.useCallback((function(){return(0,W.P)(I,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(I,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(I)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/template/statuses/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(Mn.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:b,onLimit:k,onSortId:C,onSortCreatedAt:y,children:(0,$.Z)(h)&&h.map((function(e){return(0,p.jsx)(qn.Z,{bulkDeletion:!0,id:e.id,to:"/mail/template/statuses/".concat(e.id),name:e.name,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:D(e.id),onRestore:F(e.id),onMenu:A(e.id),onCheck:P(e.id),storePath:j},e.id)}))})]})};(hi=r.memo(hi)).defaultProps={};var vi=hi,ji=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template/statuses",text:"Statuses"}])()},gi=function(){return r.useEffect((function(){return ji()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.Z,{pb:2,children:[(0,p.jsx)(qe.Z,{children:"Statuses"}),(0,p.jsx)(Qt.Z,{children:"Statuses"})]})})};(gi=r.memo(gi)).defaultProps={};var bi=gi,ki=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(bi,{}),(0,p.jsx)(vi,{}),(0,p.jsx)(xi,{})]})};(ki=r.memo(ki)).defaultProps={};var Ci=ki,yi=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(I,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[I]||{},i=r.id,a=r.name,o=r.description,l=r.isNotDelete,s={},i&&!(0,Ft.Z)(i)&&(s.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(s.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(s.description="The value is in the wrong format."),(0,Dt.Z)(l)&&!(0,It.Z)(l)&&(s.isNotDelete="The value is in the wrong format."),!(Object.keys(s).length>0)){e.next=16;break}return e.next=12,(0,et.F)(I,"errors",s)();case 12:return e.next=14,(0,et.F)(I,"loader",!1)();case 14:e.next=17;break;case 16:(0,_e.Z)(n)?(0,yt.L)(I,n)():(0,Ct.Y)(I)();case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ii=yi,Di=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",I,"loader"])),a=(0,v.v9)((0,N.Z)(["api","form",I],(function(e){return Object.keys(e||{}).length}))),o=(0,v.v9)((0,N.Z)(["api","form",I,"isNotDelete"])),l=(0,v.v9)((0,N.Z)(["api","form",I,"isDeleted"])),s=r.useCallback((function(t){return Ii(t,e)}),[e]),u=r.useCallback((function(t){return(0,$e.n)(I,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(I,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(I)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:s,onDrop:u,loader:n||(0,_e.Z)(e)&&a<6,isDeleted:l,isNotDelete:o,showDropButton:!o&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:I}),(0,p.jsx)(xt.Z,{storeFormName:I}),(0,p.jsx)(ht.Z,{storeFormName:I}),(0,p.jsx)(vt.Z,{storeFormName:I})]})})};(Di=r.memo(Di)).defaultProps={};var Fi=Di,Pi=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/template/statuses",text:"Statuses"},{key:"/mail/template/statuses/".concat(e),text:"0"===e?"Create new status":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Si=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",I,"isDeleted"]));return r.useEffect((function(){return Pi(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add status",children:"Edit status"})})})};(Si=r.memo(Si)).defaultProps={};var wi=Si,Ni=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(wi,{}),(0,p.jsx)(xi,{}),(0,p.jsx)(Fi,{})]})};(Ni=r.memo(Ni)).defaultProps={};var Ti=Ni,Ai=function(){var e=(0,v.v9)((0,N.Z)(["dialog",P,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",P,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",P,"loader"])),i=r.useCallback((function(t){return(0,j.R)(P,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(A.Z,{id:P,loader:!0===t||!0===n,maxWidth:"xs",title:"Delete report?",actions:(0,p.jsx)(E.Z,{loader:!0===t||!0===n,onClick:i,children:"OK"}),children:(0,p.jsx)(T.Z,{children:"Are you sure you want to delete the current report? This operation is irreversible and may compromise data integrity."})})})};(Ai=r.memo(Ai)).defaultProps={};var Ei=Ai,Oi=["value","defaultValue","children"],Ri=function(e){var t,n,i,a=e.value,l=e.defaultValue,s=(e.children,(0,pe.Z)(e,Oi)),u=null!==a&&void 0!==a?a:l,c=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),d=(0,v.v9)((0,N.Z)(["api","list",S,"loader"])),m=null!==(t=(0,v.v9)((0,N.Z)(["api","list",S,"total"])))&&void 0!==t?t:0,f=null!==(n=(0,v.v9)((0,N.Z)(["api","list",S,"page"])))&&void 0!==n?n:1,Z=null!==(i=(0,v.v9)((0,N.Z)(["api","list",S,"limit"])))&&void 0!==i?i:20,x=(0,v.v9)((0,N.Z)(["api","list",S,"query"]))||"",h=(0,v.v9)((0,N.Z)(["api","list",S,"data"])),j=!(0,$.Z)(h)||d||c,g=r.useCallback((function(e,t){return(0,q.T)(S,t)}),[]),b=r.useCallback((function(e){return(0,z.I)(S,e)}),[]),k=r.useCallback((function(){}),[]);return r.useEffect((function(){c||(0,M.i)(S,{page:f,limit:Z,query:x})()}),[c,f,Z,x]),r.useEffect((function(){return function(){return(0,L.K)(S)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ze.Z,{visible:j}),!j&&(0,p.jsx)(fe.Z,(0,o.Z)((0,o.Z)({},s),{},{value:a,defaultValue:l,total:m,page:f,limit:Z,onChangePage:g,onLimit:b,onSearch:k,children:h.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{active:!!u.find((function(t){return t.value===e.id}))})}))}))]})};(Ri=r.memo(Ri)).defaultProps={name:"reportStatusId",multiple:!1,onChange:function(){}};var Li=Ri,Wi=function(e){var t=e.onChange,n=e.onInput,a=(0,i.TH)().search,o=r.useState((function(){return(0,ae.Z)()})),s=(0,l.Z)(o,1)[0],u=(0,v.v9)((0,N.Z)(["api","list",S,"data","length"]))>0?(0,se.Z)(a,S,"reportStatusId"):[],c=r.useCallback((function(e){(0,oe.V)(e,(0,ue.Z)("reportStatusId")),t(e),n(e)}),[t,n]),d=r.useCallback((function(e){(0,le.h)((0,ue.Z)("reportStatusId")),t(e),n(e)}),[t,n]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(ce.ZP,{container:!0,alignItems:"center",children:[(0,p.jsx)(ce.ZP,{item:!0,xs:!1,children:(0,p.jsx)(de.Z,{size:"small",color:"error",onClick:d,children:(0,p.jsx)(me.Z,{fontSize:"small"})})}),(0,p.jsx)(ce.ZP,{item:!0,xs:!0,children:(0,p.jsx)(Li,{label:"Status",name:s,onChange:c,value:u})})]})})};(Wi=r.memo(Wi)).defaultProps={onChange:function(){},onInput:function(){}};var Mi=Wi,qi=["children"],zi=function(e){var t=e.children,n=(0,pe.Z)(e,qi),i=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),a=(0,v.v9)((0,N.Z)(["api","form","".concat(S,"/").concat(t),"name"]));return r.useEffect((function(){i||(0,Pe.y)((function(){return"".concat(S,"/").concat(t)}),{entityId:t,withLoop:!0})()}),[i,t]),r.useEffect((function(){return function(){(0,Se.z)("".concat(S,"/").concat(t))(),(0,we.B)("".concat(S,"/").concat(t))}}),[t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(_.Z,(0,o.Z)((0,o.Z)({component:"div"},n),{},{children:null!==a&&void 0!==a?a:t}))})};(zi=r.memo(zi)).defaultProps={};var Bi=zi,Vi=function(e){var t=e.bulkDeletion,n=e.id,i=e.action,a=e.content,o=e.reportStatusId,l=e.userId,s=e.isDeleted,u=e.isNotDelete,c=e.createdAt,d=e.updatedAt,m=e.onClose,f=e.onDrop,Z=e.onRestore,x=e.onMenu,h=e.onCheck,j=e.storePath,g=(0,v.v9)((0,ke.Z)([].concat((0,be.Z)(j),["selected"]),n));return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Ce.Z,{children:[t&&(0,$.Z)(j)&&(0,p.jsx)(J.Z,{padding:"checkbox",sx:{minWidth:"1%"},children:(0,p.jsx)(ye.Z,{checked:g,onChange:h})}),(0,p.jsx)(J.Z,{sx:{minWidth:"14%"},children:(0,p.jsx)(_.Z,{component:"div",children:n})}),(0,p.jsx)(J.Z,{sx:{minWidth:"14%"},children:(0,p.jsx)(_.Z,{component:"div",children:i})}),(0,p.jsx)(J.Z,{sx:{minWidth:"25%"},children:(0,p.jsx)(_.Z,{component:"div",children:a})}),(0,p.jsx)(J.Z,{sx:{minWidth:"14%"},children:(0,p.jsx)(Bi,{children:o})}),(0,p.jsx)(J.Z,{sx:{minWidth:"8%"},children:(0,p.jsx)(Ee.Z,{children:l})}),(0,p.jsx)(J.Z,{sx:{width:"13%"},children:(0,p.jsx)(Fe.Z,{createdAt:c,updatedAt:d})}),(0,p.jsxs)(J.Z,{sx:{width:"1%"},children:[(0,p.jsx)(de.Z,{onClick:x,children:(0,p.jsx)(Ie.Z,{})}),(0,p.jsx)(Oe.Z,{id:n,isDeleted:s,isNotDelete:u,onClose:m,onDrop:f,onRestore:Z,drop:!0,restore:!0})]})]},n)})};(Vi=r.memo(Vi)).defaultProps={bulkDeletion:!1,onCheck:function(){}};var Hi=Vi,Ki=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",P,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",P,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",P,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",P,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",P,"data"])),j=r.useMemo((function(){return["api","list",P]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(P,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(P,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(P,"id",e)}),[]),y=r.useCallback((function(e){return(0,B.a)(P,"createdAt",e)}),[]),I=r.useCallback((function(e){return function(t){return(0,V.Y)(P,e)}}),[]),D=r.useCallback((function(e){return function(t){return(0,H.d)(P,e)}}),[]),F=r.useCallback((function(e){return(0,U.V)(P,e)}),[]),S=r.useCallback((function(e){return(0,K.A)(P,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(P)}),[]),T=r.useCallback((function(){return(0,W.P)(P,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(P,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(P)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:S,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T}),(0,p.jsx)(Mi,{onInput:T})]}),!g&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(X.Z,{bulkDeletion:!0,withChangeLimit:!0,loader:m,total:f,page:Z,limit:x,length:h.length,onChange:b,onLimit:k,headRowCells:[(0,p.jsx)(ee.Z,{name:"id",onChange:C,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})},"id"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Action"})},"action"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Content"})},"content"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Status"})},"reportStatusId"),(0,p.jsx)(J.Z,{children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"User"})},"userId"),(0,p.jsx)(ee.Z,{name:"createdAt",onChange:y,children:(0,p.jsx)(_.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})},"createdAt")],children:h.map((function(e){return(0,p.jsx)(Hi,{bulkDeletion:!0,id:e.id,action:e.action,content:e.content,reportStatusId:e.reportStatusId,userId:e.userId,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:I(e.id),onRestore:D(e.id),onMenu:A(e.id),onCheck:F(e.id),storePath:j},e.id)}))})})]})};(Ki=r.memo(Ki)).defaultProps={};var Qi=Ki,Ui=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/report",text:"Reports"}])()},Yi=function(){return r.useEffect((function(){return Ui()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{children:"Reports list"})})})};(Yi=r.memo(Yi)).defaultProps={};var Gi=Yi,$i=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Gi,{}),(0,p.jsx)(Qi,{}),(0,p.jsx)(Ei,{})]})};($i=r.memo($i)).defaultProps={};var _i=$i,Ji=function(){var e=(0,v.v9)((0,N.Z)(["dialog",S,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",S,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",S,"loader"])),i=r.useCallback((function(t){return(0,j.R)(S,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(Rn.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:S,onHandle:i})})};(Ji=r.memo(Ji)).defaultProps={};var Xi=Ji,ea=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",S,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",S,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",S,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",S,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",S,"data"])),j=r.useMemo((function(){return["api","list",S]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(S,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(S,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(S,"id",e)}),[]),y=r.useCallback((function(e){return(0,B.a)(S,"createdAt",e)}),[]),I=r.useCallback((function(e){return function(t){return(0,V.Y)(S,e)}}),[]),D=r.useCallback((function(e){return function(t){return(0,H.d)(S,e)}}),[]),F=r.useCallback((function(e){return(0,U.V)(S,e)}),[]),P=r.useCallback((function(e){return(0,K.A)(S,e)}),[]),w=r.useCallback((function(){return(0,Q.D)(S)}),[]),T=r.useCallback((function(){return(0,W.P)(S,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(S,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(S)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/report/statuses/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:P,onDrop:w,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(Mn.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:b,onLimit:k,onSortId:C,onSortCreatedAt:y,children:(0,$.Z)(h)&&h.map((function(e){return(0,p.jsx)(qn.Z,{bulkDeletion:!0,id:e.id,to:"/mail/report/statuses/".concat(e.id),name:e.name,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,onDrop:I(e.id),onRestore:D(e.id),onMenu:A(e.id),onCheck:F(e.id),storePath:j},e.id)}))})]})};(ea=r.memo(ea)).defaultProps={};var ta=ea,na=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/report/statuses",text:"Statuses"}])()},ra=function(){return r.useEffect((function(){return na()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.Z,{pb:2,children:[(0,p.jsx)(qe.Z,{children:"Statuses"}),(0,p.jsx)(Qt.Z,{children:"Statuses"})]})})};(ra=r.memo(ra)).defaultProps={};var ia=ra,aa=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(ia,{}),(0,p.jsx)(ta,{}),(0,p.jsx)(Xi,{})]})};(aa=r.memo(aa)).defaultProps={};var oa=aa,la=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(S,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[S]||{},i=r.id,a=r.name,o=r.description,l=r.isNotDelete,s={},i&&!(0,Ft.Z)(i)&&(s.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(s.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(s.description="The value is in the wrong format."),(0,Dt.Z)(l)&&!(0,It.Z)(l)&&(s.isNotDelete="The value is in the wrong format."),!(Object.keys(s).length>0)){e.next=16;break}return e.next=12,(0,et.F)(S,"errors",s)();case 12:return e.next=14,(0,et.F)(S,"loader",!1)();case 14:e.next=17;break;case 16:(0,_e.Z)(n)?(0,yt.L)(S,n)():(0,Ct.Y)(S)();case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sa=la,ua=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",S,"loader"])),a=(0,v.v9)((0,N.Z)(["api","form",S],(function(e){return Object.keys(e||{}).length}))),o=(0,v.v9)((0,N.Z)(["api","form",S,"isNotDelete"])),l=(0,v.v9)((0,N.Z)(["api","form",S,"isDeleted"])),s=r.useCallback((function(t){return sa(t,e)}),[e]),u=r.useCallback((function(t){return(0,$e.n)(S,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(S,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(S)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:s,onDrop:u,loader:n||(0,_e.Z)(e)&&a<6,isDeleted:l,isNotDelete:o,showDropButton:!o&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:S}),(0,p.jsx)(xt.Z,{storeFormName:S}),(0,p.jsx)(ht.Z,{storeFormName:S}),(0,p.jsx)(vt.Z,{storeFormName:S})]})})};(ua=r.memo(ua)).defaultProps={};var ca=ua,da=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/report/statuses",text:"Statuses"},{key:"/mail/report/statuses/".concat(e),text:"0"===e?"Create new status":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},ma=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",S,"isDeleted"]));return r.useEffect((function(){return da(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add status",children:"Edit status"})})})};(ma=r.memo(ma)).defaultProps={};var pa=ma,fa=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(pa,{}),(0,p.jsx)(Xi,{}),(0,p.jsx)(ca,{})]})};(fa=r.memo(fa)).defaultProps={};var Za=fa,xa=n(2426),ha=function(){var e=(0,v.v9)((0,N.Z)(["dialog",w,"entityId"])),t=(0,v.v9)((0,N.Z)(["api","form",w,"loader"])),n=(0,v.v9)((0,N.Z)(["api","list",w,"loader"])),i=r.useCallback((function(t){return(0,j.R)(w,e)()}),[e]);return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(xa.Z,{loader:!0===t||!0===n,maxWidth:"xs",id:w,onHandle:i})})};(ha=r.memo(ha)).defaultProps={};var va=ha,ja=n(2218),ga=n(3417),ba=function(){var e,t,n,a,o=(0,i.TH)().search,l=(0,G.Z)("query",o),s=(0,G.Z)("select",o),u=(0,G.Z)("filter",o),c=(0,G.Z)("sort",o),d=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),m=(0,v.v9)((0,N.Z)(["api","list",w,"loader"])),f=null!==(e=(0,v.v9)((0,N.Z)(["api","list",w,"total"])))&&void 0!==e?e:0,Z=null!==(t=(0,v.v9)((0,N.Z)(["api","list",w,"page"])))&&void 0!==t?t:1,x=null!==(n=(0,v.v9)((0,N.Z)(["api","list",w,"limit"])))&&void 0!==n?n:20,h=(0,v.v9)((0,N.Z)(["api","list",w,"data"])),j=r.useMemo((function(){return["api","list",w]}),[]),g=!(0,$.Z)(h)||d||m,b=r.useCallback((function(e,t){return(0,q.T)(w,t)}),[]),k=r.useCallback((function(e){return(0,z.I)(w,e)}),[]),C=r.useCallback((function(e){return(0,B.a)(w,"id",e)}),[]),y=r.useCallback((function(e){return(0,B.a)(w,"createdAt",e)}),[]),I=r.useCallback((function(e){return function(t){return(0,V.Y)(w,e)}}),[]),D=r.useCallback((function(e){return function(t){return(0,H.d)(w,e)}}),[]),F=r.useCallback((function(e){return(0,U.V)(w,e)}),[]),P=r.useCallback((function(e){return(0,K.A)(w,e)}),[]),S=r.useCallback((function(){return(0,Q.D)(w)}),[]),T=r.useCallback((function(){return(0,W.P)(w,"loader",!0)()}),[]),A=r.useCallback((function(e){return function(t){return(0,Y.n)(e,t.target)()}}),[]);return r.useEffect((function(){d||(0,M.i)(w,{page:Z,limit:x,query:l,select:s,filter:u,sort:c})()}),[d,Z,x,l,s,u,c]),r.useEffect((function(){return function(){return(0,L.K)(w)()}}),[]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(re.Z,{bulkDeletion:!0,toolbarComponent:(0,p.jsx)(ie.Z,{to:"/mail/settings/0"}),storePath:j,loader:g,length:null!==(a=(h||[]).length)&&void 0!==a?a:0,onBulk:P,onDrop:S,onLoader:T,children:[(0,p.jsx)(te.Z,{onInput:T}),(0,p.jsx)(ne.Z,{onInput:T})]}),(0,p.jsx)(ja.Z,{bulkDeletion:!0,loader:g,total:f,page:Z,limit:x,onChangePage:b,onLimit:k,onSortId:C,onSortCreatedAt:y,children:(0,$.Z)(h)&&h.map((function(e){var t;return(0,p.jsx)(ga.Z,{bulkDeletion:!0,id:e.id,to:"/mail/settings/".concat(e.id),name:e.name,description:e.description,dataTypeId:e.dataTypeId,value:null!==(t=e.value)&&void 0!==t?t:e.defaultValue,regex:e.regex,isRequired:e.isRequired,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete,createdAt:e.createdAt,updatedAt:e.updatedAt,onDrop:I(e.id),onRestore:D(e.id),onMenu:A(e.id),onCheck:F(e.id),storePath:j},e.id)}))})]})};(ba=r.memo(ba)).defaultProps={};var ka=ba,Ca=function(){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/settings",text:"Settings"}])()},ya=function(){return r.useEffect((function(){return Ca()}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pt:1,pb:2,children:(0,p.jsx)(qe.Z,{children:"Settings list"})})})};(ya=r.memo(ya)).defaultProps={};var Ia=ya,Da=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Ia,{}),(0,p.jsx)(ka,{}),(0,p.jsx)(va,{})]})};(Da=r.memo(Da)).defaultProps={};var Fa=Da,Pa=n(6586),Sa=function(){var e=(0,gt.Z)((0,jt.Z)().mark((function e(t,n){var r,i,a,o,l,s,u,c,d;return(0,jt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,et.F)(w,"loader",!0)();case 3:if(r=(((0,bt.Z)().getState().api||{}).form||{})[w]||{},i=r.id,a=r.name,o=r.description,l=r.dataTypeId,s=r.regex,u=r.isRequired,c=r.isNotDelete,d={},i&&!(0,Ft.Z)(i)&&(d.id="The value is in the wrong format."),!(0,Pt.Z)(a)&&(d.name="The value is in the wrong format."),o&&!(0,St.Z)(o)&&(d.description="The value is in the wrong format."),!(0,Dn.Z)(l)&&(d.dataTypeId="The value is in the wrong format."),s&&!(0,In.Z)(s)&&(d.regex="The value is in the wrong format."),(0,Dt.Z)(u)&&!(0,It.Z)(u)&&(d.isRequired="The value is in the wrong format."),(0,Dt.Z)(c)&&!(0,It.Z)(c)&&(d.isNotDelete="The value is in the wrong format."),!(Object.keys(d).length>0)){e.next=19;break}return e.next=15,(0,et.F)(w,"errors",d)();case 15:return e.next=17,(0,et.F)(w,"loader",!1)();case 17:e.next=20;break;case 19:(0,_e.Z)(n)?(0,yt.L)(w,n)():(0,Ct.Y)(w)();case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wa=Sa,Na=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["loader","unmount","visible"])),n=(0,v.v9)((0,N.Z)(["api","form",w,"loader"])),a=(0,v.v9)((0,N.Z)(["api","form",w],(function(e){return Object.keys(e||{}).length}))),o=(0,v.v9)((0,N.Z)(["api","form",w,"isNotDelete"])),l=(0,v.v9)((0,N.Z)(["api","form",w,"isDeleted"])),s=r.useCallback((function(t){return wa(t,e)}),[e]),u=r.useCallback((function(t){return(0,$e.n)(w,{entityId:e})()}),[e]);return r.useEffect((function(){t||(0,Pe.y)(w,e)()}),[t,e]),r.useEffect((function(){return function(){return(0,Se.z)(w)()}}),[]),(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(Je.Z,{onSubmit:s,onDrop:u,loader:n||(0,_e.Z)(e)&&a<6,isDeleted:l,isNotDelete:o,showDropButton:!o&&(0,_e.Z)(e),children:[(0,p.jsx)(ft.Z,{storeFormName:w}),(0,p.jsx)(xt.Z,{storeFormName:w}),(0,p.jsx)(ht.Z,{storeFormName:w}),(0,p.jsx)(gn.Z,{storeFormName:w}),(0,p.jsx)(Pa.Z,{storeFormName:w}),(0,p.jsx)(kn.Z,{storeFormName:w}),(0,p.jsx)(Cn.Z,{storeFormName:w}),(0,p.jsx)(vt.Z,{storeFormName:w})]})})};(Na=r.memo(Na)).defaultProps={};var Ta=Na,Aa=function(e,t){(0,ze.Q)("app",[{key:"/",text:"..."},{key:"mail",text:"Mail"},{key:"/mail/settings",text:"Settings"},{key:"/mail/settings/".concat(e),text:"0"===e?"Create new setting":(0,p.jsx)("span",{style:{textDecoration:t?"line-through":"initial"},children:e})}])()},Ea=function(){var e=(0,i.UO)().entityId,t=(0,v.v9)((0,N.Z)(["api","form",w,"isDeleted"]));return r.useEffect((function(){return Aa(e,t)}),[e,t]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.Z,{pt:1,pb:2,children:(0,p.jsx)(qe.Z,{entityId:e,isDeleted:t,defaultContent:"Add setting",children:"Edit setting"})})})};(Ea=r.memo(Ea)).defaultProps={};var Oa=Ea,Ra=function(){return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(Oa,{}),(0,p.jsx)(va,{}),(0,p.jsx)(Ta,{})]})};(Ra=r.memo(Ra)).defaultProps={};var La=Ra,Wa=function(){return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(i.Z5,{children:(0,p.jsxs)(i.AW,{path:"",element:(0,p.jsx)(h,{}),children:[(0,p.jsx)(i.AW,{index:!0,element:(0,p.jsx)(Qe,{})}),(0,p.jsx)(i.AW,{path:":entityId",element:(0,p.jsx)(Wt,{})}),(0,p.jsx)(i.AW,{path:"letter",element:(0,p.jsx)(Qe,{})}),(0,p.jsx)(i.AW,{path:"letter/:entityId",element:(0,p.jsx)(Wt,{})}),(0,p.jsx)(i.AW,{path:"letter/options",element:(0,p.jsx)(_t,{})}),(0,p.jsx)(i.AW,{path:"letter/options/:entityId",element:(0,p.jsx)(On,{})}),(0,p.jsx)(i.AW,{path:"letter/statuses",element:(0,p.jsx)(Un,{})}),(0,p.jsx)(i.AW,{path:"letter/statuses/:entityId",element:(0,p.jsx)(nr,{})}),(0,p.jsx)(i.AW,{path:"template",element:(0,p.jsx)(br,{})}),(0,p.jsx)(i.AW,{path:"template/:entityId",element:(0,p.jsx)(Wr,{})}),(0,p.jsx)(i.AW,{path:"template/options",element:(0,p.jsx)(Ur,{})}),(0,p.jsx)(i.AW,{path:"template/options/:entityId",element:(0,p.jsx)(fi,{})}),(0,p.jsx)(i.AW,{path:"template/statuses",element:(0,p.jsx)(Ci,{})}),(0,p.jsx)(i.AW,{path:"template/statuses/:entityId",element:(0,p.jsx)(Ti,{})}),(0,p.jsx)(i.AW,{path:"report",element:(0,p.jsx)(_i,{})}),(0,p.jsx)(i.AW,{path:"report/statuses",element:(0,p.jsx)(oa,{})}),(0,p.jsx)(i.AW,{path:"report/statuses/:entityId",element:(0,p.jsx)(Za,{})}),(0,p.jsx)(i.AW,{path:"settings",element:(0,p.jsx)(Fa,{})}),(0,p.jsx)(i.AW,{path:"settings/:entityId",element:(0,p.jsx)(La,{})})]})})})};(Wa=r.memo(Wa)).defaultProps={};var Ma=Wa},5519:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),i=n(5987),a=n(2791),o=n(6030),l=n(2619),s=n(708),u=n(6015),c=n(9698),d=n(184),m=["storeFormName","name"],p=function(e){var t=e.storeFormName,n=e.name,p=(0,i.Z)(e,m),f=(0,o.v9)((0,s.Z)(["api","form",t,"loader"])),Z=(0,o.v9)((0,s.Z)(["api","form",t,n]))||"",x=(0,o.v9)((0,s.Z)(["api","form",t,"errors",n])),h=a.useCallback((function(e){return(0,l.F)(t,n,e.target.value)()}),[t,n]),v=a.useCallback((function(e){e.target.value=e.target.value.toLowerCase().replace(/[^a-z\u0430-\u044f0-9.@_-]+/g,"")}),[]);return(0,d.jsx)(a.Fragment,{children:(0,d.jsx)(u.Z,{py:2,children:(0,d.jsx)(c.default,(0,r.Z)({disabled:f,type:"email",name:n,label:"Email",placeholder:"name@email.com",value:Z,onChange:h,error:x,onInput:v},p))})})};(p=a.memo(p)).defaultProps={name:"email"};var f=p},7800:function(e,t,n){n.d(t,{k:function(){return j}});var r=n(4165),i=n(5861),a=n(4569),o=n.n(a),l=n(2510),s=n(7773),u=n(4465),c=n(5951),d=n(7487),m=n(175),p=n(7121),f=n(5129),Z=n(6590),x=n(9529),h=n(2619),v="data-type-type-file-upload",j=function(e,t){return(0,i.Z)((0,r.Z)().mark((function n(){var i,a,j,g,b,k,C,y,I,D,F,P=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(P.length>0&&void 0!==P[0]?P[0]:"api",i=(0,x.zn)(),!(0,p.Z)(e)){n.next=26;break}if((0,u.Z)(t)?((0,d.Z)(t.path)&&(a=null!==(g=t.path)&&void 0!==g?g:e),j=(0,m.Z)(t.id)?"".concat(e,"/").concat(t.id):e):j=a="".concat(e).concat(t?"/".concat((0,m.Z)(t)):""),n.prev=4,b=((((0,l.Z)().getState().api||{}).list||{})[j]||{}).data,!((0,c.Z)(b)&&b.length>0)){n.next=20;break}return n.next=9,(0,h.F)(j,"loader",!0)();case 9:k=0,C=0,y=[],F=function(){var e=[],t=b[k];if(I&&(0,d.Z)(I)||(I=Object.keys(t).find((function(e){var n=e.split("Options");return(0,c.Z)(t[e])&&n.length>=2&&""===n[n.length-1]}))),!I||!(0,d.Z)(I)||!(0,c.Z)(t[I])||!(0,u.Z)(t[I][0]))return"break";var n=t[I][0];if(D&&(0,d.Z)(D)||(D=Object.keys(n).find((function(e){var t=e.split("Options");return(0,c.Z)(n[e])&&t.length>=2&&""===t[t.length-1]}))),!D||!(0,d.Z)(D)||!(0,c.Z)(n[D]))return"break";if(b[k].dataTypeId===v);else{for(C=0;C<n[D].length;){var r=n[D][C];e.push({entityOptionId:r.formFormOptionId,entityId:r.formId,content:r.content,id:r.id}),C++}y.push(e)}k++};case 11:if(!(k<b.length)){n.next=17;break}if("break"!==F()){n.next=15;break}return n.abrupt("break",17);case 15:n.next=11;break;case 17:if(!(y.length>0)){n.next=20;break}return n.next=20,o().post((0,s.Z)(a),y);case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(4),i((0,f.Z)((0,Z.Z)(n.t0),a),{variant:"error"}),(0,h.F)(j,"loader",!1)();case 26:case"end":return n.stop()}}),n,null,[[4,22]])})))}},6336:function(e,t){t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test((e||"").toLowerCase())}},6582:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(4942),i=n(3366),a=n(7462),o=n(2791),l=n(8182),s=n(4419),u=n(2065),c=n(9853),d=n(6863),m=n(5873),p=n(5878),f=n(1217);function Z(e){return(0,f.Z)("MuiButtonGroup",e)}var x=(0,p.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),h=n(1656),v=n(184),j=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],g=(0,d.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,r.Z)({},"& .".concat(x.grouped),t.grouped),(0,r.Z)({},"& .".concat(x.grouped),t["grouped".concat((0,c.Z)(n.orientation))]),(0,r.Z)({},"& .".concat(x.grouped),t["grouped".concat((0,c.Z)(n.variant))]),(0,r.Z)({},"& .".concat(x.grouped),t["grouped".concat((0,c.Z)(n.variant)).concat((0,c.Z)(n.orientation))]),(0,r.Z)({},"& .".concat(x.grouped),t["grouped".concat((0,c.Z)(n.variant)).concat((0,c.Z)(n.color))]),t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},(0,r.Z)({},"& .".concat(x.grouped),(0,a.Z)({minWidth:40,"&:not(:first-of-type)":(0,a.Z)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,a.Z)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):(0,u.Fq)(t.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&(0,r.Z)({borderRight:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(x.disabled),{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===n.variant&&"vertical"===n.orientation&&(0,r.Z)({borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(x.disabled),{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===n.variant&&"inherit"!==n.color&&{borderColor:(t.vars||t).palette[n.color].dark},{"&:hover":(0,a.Z)({},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"currentColor"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,a.Z)({},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})))})),b=o.forwardRef((function(e,t){var n=(0,m.Z)({props:e,name:"MuiButtonGroup"}),r=n.children,u=n.className,d=n.color,p=void 0===d?"primary":d,f=n.component,x=void 0===f?"div":f,b=n.disabled,k=void 0!==b&&b,C=n.disableElevation,y=void 0!==C&&C,I=n.disableFocusRipple,D=void 0!==I&&I,F=n.disableRipple,P=void 0!==F&&F,S=n.fullWidth,w=void 0!==S&&S,N=n.orientation,T=void 0===N?"horizontal":N,A=n.size,E=void 0===A?"medium":A,O=n.variant,R=void 0===O?"outlined":O,L=(0,i.Z)(n,j),W=(0,a.Z)({},n,{color:p,component:x,disabled:k,disableElevation:y,disableFocusRipple:D,disableRipple:P,fullWidth:w,orientation:T,size:E,variant:R}),M=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.disableElevation,a=e.fullWidth,o=e.orientation,l=e.variant,u={root:["root",l,"vertical"===o&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat((0,c.Z)(o)),"grouped".concat((0,c.Z)(l)),"grouped".concat((0,c.Z)(l)).concat((0,c.Z)(o)),"grouped".concat((0,c.Z)(l)).concat((0,c.Z)(n)),r&&"disabled"]};return(0,s.Z)(u,Z,t)}(W),q=o.useMemo((function(){return{className:M.grouped,color:p,disabled:k,disableElevation:y,disableFocusRipple:D,disableRipple:P,fullWidth:w,size:E,variant:R}}),[p,k,y,D,P,w,E,R,M.grouped]);return(0,v.jsx)(g,(0,a.Z)({as:x,role:"group",className:(0,l.Z)(M.root,u),ref:t,ownerState:W},L,{children:(0,v.jsx)(h.Z.Provider,{value:q,children:r})}))}))}}]);
//# sourceMappingURL=326.8c342a59.chunk.js.map