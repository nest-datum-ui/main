"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[131],{7399:function(e,t,o){o.d(t,{Z:function(){return O}});var r=o(2791),a=o(6030),i=o(393),n=o(5308),d=o(9154),l=o(2619),s=o(708),c=o(3259),u=o(6015),p=o(5953),v=o(1091),m=o(3329),f=o(1251),h=o(8299),g=o(1413),x=o(2982),Z=o(5987),b=o(4307),C=o(2772),y=o(2606),j=o(5702),R=o(4585),w=o(7232),F=o(5812),k=o(6192),I=o(184),S=["formId","name","children"],L=function(e){var t,o,n,d=e.formId,l=e.name,c=e.children,u=(0,Z.Z)(e,S),v=(0,i.Ds)().enqueueSnackbar,m=(0,a.v9)((0,s.Z)(["loader","unmount","visible"])),h=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","loader"])),L=null!==(t=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","total"])))&&void 0!==t?t:0,P=null!==(o=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","page"])))&&void 0!==o?o:1,z=null!==(n=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","limit"])))&&void 0!==n?n:20,T=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","query"])),W=(0,a.v9)((0,s.Z)(["api","list","formsFieldContentList","data"])),E=r.useCallback((function(e,t){(0,C.P)("formsFieldContentList","loader",!0)(),(0,C.P)("formsFieldContentList","page",t)()}),[]),B=r.useCallback((function(e){(0,C.P)("formsFieldContentList","loader",!0)(),(0,C.P)("formsFieldContentList","limit",e.target.value)()}),[]),H=r.useCallback((function(e){}),[]);return r.useEffect((function(){m||(0,b.i)({id:"formsFieldContentList",url:"https://api.cidiator.com/forms",path:"field",withAccessToken:!0,page:P,limit:z,query:T,filter:{formFields:{formId:d}}})(v)}),[m,v,P,z,T,d]),r.useEffect((function(){return function(){(0,y.K)("formsFieldContentList")()}}),[]),(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)(f.Z,{visible:h||m,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}),h||m?(0,I.jsx)(r.Fragment,{}):(0,I.jsx)(r.Fragment,{children:(0,I.jsx)(w.Z,(0,g.Z)((0,g.Z)({name:l},u),{},{children:c||(Array.isArray(W)?[].concat((0,x.Z)(1===P&&L<z?[]:[(0,I.jsx)(k.Z,{name:"select-".concat(l.toString(),"-search"),onSearch:H},"formSearch")]),(0,x.Z)(W.map((function(e){return(0,I.jsx)(j.Z,{value:e.id,children:e.name},e.id)}))),(0,x.Z)(1===P&&L<z?[]:[(0,I.jsxs)(p.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"14px 8px 0px 0px"},children:[(0,I.jsx)(p.ZP,{item:!0,xs:!0,children:(0,I.jsx)(R.Z,{count:Math.ceil(L/z),page:P,onChange:E})}),(0,I.jsx)(p.ZP,{item:!0,xs:!1,sx:{minWidth:"90px"},children:(0,I.jsx)(F.Z,{label:"Linit",size:"small",value:z,onChange:B})})]},"MuiPagination")])):(0,I.jsx)(j.Z,{children:(0,I.jsx)(f.Z,{visible:!0,wrapper:{p:0},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}})}))}))})]})};(L=r.memo(L)).defaultProps={name:"fieldId",multiple:!1,onChange:function(){}};var P=L,z=o(4165),T=o(5861),W=o(3960),E=o(4047),B=o(775),H=o(3158),q=o(4188),A=function(){var e=(0,T.Z)((0,z.Z)().mark((function e(t){var o,r,a,i,n,d,s,c,u;return(0,z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.enqueueSnackbar,r=t.storeName,t.entityId,a=t.withAccessToken,i=t.url,n=t.path,d=t.pathCreate,e.prev=1,e.next=4,(0,l.F)(r,"loader",!0)();case 4:return e.next=6,(0,C.P)(r,"loader",!0)();case 6:if(s=(0,B.Z)().getState().api.form[r].fieldId,c={},(0,H.Z)(s,!0)?(0,q.Z)(s)||(c.fieldId="Cannot be empty."):c.fieldId="The value is in the wrong format.",!(Object.keys(c).length>0)){e.next=15;break}return e.next=12,(0,l.F)(r,"errors",c)();case 12:return e.next=14,(0,l.F)(r,"loader",!1)();case 14:throw new Error("Check that the form is filled out correctly.");case 15:(0,E.Y)({entityId:r,url:i,path:d,withAccessToken:a})(o,(0,T.Z)((0,z.Z)().mark((function e(){var t,o,a,i,n,d,l,s=arguments;return(0,z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",o=t.split("/"),a=o[o.length-1],i=(0,g.Z)({},(0,B.Z)().getState().api.form[a]||{}),n=(0,x.Z)(((0,B.Z)().getState().api.list[r]||{}).data||[]),d=(0,x.Z)(((0,B.Z)().getState().api.list.formsFieldContentList||{}).data||[]),(l=d.find((function(e){return e.id===i.fieldId})))&&(i.field=l),i.createdAt=(new Date).toISOString(),n.push(i),e.next=12,(0,C.P)(r,"data",(0,x.Z)(n))();case 12:return e.next=14,(0,W.Q)("".concat(r,"Item"))();case 14:return e.next=16,(0,C.P)(r,"loader",!1)();case 16:case"end":return e.stop()}}),e)})))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),u=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,o("".concat(u," - ").concat(n),{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),M=A,N=function(e){var t=e.formId,o=e.entityId,g=e.storeName,x=e.withAccessToken,Z=e.url,b=e.path,C=e.pathCreate,y=(0,i.Ds)().enqueueSnackbar,j=(0,a.v9)((0,s.Z)(["api","form",g,"loader"])),R=(0,a.v9)((0,s.Z)(["api","form",g,"fieldId"])),w=((0,a.v9)((0,c.Z)(["api","list","formsFieldContentList","data"],(function(e){return e.id===R})))||{}).dataTypeId,F=(0,a.v9)((0,s.Z)(["api","form",g,"errors","fieldId"])),k=(0,a.v9)((0,s.Z)(["api","form",g,"errors","value"])),S=r.useCallback((function(e){e.preventDefault(),M({enqueueSnackbar:y,storeName:g,entityId:o,withAccessToken:x,url:Z,path:b,pathCreate:C})}),[y,g,o,x,Z,b,C]),L=r.useCallback((function(e){(0,l.F)(g,"fieldId",e.target.value)()}),[g]);return r.useEffect((function(){(0,n.y)({entityId:g})()}),[g]),r.useEffect((function(){return function(){(0,d.z)(g)()}}),[g]),(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)(f.Z,{visible:"undefined"===typeof j}),(0,I.jsx)(u.Z,{py:2,children:(0,I.jsx)(P,{required:!0,formId:t,disabled:j,name:"fieldId",label:"Select field",value:R||"",onChange:L,error:F})}),R&&w?(0,I.jsx)(u.Z,{py:2,children:(0,I.jsx)(h.Z,{entityId:g,dataTypeId:w,name:"value",label:"Value",error:k})}):(0,I.jsx)(r.Fragment,{}),(0,I.jsx)(p.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:(0,I.jsx)(p.ZP,{item:!0,xs:!1,children:(0,I.jsx)(v.Z,{disableElevation:!0,disabled:j,type:"submit",variant:"contained",color:"secondary",onClick:S,startIcon:j?(0,I.jsx)(f.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,I.jsx)(m.Z,{}),children:"Save"})})})]})};(N=r.memo(N)).defaultProps={};var O=N},6582:function(e,t,o){o.d(t,{Z:function(){return C}});var r=o(4942),a=o(3366),i=o(7462),n=o(2791),d=o(8182),l=o(4419),s=o(2065),c=o(9853),u=o(6863),p=o(5873),v=o(5878),m=o(1217);function f(e){return(0,m.Z)("MuiButtonGroup",e)}var h=(0,v.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),g=o(1656),x=o(184),Z=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],b=(0,u.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[(0,r.Z)({},"& .".concat(h.grouped),t.grouped),(0,r.Z)({},"& .".concat(h.grouped),t["grouped".concat((0,c.Z)(o.orientation))]),(0,r.Z)({},"& .".concat(h.grouped),t["grouped".concat((0,c.Z)(o.variant))]),(0,r.Z)({},"& .".concat(h.grouped),t["grouped".concat((0,c.Z)(o.variant)).concat((0,c.Z)(o.orientation))]),(0,r.Z)({},"& .".concat(h.grouped),t["grouped".concat((0,c.Z)(o.variant)).concat((0,c.Z)(o.color))]),t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]}})((function(e){var t=e.theme,o=e.ownerState;return(0,i.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},(0,r.Z)({},"& .".concat(h.grouped),(0,i.Z)({minWidth:40,"&:not(:first-of-type)":(0,i.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,i.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"inherit"!==o.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / 0.5)"):(0,s.Fq)(t.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&(0,r.Z)({borderRight:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(h.disabled),{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===o.variant&&"vertical"===o.orientation&&(0,r.Z)({borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(h.disabled),{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===o.variant&&"inherit"!==o.color&&{borderColor:(t.vars||t).palette[o.color].dark},{"&:hover":(0,i.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,i.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"})))})),C=n.forwardRef((function(e,t){var o=(0,p.Z)({props:e,name:"MuiButtonGroup"}),r=o.children,s=o.className,u=o.color,v=void 0===u?"primary":u,m=o.component,h=void 0===m?"div":m,C=o.disabled,y=void 0!==C&&C,j=o.disableElevation,R=void 0!==j&&j,w=o.disableFocusRipple,F=void 0!==w&&w,k=o.disableRipple,I=void 0!==k&&k,S=o.fullWidth,L=void 0!==S&&S,P=o.orientation,z=void 0===P?"horizontal":P,T=o.size,W=void 0===T?"medium":T,E=o.variant,B=void 0===E?"outlined":E,H=(0,a.Z)(o,Z),q=(0,i.Z)({},o,{color:v,component:h,disabled:y,disableElevation:R,disableFocusRipple:F,disableRipple:I,fullWidth:L,orientation:z,size:W,variant:B}),A=function(e){var t=e.classes,o=e.color,r=e.disabled,a=e.disableElevation,i=e.fullWidth,n=e.orientation,d=e.variant,s={root:["root",d,"vertical"===n&&"vertical",i&&"fullWidth",a&&"disableElevation"],grouped:["grouped","grouped".concat((0,c.Z)(n)),"grouped".concat((0,c.Z)(d)),"grouped".concat((0,c.Z)(d)).concat((0,c.Z)(n)),"grouped".concat((0,c.Z)(d)).concat((0,c.Z)(o)),r&&"disabled"]};return(0,l.Z)(s,f,t)}(q),M=n.useMemo((function(){return{className:A.grouped,color:v,disabled:y,disableElevation:R,disableFocusRipple:F,disableRipple:I,fullWidth:L,size:W,variant:B}}),[v,y,R,F,I,L,W,B,A.grouped]);return(0,x.jsx)(b,(0,i.Z)({as:h,role:"group",className:(0,d.Z)(A.root,s),ref:t,ownerState:q},H,{children:(0,x.jsx)(g.Z.Provider,{value:M,children:r})}))}))}}]);
//# sourceMappingURL=131.eb3bdcad.chunk.js.map