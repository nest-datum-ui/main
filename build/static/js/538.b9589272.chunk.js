"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[538],{2038:function(e,t,n){n.d(t,{Z:function(){return y}});var i=n(1413),r=n(4165),a=n(5861),o=n(5987),s=n(2791),l=n(6030),c=n(393),d=n(7054),u=n(3960),p=n(708),x=n(9571),h=n(1091),m=n(872),Z=n(9923),f=n(184),j=["id","storeName","withAccessToken","url","path"],v=function(e){var t=e.id,n=e.storeName,v=e.withAccessToken,y=e.url,g=e.path,b=(0,o.Z)(e,j),k=(0,c.Ds)().enqueueSnackbar,C=(0,l.v9)((0,p.Z)(["dialog",t,"entityId"])),w=(0,l.v9)((0,p.Z)(["api","form",n,"loader"])),N=(0,l.v9)((0,p.Z)(["api","list",n,"loader"])),I=s.useCallback(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.R)({entityId:C,storeName:n,withAccessToken:v,url:y,path:g})(k);case 2:return e.next=4,(0,u.Q)(t)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,v,y,g,C,k]),D=!0===w||!0===N;return(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},b),{},{loader:D,maxWidth:"xs",id:t,title:"Remove option?",actions:(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(h.Z,{disabled:D,disableElevation:!0,variant:"contained",startIcon:(0,f.jsx)(m.Z,{}),onClick:I,children:"OK"})}),children:(0,f.jsx)(x.Z,{children:"Are you sure you want to remove the current option? This operation is irreversible and may compromise data integrity."})}))})};(v=s.memo(v)).defaultProps={id:"optionDrop"};var y=v},8389:function(e,t,n){n.d(t,{Z:function(){return H}});var i=n(1413),r=n(885),a=n(2791),o=n(7689),s=n(2772),l=n(6601),c=n(6015),d=n(5953),u=n(1091),p=n(4565),x=n(9823),h=n(2885),m=n(1131),Z=n(6192),f=n(1419),j=n(4096),v=n(2982),y=n(3811),g=n(5987),b=n(6376),k=n(184),C=["children"],w={text:{name:"Text"}},N=function(e){var t=e.children,n=(0,g.Z)(e,C);return(0,k.jsx)(a.Fragment,{children:(0,k.jsx)(b.Z,(0,i.Z)((0,i.Z)({},n),{},{children:t||Object.keys(w).map((function(e){return{id:e,name:w[e].name}}))}))})};(N=a.memo(N)).defaultProps={};var I=N,D={text:{id:"text",name:"Text"}},O=function(e){var t=e.storeName,n=(0,o.s0)(),i=(0,o.TH)(),r=a.useMemo((function(){return Object.keys(D)}),[]),c=a.useMemo((function(){return(0,l.Z)("filter",i.search,!0)||{}}),[i]),u=a.useMemo((function(){return Array.isArray(r)?r.filter((function(e){return(c.dataTypeId||[]).includes(e)})).map((function(e){return{value:e,text:D[e].name}})):[]}),[c,r]),p=a.useCallback((function(e,i){(0,s.P)(t,"loader",!0)(),i.length>0?c.dataTypeId=["$In"].concat((0,v.Z)(i.map((function(e){return e.value})))):delete c.dataTypeId;var r="",a=(0,l.Z)("query",window.location.search),o=(0,l.Z)("sort",window.location.search,!0);Object.keys(c).length>0&&(r+="?filter=".concat(JSON.stringify(c))),o&&"object"===typeof o&&Object.keys(o).length>0&&(r+=r?"&sort=".concat(JSON.stringify(o)):"?sort=".concat(JSON.stringify(o))),a&&(r+=r?"&query=".concat(a):"?query=".concat(a)),n(r)}),[n,c,t]),h=a.useCallback((function(e){(0,s.P)(t,"loader",!0)(),delete c.dataTypeId;var i="",r=(0,l.Z)("query",window.location.search),a=(0,l.Z)("sort",window.location.search,!0);Object.keys(c).length>0&&(i+="?filter=".concat(JSON.stringify(c))),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),r&&(i+=i?"&query=".concat(r):"?query=".concat(r)),n(i)}),[c,n,t]);return(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(d.ZP,{container:!0,alignItems:"center",children:[u.length>0?(0,k.jsx)(d.ZP,{item:!0,xs:!1,children:(0,k.jsx)(y.Z,{size:"small",color:"error",onClick:h,children:(0,k.jsx)(x.Z,{fontSize:"small"})})}):(0,k.jsx)(a.Fragment,{}),(0,k.jsx)(d.ZP,{item:!0,xs:!0,children:(0,k.jsx)(I,{multiple:!0,label:"Data type",name:"dataTypeId",onChange:p,value:u})})]})})};(O=a.memo(O)).defaultProps={};var q=O,S=n(6321),T=n(3492),F=n(2900),P=n(1898),A=n(120),M=function(e){var t=e.storeName,n=(0,o.s0)(),i=(0,o.TH)(),r=a.useMemo((function(){return(0,l.Z)("filter",i.search,!0)||{}}),[i]),c=!0===r.isMultiline||!1===r.isMultiline?Number(r.isMultiline):"",d=a.useCallback((function(e){(0,s.P)(t,"loader",!0)();var i=e.target.value,a="",o=(0,l.Z)("query",window.location.search),c=(0,l.Z)("sort",window.location.search,!0);i?r.isMultiline=Boolean(Number(i)):delete r.isMultiline,Object.keys(r).length>0&&(a+="?filter=".concat(JSON.stringify(r))),c&&"object"===typeof c&&Object.keys(c).length>0&&(a+=a?"&sort=".concat(JSON.stringify(c)):"?sort=".concat(JSON.stringify(c))),o&&(a+=a?"&query=".concat(o):"?query=".concat(o)),n(a)}),[n,r,t]);return(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(A.Z,{id:"form-filter-option-".concat(t),children:"Multidimensional values"}),(0,k.jsxs)(T.Z,{"aria-labelledby":"form-filter-option-".concat(t),name:"form-filter-option-".concat(t),value:c,onChange:d,children:[(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"",label:"All"}),(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"1",label:"Multidimensional only"}),(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"0",label:"Only regular"})]})]})})};(M=a.memo(M)).defaultProps={};var R=M,E=function(e){var t=e.storeName,n=(0,o.s0)(),i=(0,o.TH)(),r=a.useMemo((function(){return(0,l.Z)("filter",i.search,!0)||{}}),[i]),c=!0===r.isRequired||!1===r.isRequired?Number(r.isRequired):"",d=a.useCallback((function(e){(0,s.P)(t,"loader",!0)();var i=e.target.value,a="",o=(0,l.Z)("query",window.location.search),c=(0,l.Z)("sort",window.location.search,!0);i?r.isRequired=Boolean(Number(i)):delete r.isRequired,Object.keys(r).length>0&&(a+="?filter=".concat(JSON.stringify(r))),c&&"object"===typeof c&&Object.keys(c).length>0&&(a+=a?"&sort=".concat(JSON.stringify(c)):"?sort=".concat(JSON.stringify(c))),o&&(a+=a?"&query=".concat(o):"?query=".concat(o)),n(a)}),[n,r,t]);return(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(A.Z,{id:"form-filter-option-required-".concat(t),children:"Required fields"}),(0,k.jsxs)(T.Z,{"aria-labelledby":"form-filter-option-required-".concat(t),name:"form-filter-option-required-".concat(t),value:c,onChange:d,children:[(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"",label:"All"}),(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"1",label:"Required entries only"}),(0,k.jsx)(F.Z,{control:(0,k.jsx)(S.Z,{}),value:"0",label:"Not required entries"})]})]})})};(E=a.memo(E)).defaultProps={};var J=E,U=function(e){var t=e.storeName,n=(0,o.s0)(),v=(0,o.TH)(),y=a.useState((function(){return!1})),g=(0,r.Z)(y,2),b=g[0],C=g[1],w=a.useMemo((function(){return(0,l.Z)("filter",v.search,!0)}),[v]),N=a.useMemo((function(){return(0,l.Z)("query",window.location.search)}),[]),I=a.useCallback((function(e){if(e!==((0,l.Z)("query",window.location.search)||"")){(0,s.P)(t,"loader",!0)();var i="",r=(0,l.Z)("sort",window.location.search,!0);e.length>0&&(i="?query=".concat(e)),w&&"object"===typeof w&&Object.keys(w).length>0&&(i+=i?"&filter=".concat(JSON.stringify(w)):"?filter=".concat(JSON.stringify(w))),r&&"object"===typeof r&&Object.keys(r).length>0&&(i+=i?"&sort=".concat(JSON.stringify(r)):"?sort=".concat(JSON.stringify(r))),n(i)}}),[n,w,t]),D=a.useCallback((function(e){C((function(e){return!e}))}),[C]),O=a.useCallback((function(e){(0,s.P)(t,"loader",!0)();var i="",r=(0,l.Z)("query",window.location.search)||"",a=(0,l.Z)("sort",window.location.search,!0);r.length>0&&(i="?query=".concat(r)),a&&"object"===typeof a&&Object.keys(a).length>0&&(i+=i?"&sort=".concat(JSON.stringify(a)):"?sort=".concat(JSON.stringify(a))),n(i)}),[n,t]);return(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(Z.Z,{onSearch:I,defaultValue:N}),(0,k.jsxs)(d.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",sx:{paddingTop:"24px"},children:[b&&"object"===typeof w&&Object.keys(w).length>0?(0,k.jsx)(d.ZP,{item:!0,xs:!1,children:(0,k.jsx)(u.Z,{disableElevation:!0,color:"error",startIcon:(0,k.jsx)(x.Z,{}),onClick:O,children:"Clear"})}):(0,k.jsx)(a.Fragment,{}),(0,k.jsx)(d.ZP,{item:!0,xs:!1,children:(0,k.jsxs)(u.Z,{disableElevation:!0,color:"primary",onClick:D,startIcon:(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(h.Z,{sx:{display:b?"block":"none"}}),(0,k.jsx)(m.Z,{sx:{display:b?"none":"block"}})]}),children:[(0,k.jsx)(p.Z,{sx:{display:b?"block":"none"},children:"Collapse"}),(0,k.jsx)(p.Z,{sx:{display:b?"none":"block"},children:"Filters"})]})})]}),(0,k.jsx)(c.Z,{pb:b?2:0,sx:(0,i.Z)({position:"relative",overflow:"hidden"},b?{height:"initial",opacity:"1"}:{height:"0px",opacity:"0.01"}),children:(0,k.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(q,{storeName:t})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(R,{storeName:t})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(J,{storeName:t})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(f.Z,{storeName:t})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,k.jsx)(j.Z,{storeName:t})})]})})]})};(U=a.memo(U)).defaultProps={};var H=U},2162:function(e,t,n){n.d(t,{Z:function(){return R}});var i=n(1413),r=n(5987),a=n(4942),o=n(2791),s=n(6030),l=n(393),c=n(4307),d=n(2606),u=n(708),p=n(6015),x=n(4565),h=n(1251),m=n(2982),Z=n(885),f=n(2772),j=n(5953),v=n(1091),y=n(3811),g=n(9823),b=n(775),k=n(8482),C=n(184),w=["storeName","id","optionIndex","valueIndex","content","allowDrop"],N=["storeName","id","index","values","allowDrop"],I=function(e){var t=e.storeName,n=e.id,i=e.optionIndex,a=(e.valueIndex,e.content),s=e.allowDrop,l=(0,r.Z)(e,w),c=o.useState((function(){return a})),d=(0,Z.Z)(c,1)[0],u=o.useCallback((function(e){var r=(0,m.Z)((((0,b.Z)().getState().api.list[t].data||[])[i]||{}).values||[]).findIndex((function(e){return e.id===n}));(0,f.P)(t,"data",e.target.value,[i,"values",r,"content"])()}),[i,t,n]),x=o.useCallback((function(e){var r=(0,m.Z)((((0,b.Z)().getState().api.list[t].data||[])[i]||{}).values||[]),a=r.findIndex((function(e){return e.id===n}));r.splice(a,1),(0,f.P)(t,"data",(0,m.Z)(r),[i,"values"])()}),[i,t,n]);return(0,C.jsx)(p.Z,{pb:2,children:(0,C.jsxs)(j.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,C.jsx)(j.ZP,{item:!0,xs:!0,children:(0,C.jsx)(k.Z,{dataTypeId:l.dataTypeId,required:l.isRequired,name:"option-value-".concat(n),defaultValue:d,onChange:u})}),s?(0,C.jsx)(j.ZP,{item:!0,xs:!1,children:(0,C.jsx)(y.Z,{onClick:x,children:(0,C.jsx)(g.Z,{color:"error"})})}):(0,C.jsx)(o.Fragment,{})]})})};(I=o.memo(I)).defaultProps={};var D=function(e){var t=e.storeName,n=(e.id,e.index),a=e.values,s=(e.allowDrop,(0,r.Z)(e,N)),l=o.useMemo((function(){return a()}),[a]),c=o.useCallback((function(e){var r=(0,m.Z)((((0,b.Z)().getState().api.list[t].data||[])[n]||{}).values||[]);r.push((0,i.Z)((0,i.Z)({},r[0]),{},{content:"",id:Date.now()})),(0,f.P)(t,"data",r,[n,"values"])()}),[n,t]);return(0,C.jsx)(o.Fragment,{children:(l||[]).length>0?(0,C.jsxs)(o.Fragment,{children:[s.name?(0,C.jsx)(p.Z,{pt:2,pb:s.description?1:2,children:(0,C.jsx)(x.Z,{component:"div",variant:"subtitle1",children:s.name})}):(0,C.jsx)(o.Fragment,{}),l.map((function(e,r){var a;return(0,C.jsx)(I,(0,i.Z)({storeName:t,id:e.id,optionIndex:n,valueIndex:r,content:e.content,allowDrop:s.isMultiline&&l.length>1},s),null!==(a=e.id)&&void 0!==a?a:r)})),s.description?(0,C.jsx)(p.Z,{pb:2,children:(0,C.jsx)(x.Z,{component:"div",variant:"caption",children:s.description})}):(0,C.jsx)(o.Fragment,{}),s.isMultiline?(0,C.jsx)(p.Z,{pb:6,children:(0,C.jsx)(v.Z,{disableElevation:!0,variant:"contained",color:"primary",onClick:c,children:"Add"})}):(0,C.jsx)(o.Fragment,{})]}):(0,C.jsx)(o.Fragment,{})})};(D=o.memo(D)).defaultProps={values:function(){}};var O=D,q=n(4165),S=n(5861),T=["content"],F=function(){var e=(0,S.Z)((0,q.Z)().mark((function e(t){var n,a,o,s,l,c;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.storeName,a=t.entityId,o=t.pathEntity,s=t.pathEntityUpperCase,l=(0,m.Z)((0,b.Z)().getState().api.list[n].data),c=l.map((function(e){var t=e["".concat(o).concat(s,"Options")],n=(0,r.Z)(e,["".concat(o).concat(s,"Options")]),l=[];return t.forEach((function(e){var c=e["".concat(o).concat(s).concat(s,"Options")];(0,r.Z)(e,["".concat(o).concat(s).concat(s,"Options")]);c.forEach((function(e){var o=e.content,s=(0,r.Z)(e,T),c=null!==o&&void 0!==o?o:n.defaultValue||"";if("data-type-type-file-upload"===n.dataTypeId)try{c=JSON.parse(c)}catch(d){}l.push((0,i.Z)((0,i.Z)({},s),{},{entityOptionId:t[0].id,entityId:a,content:c}))}))})),0===l.length&&l.push({parentId:"",entityOptionId:t[0].id,entityId:a,content:n.defaultValue||"",isDeleted:!1,id:Date.now()}),n.values=l,(0,i.Z)({},n)})),e.next=5,(0,f.P)(n,"data",(0,m.Z)(c))();case 5:return e.next=7,(0,f.P)(n,"optionsReady",!0)();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=F,A=["id","values"],M=function(e){var t=e.withAccessToken,n=e.entityId,m=e.url,Z=e.path,f=e.pathEntity,j=(0,l.Ds)().enqueueSnackbar,v="options".concat(n),y=(0,s.v9)((0,u.Z)(["loader","unmount","visible"])),g=(0,s.v9)((0,u.Z)(["api","list",v,"data"])),b=Array.isArray(g)&&(g||[]).length>0,k=f.charAt(0).toUpperCase()+f.slice(1);return o.useEffect((function(){!y&&m&&n&&"0"!==n&&(0,c.i)({id:v,url:m,path:Z,withAccessToken:t,page:1,limit:9999,relations:(0,a.Z)({},"".concat(f).concat(k,"Options"),(0,a.Z)({},"".concat(f).concat(k).concat(k,"Options"),!0)),filter:(0,a.Z)({isDeleted:!1},"".concat(f).concat(k,"Options"),(0,a.Z)({},"".concat(f,"Id"),n))})(j)}),[y,n,v,Z,m,t,f,k,j]),o.useEffect((function(){b&&n&&"0"!==n&&P({storeName:v,entityId:n,pathEntity:f,pathEntityUpperCase:k})}),[b,v,n,f,k]),o.useEffect((function(){return function(){(0,d.K)(v)()}}),[v]),(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(h.Z,{visible:y}),b&&!y?(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(p.Z,{pt:2,pb:1,children:(0,C.jsx)(x.Z,{component:"div",variant:"h6",children:"Options:"})}),g.map((function(e,t){var n=e.id,a=e.values,s=(0,r.Z)(e,A);return(0,o.createElement)(O,(0,i.Z)((0,i.Z)({},s),{},{key:n,id:n,index:t,storeName:v,values:function(){return a}}))}))]}):(0,C.jsx)(o.Fragment,{})]})};(M=o.memo(M)).defaultProps={};var R=M},479:function(e,t,n){n.d(t,{Z:function(){return R}});var i=n(2791),r=n(6030),a=n(7689),o=n(393),s=n(2619),l=n(5308),c=n(9154),d=n(2399),u=n(708),p=n(6015),x=n(5953),h=n(1091),m=n(3329),Z=n(7247),f=n(9698),j=n(43),v=n(5710),y=n(1251),g=n(4754),b=n(8299),k=n(4165),C=n(5861),w=n(4047),N=n(2674),I=n(775),D=n(3158),O=n(4188),q=n(7133),S=n(8762),T=n(7064),F=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(t){var n,i,r,a,o,l,c,d,u,p,x,h,m,Z,f,j,v,y;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityId,i=t.url,r=t.path,a=t.withAccessToken,o=void 0!==a&&a,l=t.enqueueSnackbar,c=t.navigate,e.prev=1,e.next=4,(0,s.F)(n,"loader",!0)();case 4:if(d=(0,I.Z)().getState().api.form[n],u=d.id,p=d.name,x=d.description,h=d.dataTypeId,m=d.regex,Z=d.isRequired,f=d.isMultiline,j=d.isNotDelete,v={},(0,D.Z)(u,!0)||(v.id="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,D.Z)(p)?(0,O.Z)(p)||(v.name="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c."):v.name="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435.",(0,D.Z)(x,!0)||(v.description="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,O.Z)(h)?(0,q.Z)(h)||(v.dataTypeId="\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442."):v.dataTypeId="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.",(0,S.Z)(m,!0)||(v.regex="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,T.Z)(Z,!0)||(v.isRequired="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,T.Z)(f,!0)||(v.isMultiline="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),(0,T.Z)(j,!0)||(v.isNotDelete="\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."),!(Object.keys(v).length>0)){e.next=20;break}return e.next=17,(0,s.F)(n,"errors",v)();case 17:return e.next=19,(0,s.F)(n,"loader",!1)();case 19:throw new Error("\u041f\u0440\u043e\u0432\u0435\u0440\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u044b.");case 20:"0"===n?(0,w.Y)({entityId:n,url:i,path:r,withAccessToken:o})(l,c):(0,N.L)({entityId:n,url:i,path:r,withAccessToken:o})(l),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),y=e.t0.response&&e.t0.response.data?e.t0.response.data.message||(e.t0.response.data.error?e.t0.response.data.error.text:e.t0.message):e.t0.message,l(y,{variant:"error"});case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t){return e.apply(this,arguments)}}(),P=F,A=n(184),M=function(e){var t=e.type,n=e.storeName,k=e.withAccessToken,C=e.url,w=e.path,N=e.pathRelation,I=e.pathCreate,D=e.relationTitle,O=e.relationDescription,q=e.FormOptionComponent,S=e.filterOptions,T=e.manyToManyColumns,F=(0,o.Ds)().enqueueSnackbar,M=(0,a.UO)().entityId,R=(0,a.s0)(),E=(0,r.v9)((0,u.Z)(["loader","unmount","visible"])),J=(0,r.v9)((0,u.Z)(["api","form",M,"loader"])),U=(0,r.v9)((0,u.Z)(["api","form",M,"id"])),H=(0,r.v9)((0,u.Z)(["api","form",M,"name"])),W=(0,r.v9)((0,u.Z)(["api","form",M,"description"])),z=(0,r.v9)((0,u.Z)(["api","form",M,"dataTypeId"])),L=(0,r.v9)((0,u.Z)(["api","form",M,"regex"])),V=(0,r.v9)((0,u.Z)(["api","form",M,"isRequired"])),Q=(0,r.v9)((0,u.Z)(["api","form",M,"isMultiline"])),B=(0,r.v9)((0,u.Z)(["api","form",M,"isNotDelete"])),K=(0,r.v9)((0,u.Z)(["api","form",M,"isDeleted"])),$=(0,r.v9)((0,u.Z)(["api","form",M,"errors","id"])),Y=(0,r.v9)((0,u.Z)(["api","form",M,"errors","name"])),G=(0,r.v9)((0,u.Z)(["api","form",M,"errors","description"])),X=(0,r.v9)((0,u.Z)(["api","form",M,"errors","dataTypeId"])),_=(0,r.v9)((0,u.Z)(["api","form",M,"errors","regex"])),ee=(0,r.v9)((0,u.Z)(["api","form",M,"errors","isRequired"])),te=(0,r.v9)((0,u.Z)(["api","form",M,"errors","isMultiline"])),ne=(0,r.v9)((0,u.Z)(["api","form",M,"errors","isNotDelete"])),ie=i.useCallback((function(e){e.preventDefault(),P({entityId:M,url:C,path:w,withAccessToken:k,enqueueSnackbar:F,navigate:R})}),[C,w,k,M,F,R]),re=i.useCallback((function(e){(0,s.F)(M,"id",e.target.value)()}),[M]),ae=i.useCallback((function(e){(0,s.F)(M,"name",e.target.value)()}),[M]),oe=i.useCallback((function(e){(0,s.F)(M,"description",e.target.value)()}),[M]),se=i.useCallback((function(e,t){(0,s.F)(M,"dataTypeId",e.target.value)()}),[M]),le=i.useCallback((function(e){(0,s.F)(M,"regex",e.target.value)()}),[M]),ce=i.useCallback((function(e,t){(0,s.F)(M,"isRequired",t)()}),[M]),de=i.useCallback((function(e,t){(0,s.F)(M,"isMultiline",t)()}),[M]),ue=i.useCallback((function(e,t){(0,s.F)(M,"isNotDelete",t)()}),[M]),pe=i.useCallback((function(e){(0,d.n)("optionDrop",{entityId:M})()}),[M]);return i.useEffect((function(){!E&&M&&"0"!==M&&C&&(0,l.y)({entityId:M,url:C,path:w,withAccessToken:k})(F,R)}),[E,C,w,k,M,F,R]),i.useEffect((function(){return function(){(0,c.z)(M)()}}),[M]),(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(y.Z,{visible:"undefined"===typeof J||E}),(0,A.jsxs)("form",{onSubmit:ie,style:{display:"undefined"===typeof J||E?"none":"initial"},children:[(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(f.default,{disabled:J,name:"id",label:"id",helperText:"Unique identificator",placeholder:"For example: test-entity-id",value:U||"",onChange:re,error:$})}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(f.default,{disabled:J,required:!0,name:"name",label:"Name",placeholder:"For example: Test option",value:H||"",onChange:ae,error:Y})}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(f.default,{disabled:J,multiline:!0,rows:3,name:"description",label:"Description",value:W||"",onChange:oe,error:G})}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(v.Z,{required:!0,disabled:J,name:"dataTypeId",label:"Data type",value:z||"",onChange:se,error:X})}),z?(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(b.Z,{entityId:M,name:"defaultValue",label:"Default value"})}):(0,A.jsx)(i.Fragment,{}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(f.default,{disabled:J,name:"regex",label:"Regular expression",placeholder:"For example: ^[0-9]+$",value:L||"",onChange:le,error:_})}),"manyToMany"===t&&M&&"string"===typeof M&&"0"!==M?(0,A.jsx)(g.Z,{withAccessToken:!0,url:C,path:N,storeName:"".concat(n,"Option"),filterOptions:S,columns:T,title:D,description:O,children:(0,A.jsx)(q,{withAccessToken:!0,entityId:M,url:C,path:N,pathCreate:I,storeName:"".concat(n,"Option")})}):(0,A.jsx)(i.Fragment,{}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(j.default,{disabled:J,name:"isRequired",label:"Required to fill",value:!!V,onChange:ce,error:ee})}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(j.default,{disabled:J,name:"isMultiline",label:"Multidimensional value",value:!!Q,onChange:de,error:te})}),(0,A.jsx)(p.Z,{py:2,children:(0,A.jsx)(j.default,{disabled:J,name:"isNotDelete",label:"Make entry undeletable",value:!!B,onChange:ue,error:ne})}),(0,A.jsxs)(x.ZP,{container:!0,spacing:3,alignItems:"center",justifyContent:"flex-end",children:[(0,A.jsx)(x.ZP,{item:!0,xs:!1,children:(0,A.jsx)(h.Z,{disableElevation:!0,disabled:J,type:"submit",variant:"contained",color:"secondary",startIcon:J?(0,A.jsx)(y.Z,{visible:!0,wrapper:{sx:{padding:"0px"}},sx:{minWidth:"24px",maxWidth:"24px",minHeight:"24px",maxHeight:"24px"}}):(0,A.jsx)(m.Z,{}),children:"Save"})}),!B&&M&&"string"===typeof M&&"0"!==M?(0,A.jsx)(x.ZP,{item:!0,xs:!1,children:(0,A.jsx)(h.Z,{disableElevation:!0,disabled:J,variant:"contained",color:"error",startIcon:(0,A.jsx)(Z.Z,{}),onClick:pe,children:K?"Delete permanently":"Delete"})}):(0,A.jsx)(i.Fragment,{})]})]})]})};(M=i.memo(M)).defaultProps={type:"manyToMany"};var R=M},5851:function(e,t,n){n.d(t,{Z:function(){return V}});var i=n(1413),r=n(2791),a=n(6030),o=n(7689),s=n(393),l=n(6386),c=n(4307),d=n(2772),u=n(2606),p=n(4432),x=n(708),h=n(6601),m=n(6015),Z=n(9827),f=n(9773),j=n(807),v=n(4390),y=n(4565),g=n(3811),b=n(2898),k=n(1251),C=n(1713),w=n(5987),N=n(1895),I=n(2399),D=n(9320),O=n(5702),q=n(5514),S=n(4346),T=n(7247),F=n(1286),P=n(6120),A=n(3939),M=n(6153),R=n(184),E=["storeName","entityId","url","path","withAccessToken","isDeleted","isNotDelete"],J=function(e){var t=e.storeName,n=e.entityId,a=e.url,o=e.path,l=e.withAccessToken,c=e.isDeleted,d=e.isNotDelete,u=(0,w.Z)(e,E),p=(0,s.Ds)().enqueueSnackbar,x=r.useCallback((function(e){(0,N.Q)()()}),[]),h=r.useCallback((function(e){(0,I.n)("optionDrop",{entityId:n})(),(0,N.Q)()()}),[n]),m=r.useCallback((function(e){(0,D.U)({storeName:t,entityId:n,url:a,path:o,withAccessToken:l})(p),(0,N.Q)()()}),[t,n,a,o,l,p]);return(0,R.jsx)(r.Fragment,{children:(0,R.jsxs)(M.Z,(0,i.Z)((0,i.Z)({},u),{},{children:[(0,R.jsxs)(O.Z,{component:C.Z,to:n,onClick:x,children:[(0,R.jsx)(q.Z,{children:(0,R.jsx)(F.Z,{})}),(0,R.jsx)(S.Z,{children:"Edit"})]}),(0,R.jsxs)(O.Z,{disabled:!0,children:[(0,R.jsx)(q.Z,{children:(0,R.jsx)(P.Z,{})}),(0,R.jsx)(S.Z,{children:"Copy"})]}),c&&(0,R.jsxs)(O.Z,{onClick:m,children:[(0,R.jsx)(q.Z,{children:(0,R.jsx)(A.Z,{})}),(0,R.jsx)(S.Z,{children:"Restore"})]}),!d&&(0,R.jsxs)(O.Z,{onClick:h,children:[(0,R.jsx)(q.Z,{children:(0,R.jsx)(T.Z,{color:c?"error":"inherit"})}),(0,R.jsx)(S.Z,{children:c?"Delete permanently":"Delete"})]})]}))})};(J=r.memo(J)).defaultProps={};var U=J,H=n(4486),W=n(3343),z=n(9042),L=function(e){var t,n,w,N=e.withAccessToken,I=e.storeName,D=e.url,O=e.path,q=(0,s.Ds)().enqueueSnackbar,S=(0,o.TH)(),T=(0,o.s0)(),F=(0,a.v9)((0,x.Z)(["loader","unmount","visible"])),P=(0,a.v9)((0,x.Z)(["api","list",I,"loader"])),A=null!==(t=(0,a.v9)((0,x.Z)(["api","list",I,"total"])))&&void 0!==t?t:0,M=null!==(n=(0,a.v9)((0,x.Z)(["api","list",I,"page"])))&&void 0!==n?n:1,E=null!==(w=(0,a.v9)((0,x.Z)(["api","list",I,"limit"])))&&void 0!==w?w:20,J=(0,a.v9)((0,x.Z)(["api","list",I,"data"])),L=(0,h.Z)("query",S.search),V=(0,h.Z)("select",S.search),Q=(0,h.Z)("filter",S.search),B=(0,h.Z)("sort",S.search),K=r.useCallback((function(e,t){(0,d.P)(I,"loader",!0)(),(0,d.P)(I,"page",t)()}),[I]),$=r.useCallback((function(e){(0,d.P)(I,"loader",!0)(),(0,d.P)(I,"limit",e.target.value)()}),[I]),Y=r.useCallback((function(e){return function(t){(0,p.n)("menu-options-context-".concat(e),t.target)()}}),[]),G=r.useCallback((function(e){(0,d.P)("ssoUserList","loader",!0)(),T((0,W.z)("id",e))}),[T]),X=r.useCallback((function(e){(0,d.P)("ssoUserList","loader",!0)(),T((0,W.z)("createdAt",e))}),[T]);return r.useEffect((function(){!F&&D&&(0,c.i)((0,i.Z)((0,i.Z)((0,i.Z)({id:I,url:D,path:O,withAccessToken:N,page:M,limit:E,query:L},V?{select:JSON.parse(decodeURI(V))}:{}),Q?{filter:JSON.parse(decodeURI(Q))}:{}),B?{sort:JSON.parse(decodeURI(B))}:{}))(q)}),[F,q,M,E,L,V,Q,B,I,D,O,N]),r.useEffect((function(){return function(){(0,u.K)(I)()}}),[I]),(0,R.jsxs)(r.Fragment,{children:[(0,R.jsx)(k.Z,{visible:!Array.isArray(J)}),Array.isArray(J)?J.length>0?(0,R.jsxs)(H.Z,{withChangeLimit:!0,total:A,page:M,limit:E,length:J.length,onChange:K,onLimit:$,children:[(0,R.jsx)(Z.Z,{children:(0,R.jsxs)(j.Z,{children:[(0,R.jsx)(W.Z,{name:"id",onChange:G,children:(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"ID"})}),(0,R.jsx)(v.Z,{children:(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Main"})}),(0,R.jsx)(v.Z,{children:(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Data type"})}),(0,R.jsx)(v.Z,{children:(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Config"})}),(0,R.jsx)(W.Z,{name:"createdAt",onChange:X,children:(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Story"})})]})}),P||F?(0,R.jsxs)("tbody",{children:[(0,R.jsx)("tr",{children:(0,R.jsx)("td",{style:{position:"absolute",width:"100%"},children:(0,R.jsx)(k.Z,{visible:!0})})}),(0,R.jsx)("tr",{children:(0,R.jsx)("td",{style:{height:"160px",minHeight:"160px",maxHeight:"160px",paddingTop:"48px",paddingBottom:"48px"}})})]}):(0,R.jsx)(f.Z,{children:J.map((function(e,t){return(0,R.jsxs)(j.Z,{children:[(0,R.jsx)(v.Z,{sx:{minWidth:"17%"},children:(0,R.jsx)(y.Z,{component:C.Z,to:e.id,color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.id})}),(0,R.jsxs)(v.Z,{sx:{minWidth:"24%"},children:[(0,R.jsx)(y.Z,{component:C.Z,to:e.id,variant:"h6",color:e.isDeleted?"textSecondary":"secondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.name}),(0,R.jsx)(y.Z,{component:"div",variant:"subtitle1",color:"textSecondary",sx:{textDecoration:e.isDeleted?"line-through":"initial"},children:e.description})]}),(0,R.jsx)(v.Z,{sx:{minWidth:"19%"},children:(0,R.jsx)(y.Z,{component:"div",children:e.dataTypeId})}),(0,R.jsxs)(v.Z,{sx:{minWidth:"23%"},children:[(0,R.jsxs)(m.Z,{pb:1,children:[(0,R.jsx)(y.Z,{component:"div",variant:"caption",children:"Format:"}),(0,R.jsx)(y.Z,{component:"div",children:(0,R.jsx)("b",{children:e.isMultiline?"Multidimensional value":"Atomic value"})})]}),(0,R.jsxs)(m.Z,{sx:(0,i.Z)({},e.isDeleted?{textDecoration:"line-through",color:"textSecondary"}:{}),children:[(0,R.jsx)(y.Z,{component:"div",variant:"caption",children:"Required:"}),(0,R.jsx)(y.Z,{component:"div",children:(0,R.jsx)("b",{children:e.isRequired?"Required to fill":"Not required"})})]}),e.regex?(0,R.jsxs)(m.Z,{pt:1,children:[(0,R.jsx)(y.Z,{component:"div",variant:"caption",children:"Regex:"}),(0,R.jsx)(y.Z,{component:"div",children:(0,R.jsx)("b",{children:e.regex})})]}):(0,R.jsx)(r.Fragment,{})]}),(0,R.jsxs)(v.Z,{sx:{width:"16%"},children:[(0,z.Z)(e.createdAt)?(0,R.jsxs)(m.Z,{pb:1,children:[(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Created at:"}),(0,R.jsx)(y.Z,{component:"div",children:(0,R.jsx)("b",{children:(0,l.Z)(new Date(e.createdAt),"dd MMMM, hh:mm")})})]}):(0,R.jsx)(r.Fragment,{}),(0,z.Z)(e.updatedAt)?(0,R.jsxs)(m.Z,{children:[(0,R.jsx)(y.Z,{component:"div",variant:"caption",color:"textSecondary",children:"Updated at:"}),(0,R.jsx)(y.Z,{component:"div",children:(0,R.jsx)("b",{children:(0,l.Z)(new Date(e.updatedAt),"dd MMMM, hh:mm")})})]}):(0,R.jsx)(r.Fragment,{})]}),(0,R.jsxs)(v.Z,{sx:{width:"1%"},children:[(0,R.jsx)(g.Z,{onClick:Y(e.id),children:(0,R.jsx)(b.Z,{})}),(0,R.jsx)(U,{id:"menu-options-context-".concat(e.id),entityId:e.id,withAccessToken:N,storeName:I,url:D,path:O,isDeleted:e.isDeleted,isNotDelete:e.isNotDelete})]})]},e.id)}))})]}):(0,R.jsx)(m.Z,{py:6,display:"flex",justifyContent:"center",children:(0,R.jsx)(y.Z,{variant:"subtitle2",color:"secondary",children:"No entries created."})}):(0,R.jsx)(r.Fragment,{})]})};(L=r.memo(L)).defaultProps={};var V=L}}]);
//# sourceMappingURL=538.b9589272.chunk.js.map